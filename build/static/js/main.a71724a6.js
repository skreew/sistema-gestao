/*! For license information please see main.a71724a6.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,n)=>{t.exports=n(202)},153:(t,e,n)=>{var i=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},202:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,r)&&!S.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:k.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+T(l,0):s,_(o)?(r="",null!=t&&(r=t.replace(I,"$&/")+"/"),A(o,e,r,"",(function(t){return t}))):null!=o&&(C(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",_(t))for(var c=0;c<t.length;c++){var u=s+T(a=t[c],c);l+=A(a,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=A(a=a.value,e,r,u=s+T(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function M(t,e,n){if(null==t)return t;var i=[],r=0;return A(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function N(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:M,forEach:function(t,e,n){M(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=R,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=k.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=P.transition;P.transition={};try{t()}finally{P.transition=e}},e.unstable_act=R,e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.3.1"},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function _(t){if(m=!1,w(t),!g)if(null!==i(c))g=!0,P(x);else{var e=i(u);null!==e&&O(_,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var s=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&O(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,C=-1,I=5,T=-1;function A(){return!(e.unstable_now()-T<I)}function M(){if(null!==E){var t=e.unstable_now();T=t;var n=!0;try{n=E(!0,t)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(M)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=M,k=function(){D.postMessage(null)}}else k=function(){v(M,0)};function P(t){E=t,S||(S=!0,k())}function O(t,n){C=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,P(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(m?(y(C),C=-1):m=!0,O(_,s-o))):(t.sortIndex=a,n(c,t),g||p||(g=!0,P(x))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},391:(t,e,n)=>{var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},579:(t,e,n)=>{t.exports=n(153)},730:(t,e,n)=>{var i=n(43),r=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,F=Object.assign;function j(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function z(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(fr){var i=fr}Reflect.construct(t,[],e)}else{try{e.call()}catch(fr){i=fr}t.call(e.prototype)}else{try{throw Error()}catch(fr){i=fr}t()}}catch(fr){if(fr&&i&&"string"===typeof fr.stack){for(var r=fr.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function U(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case N:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(Ml){return t.body}}function Y(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function st(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,kt=null,St=null;function Et(t){if(t=_r(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=Sr(e),xt(t.stateNode,t.type,e))}}function Ct(t){kt?St?St.push(t):St=[t]:kt=t}function It(){if(kt){var t=kt,e=St;if(St=kt=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Tt(t,e){return t(e)}function At(){}var Mt=!1;function Nt(t,e,n){if(Mt)return t(e,n);Mt=!0;try{return Tt(t,e,n)}finally{Mt=!1,(null!==kt||null!==St)&&(At(),It())}}function Dt(t,e){var n=t.stateNode;if(null===n)return null;var i=Sr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Pt=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){Pt=!1}function Rt(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,jt=!1,Vt=null,zt={onError:function(t){Lt=!0,Ft=t}};function Ut(t,e,n,i,r,s,o,a,l){Lt=!1,Ft=null,Rt.apply(zt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Bt(t)!==t)throw Error(s(188))}function qt(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Wt(r),t;if(o===i)return Wt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),null!==t?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,$t=r.unstable_requestPaint,Xt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=he(a):0!==(s&=o)&&(i=he(s))}else 0!==(o=n&~r)?i=he(o):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,xe,ke,Se,Ee,Ce=!1,Ie=[],Te=null,Ae=null,Me=null,Ne=new Map,De=new Map,Pe=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Me=null;break;case"pointerover":case"pointerout":Ne.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(e.pointerId)}}function Le(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=_r(e))&&xe(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Fe(t){var e=wr(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Ee(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=_r(n))&&xe(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);wt=i,n.target.dispatchEvent(i),wt=null,e.shift()}return!0}function Ve(t,e,n){je(t)&&n.delete(e)}function ze(){Ce=!1,null!==Te&&je(Te)&&(Te=null),null!==Ae&&je(Ae)&&(Ae=null),null!==Me&&je(Me)&&(Me=null),Ne.forEach(Ve),De.forEach(Ve)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ze)))}function Be(t){function e(e){return Ue(e,t)}if(0<Ie.length){Ue(Ie[0],t);for(var n=1;n<Ie.length;n++){var i=Ie[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Te&&Ue(Te,t),null!==Ae&&Ue(Ae,t),null!==Me&&Ue(Me,t),Ne.forEach(e),De.forEach(e),n=0;n<Pe.length;n++)(i=Pe[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Pe.length&&null===(n=Pe[0]).blockedOn;)Fe(n),null===n.blockedOn&&Pe.shift()}var He=w.ReactCurrentBatchConfig,We=!0;function qe(t,e,n,i){var r=be,s=He.transition;He.transition=null;try{be=1,Ge(t,e,n,i)}finally{be=r,He.transition=s}}function Ke(t,e,n,i){var r=be,s=He.transition;He.transition=null;try{be=4,Ge(t,e,n,i)}finally{be=r,He.transition=s}}function Ge(t,e,n,i){if(We){var r=Ye(t,e,n,i);if(null===r)Wi(t,e,i,Qe,n),Re(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Te=Le(Te,t,e,n,i,r),!0;case"dragenter":return Ae=Le(Ae,t,e,n,i,r),!0;case"mouseover":return Me=Le(Me,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ne.set(s,Le(Ne.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,De.set(s,Le(De.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Re(t,i),4&e&&-1<Oe.indexOf(t)){for(;null!==r;){var s=_r(r);if(null!==s&&_e(s),null===(s=Ye(t,e,n,i))&&Wi(t,e,i,Qe,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wi(t,e,i,null,n)}}var Qe=null;function Ye(t,e,n,i){if(Qe=null,null!==(t=wr(t=_t(i))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,r="value"in Xe?Xe.value:Xe.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function En(){return Sn}var Cn=F({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=sn(Cn),Tn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Nn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Fn=u&&(!On||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Vn=!1;function zn(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,i){Ct(i),0<(e=Ki(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Qn(t){ji(t,0)}function Yn(t){if(G(kr(t)))return t}function $n(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Kn&&(Kn.detachEvent("onpropertychange",ni),Gn=Kn=null)}function ni(t){if("value"===t.propertyName&&Yn(Gn)){var e=[];qn(e,Gn,t,_t(t)),Nt(Qn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Gn=n,(Kn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Gn)}function si(t,e){if("click"===t)return Yn(e)}function oi(t,e){if("input"===t||"change"===t)return Yn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,bi=!1;function wi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==Q(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Ki(vi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function _i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},ki={},Si={};function Ei(t){if(ki[t])return ki[t];if(!xi[t])return t;var e,n=xi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return ki[t]=n[e];return t}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ci=Ei("animationend"),Ii=Ei("animationiteration"),Ti=Ei("animationstart"),Ai=Ei("transitionend"),Mi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){Mi.set(t,e),l(e,[t])}for(var Pi=0;Pi<Ni.length;Pi++){var Oi=Ni[Pi];Di(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}Di(Ci,"onAnimationEnd"),Di(Ii,"onAnimationIteration"),Di(Ti,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Ai,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Fi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(Ut.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=Ft;Lt=!1,Ft=null,jt||(jt=!0,Vt=u)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Fi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Fi(r,a,c),s=l}}}if(jt)throw t=Vt,jt=!1,Vt=null,t}function Vi(t,e){var n=e[vr];void 0===n&&(n=e[vr]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function zi(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[Ui]){t[Ui]=!0,o.forEach((function(e){"selectionchange"!==e&&(Li.has(e)||zi(e,!1,t),zi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ui]||(e[Ui]=!0,zi("selectionchange",!1,e))}}function Hi(t,e,n,i){switch($e(e)){case 1:var r=qe;break;case 4:r=Ke;break;default:r=Ge}n=r.bind(null,e,n,t),r=void 0,!Pt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=wr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Nt((function(){var i=s,r=_t(n),o=[];t:{var a=Mi.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ci:case Ii:case Ti:l=vn;break;case Ai:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Dt(p,d))&&u.push(qi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!wr(c)&&!c[mr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?wr(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Tn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:kr(l),f=null==c?a:kr(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,wr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gi(f))p++;for(f=0,g=d;g;g=Gi(g))f++;for(;0<p-f;)u=Gi(u),p--;for(;0<f-p;)d=Gi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gi(u),d=Gi(d)}u=null}else u=null;null!==l&&Qi(o,a,l,u,!1),null!==c&&null!==h&&Qi(o,h,c,u,!0)}if("select"===(l=(a=i?kr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=$n;else if(Wn(a))if(Xn)m=oi;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(t,i))?qn(o,m,n,r):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=i?kr(i):window,t){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(o,n,r)}var y;if(On)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?zn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=tn()):(Je="value"in(Xe=r)?Xe.value:Xe.textContent,Bn=!0)),0<(v=Ki(i,b)).length&&(b=new wn(b,t,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Vn=!0,jn);case"textInput":return(t=e.data)===jn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!On&&zn(t,e)?(t=tn(),Ze=Je=Xe=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Ki(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}ji(o,e)}))}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ki(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Dt(t,n))&&i.unshift(qi(t,s,r)),null!=(s=Dt(t,e))&&i.push(qi(t,s,r))),t=t.return}return i}function Gi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Dt(n,s))&&o.unshift(qi(n,l,a)):r||null!=(l=Dt(n,s))&&o.push(qi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Yi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Xi(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace($i,"")}function Ji(t,e,n){if(e=Xi(e),Xi(t)!==e&&n)throw Error(s(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Be(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Be(e)}function ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),pr="__reactFiber$"+dr,gr="__reactProps$"+dr,mr="__reactContainer$"+dr,vr="__reactEvents$"+dr,yr="__reactListeners$"+dr,br="__reactHandles$"+dr;function wr(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[pr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=hr(t);null!==t;){if(n=t[pr])return n;t=hr(t)}return e}n=(t=n).parentNode}return null}function _r(t){return!(t=t[pr]||t[mr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function kr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Sr(t){return t[gr]||null}var Er=[],Ir=-1;function Tr(t){return{current:t}}function Ar(t){0>Ir||(t.current=Er[Ir],Er[Ir]=null,Ir--)}function Mr(t,e){Ir++,Er[Ir]=t.current,t.current=e}var Nr={},Dr=Tr(Nr),Pr=Tr(!1),Or=Nr;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Nr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Fr(){Ar(Pr),Ar(Dr)}function jr(t,e,n){if(Dr.current!==Nr)throw Error(s(168));Mr(Dr,e),Mr(Pr,n)}function Vr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,H(t)||"Unknown",r));return F({},n,i)}function zr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,Or=Dr.current,Mr(Dr,t),Mr(Pr,Pr.current),!0}function Ur(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Vr(t,e,Or),i.__reactInternalMemoizedMergedChildContext=t,Ar(Pr),Ar(Dr),Mr(Dr,t)):Ar(Pr),Mr(Pr,n)}var Br=null,Hr=!1,Wr=!1;function qr(t){null===Br?Br=[t]:Br.push(t)}function Kr(){if(!Wr&&null!==Br){Wr=!0;var t=0,e=be;try{var n=Br;for(be=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Br=null,Hr=!1}catch(r){throw null!==Br&&(Br=Br.slice(t+1)),Gt(Zt,Kr),r}finally{be=e,Wr=!1}}return null}var Gr=[],Qr=0,Yr=null,$r=0,Xr=[],Jr=0,Zr=null,ts=1,es="";function ns(t,e){Gr[Qr++]=$r,Gr[Qr++]=Yr,Yr=t,$r=e}function is(t,e,n){Xr[Jr++]=ts,Xr[Jr++]=es,Xr[Jr++]=Zr,Zr=t;var i=ts;t=es;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ts=1<<32-oe(e)+r|n<<r|i,es=s+t}else ts=1<<s|n<<r|i,es=t}function rs(t){null!==t.return&&(ns(t,1),is(t,1,0))}function ss(t){for(;t===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,$r=Gr[--Qr],Gr[Qr]=null;for(;t===Zr;)Zr=Xr[--Jr],Xr[Jr]=null,es=Xr[--Jr],Xr[Jr]=null,ts=Xr[--Jr],Xr[Jr]=null}var os=null,as=null,ls=!1,cs=null;function us(t,e){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function hs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,os=t,as=ur(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,os=t,as=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Zr?{id:ts,overflow:es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,os=t,as=null,!0);default:return!1}}function ds(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function fs(t){if(ls){var e=as;if(e){var n=e;if(!hs(t,e)){if(ds(t))throw Error(s(418));e=ur(n.nextSibling);var i=os;e&&hs(t,e)?us(i,n):(t.flags=-4097&t.flags|2,ls=!1,os=t)}}else{if(ds(t))throw Error(s(418));t.flags=-4097&t.flags|2,ls=!1,os=t}}}function ps(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;os=t}function gs(t){if(t!==os)return!1;if(!ls)return ps(t),ls=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=as)){if(ds(t))throw ms(),Error(s(418));for(;e;)us(t,e),e=ur(e.nextSibling)}if(ps(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){as=ur(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}as=null}}else as=os?ur(t.stateNode.nextSibling):null;return!0}function ms(){for(var t=as;t;)t=ur(t.nextSibling)}function vs(){as=os=null,ls=!1}function ys(t){null===cs?cs=[t]:cs.push(t)}var bs=w.ReactCurrentBatchConfig;function ws(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function _s(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xs(t){return(0,t._init)(t._payload)}function ks(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Vc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Hc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===k?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&xs(s)===e.type)?((i=r(e,n.props)).ref=ws(t,e,n),i.return=t,i):((i=zc(n.type,n.key,n.props,null,t.mode,i)).ref=ws(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Wc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Uc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Hc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=zc(e.type,e.key,e.props,null,t.mode,n)).ref=ws(t,null,e),n.return=t,n;case x:return(e=Wc(e,t.mode,n)).return=t,e;case D:return d(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Uc(e,t.mode,n,null)).return=t,e;_s(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(t,e,n,i):null;case x:return n.key===r?u(t,e,n,i):null;case D:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||R(n))return null!==r?null:h(t,e,n,i,null);_s(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case x:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case D:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||R(i))return h(e,t=t.get(n)||null,i,r,null);_s(e,i)}return null}function g(r,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(r,h,a[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(r,h),ls&&ns(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return ls&&ns(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(r,t)})),ls&&ns(r,g),c}function m(r,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(r,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(r,g),ls&&ns(r,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return ls&&ns(r,m),u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(r,t)})),ls&&ns(r,m),u}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&xs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=ws(i,u,o),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}o.type===k?((s=Uc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=zc(o.type,o.key,o.props,null,i.mode,l)).ref=ws(i,s,o),l.return=i,i=l)}return a(i);case x:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=Wc(o,i.mode,l)).return=i,i=s}return a(i);case D:return t(i,s,(u=o._init)(o._payload),l)}if(et(o))return g(i,s,o,l);if(R(o))return m(i,s,o,l);_s(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Hc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Ss=ks(!0),Es=ks(!1),Cs=Tr(null),Is=null,Ts=null,As=null;function Ms(){As=Ts=Is=null}function Ns(t){var e=Cs.current;Ar(Cs),t._currentValue=e}function Ds(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){Is=t,As=Ts=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Sa=!0),t.firstContext=null)}function Os(t){var e=t._currentValue;if(As!==t)if(t={context:t,memoizedValue:e,next:null},null===Ts){if(null===Is)throw Error(s(308));Ts=t,Is.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var Rs=null;function Ls(t){null===Rs?Rs=[t]:Rs.push(t)}function Fs(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Ls(e)):(n.next=r.next,r.next=n),e.interleaved=n,js(t,i)}function js(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Vs=!1;function zs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ol)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,js(t,n)}return null===(r=i.interleaved)?(e.next=e,Ls(i)):(e.next=r.next,r.next=e),i.interleaved=e,js(t,n)}function Ws(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function qs(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ks(t,e,n,i){var r=t.updateQueue;Vs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=F({},h,d);break t;case 2:Vs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Bl|=o,t.lanes=o,t.memoizedState=h}}function Gs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Qs={},$s=Tr(Qs),Xs=Tr(Qs),Js=Tr(Qs);function Zs(t){if(t===Qs)throw Error(s(174));return t}function to(t,e){switch(Mr(Js,e),Mr(Xs,t),Mr($s,Qs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ar($s),Mr($s,e)}function eo(){Ar($s),Ar(Xs),Ar(Js)}function no(t){Zs(Js.current);var e=Zs($s.current),n=lt(e,t.type);e!==n&&(Mr(Xs,t),Mr($s,n))}function io(t){Xs.current===t&&(Ar($s),Ar(Xs))}var ro=Tr(0);function so(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oo=[];function ao(){for(var t=0;t<oo.length;t++)oo[t]._workInProgressVersionPrimary=null;oo.length=0}var lo=w.ReactCurrentDispatcher,co=w.ReactCurrentBatchConfig,uo=0,ho=null,fo=null,po=null,go=!1,mo=!1,vo=0,yo=0;function bo(){throw Error(s(321))}function wo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function _o(t,e,n,i,r,o){if(uo=o,ho=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lo.current=null===t||null===t.memoizedState?ra:sa,t=n(i,r),mo){o=0;do{if(mo=!1,vo=0,25<=o)throw Error(s(301));o+=1,po=fo=null,e.updateQueue=null,lo.current=oa,t=n(i,r)}while(mo)}if(lo.current=ia,e=null!==fo&&null!==fo.next,uo=0,po=fo=ho=null,go=!1,e)throw Error(s(300));return t}function xo(){var t=0!==vo;return vo=0,t}function ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?ho.memoizedState=po=t:po=po.next=t,po}function So(){if(null===fo){var t=ho.alternate;t=null!==t?t.memoizedState:null}else t=fo.next;var e=null===po?ho.memoizedState:po.next;if(null!==e)po=e,fo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(fo=t).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?ho.memoizedState=po=t:po=po.next=t}return po}function Eo(t,e){return"function"===typeof e?e(t):e}function Co(t){var e=So(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=fo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((uo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,ho.lanes|=h,Bl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(Sa=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,ho.lanes|=o,Bl|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Io(t){var e=So(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(Sa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function To(){}function Ao(t,e){var n=ho,i=So(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,Sa=!0),i=i.queue,Uo(Do.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==po&&1&po.memoizedState.tag){if(n.flags|=2048,Lo(9,No.bind(null,n,i,r,e),void 0,null),null===Rl)throw Error(s(349));0!==(30&uo)||Mo(n,e,r)}return r}function Mo(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ho.updateQueue)?(e={lastEffect:null,stores:null},ho.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function No(t,e,n,i){e.value=n,e.getSnapshot=i,Po(e)&&Oo(t)}function Do(t,e,n){return n((function(){Po(e)&&Oo(t)}))}function Po(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Oo(t){var e=js(t,1);null!==e&&lc(e,t,1,-1)}function Ro(t){var e=ko();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:t},e.queue=t,t=t.dispatch=Zo.bind(null,ho,t),[e.memoizedState,t]}function Lo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=ho.updateQueue)?(e={lastEffect:null,stores:null},ho.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Fo(){return So().memoizedState}function jo(t,e,n,i){var r=ko();ho.flags|=t,r.memoizedState=Lo(1|e,n,void 0,void 0===i?null:i)}function Vo(t,e,n,i){var r=So();i=void 0===i?null:i;var s=void 0;if(null!==fo){var o=fo.memoizedState;if(s=o.destroy,null!==i&&wo(i,o.deps))return void(r.memoizedState=Lo(e,n,s,i))}ho.flags|=t,r.memoizedState=Lo(1|e,n,s,i)}function zo(t,e){return jo(8390656,8,t,e)}function Uo(t,e){return Vo(2048,8,t,e)}function Bo(t,e){return Vo(4,2,t,e)}function Ho(t,e){return Vo(4,4,t,e)}function Wo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function qo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Vo(4,4,Wo.bind(null,e,t),n)}function Ko(){}function Go(t,e){var n=So();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&wo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Qo(t,e){var n=So();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&wo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Yo(t,e,n){return 0===(21&uo)?(t.baseState&&(t.baseState=!1,Sa=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),ho.lanes|=n,Bl|=n,t.baseState=!0),e)}function $o(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var i=co.transition;co.transition={};try{t(!1),e()}finally{be=n,co.transition=i}}function Xo(){return So().memoizedState}function Jo(t,e,n){var i=ac(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ta(t))ea(e,n);else if(null!==(n=Fs(t,e,n,i))){lc(n,t,i,oc()),na(n,e,i)}}function Zo(t,e,n){var i=ac(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ta(t))ea(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,Ls(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(fr){}null!==(n=Fs(t,e,r,i))&&(lc(n,t,i,r=oc()),na(n,e,i))}}function ta(t){var e=t.alternate;return t===ho||null!==e&&e===ho}function ea(t,e){mo=go=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function na(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var ia={readContext:Os,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},ra={readContext:Os,useCallback:function(t,e){return ko().memoizedState=[t,void 0===e?null:e],t},useContext:Os,useEffect:zo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,jo(4194308,4,Wo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jo(4194308,4,t,e)},useInsertionEffect:function(t,e){return jo(4,2,t,e)},useMemo:function(t,e){var n=ko();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ko();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Jo.bind(null,ho,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ko().memoizedState=t},useState:Ro,useDebugValue:Ko,useDeferredValue:function(t){return ko().memoizedState=t},useTransition:function(){var t=Ro(!1),e=t[0];return t=$o.bind(null,t[1]),ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ho,r=ko();if(ls){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Rl)throw Error(s(349));0!==(30&uo)||Mo(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,zo(Do.bind(null,i,o,t),[t]),i.flags|=2048,Lo(9,No.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ko(),e=Rl.identifierPrefix;if(ls){var n=es;e=":"+e+"R"+(n=(ts&~(1<<32-oe(ts)-1)).toString(32)+n),0<(n=vo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=yo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sa={readContext:Os,useCallback:Go,useContext:Os,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Bo,useLayoutEffect:Ho,useMemo:Qo,useReducer:Co,useRef:Fo,useState:function(){return Co(Eo)},useDebugValue:Ko,useDeferredValue:function(t){return Yo(So(),fo.memoizedState,t)},useTransition:function(){return[Co(Eo)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Xo,unstable_isNewReconciler:!1},oa={readContext:Os,useCallback:Go,useContext:Os,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Bo,useLayoutEffect:Ho,useMemo:Qo,useReducer:Io,useRef:Fo,useState:function(){return Io(Eo)},useDebugValue:Ko,useDeferredValue:function(t){var e=So();return null===fo?e.memoizedState=t:Yo(e,fo.memoizedState,t)},useTransition:function(){return[Io(Eo)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Xo,unstable_isNewReconciler:!1};function aa(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function la(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ca={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=oc(),r=ac(t),s=Bs(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Hs(t,s,r))&&(lc(e,t,r,i),Ws(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=oc(),r=ac(t),s=Bs(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Hs(t,s,r))&&(lc(e,t,r,i),Ws(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=oc(),i=ac(t),r=Bs(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Hs(t,r,i))&&(lc(e,t,i,n),Ws(e,t,i))}};function ua(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function ha(t,e,n){var i=!1,r=Nr,s=e.contextType;return"object"===typeof s&&null!==s?s=Os(s):(r=Lr(e)?Or:Dr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Rr(t,r):Nr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ca,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function da(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ca.enqueueReplaceState(e,e.state,null)}function fa(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},zs(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Os(s):(s=Lr(e)?Or:Dr.current,r.context=Rr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(la(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ca.enqueueReplaceState(r,r.state,null),Ks(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function pa(t,e){try{var n="",i=e;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function ga(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ma(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var va="function"===typeof WeakMap?WeakMap:Map;function ya(t,e,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){$l||($l=!0,Xl=i),ma(0,e)},n}function ba(t,e,n){(n=Bs(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ma(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ma(0,e),"function"!==typeof i&&(null===Jl?Jl=new Set([this]):Jl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function wa(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new va;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Nc.bind(null,t,e,n),e.then(t,t))}function _a(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function xa(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Bs(-1,1)).tag=2,Hs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ka=w.ReactCurrentOwner,Sa=!1;function Ea(t,e,n,i){e.child=null===t?Es(e,null,n,i):Ss(e,t.child,n,i)}function Ca(t,e,n,i,r){n=n.render;var s=e.ref;return Ps(e,r),i=_o(t,e,n,i,s,r),n=xo(),null===t||Sa?(ls&&n&&rs(e),e.flags|=1,Ea(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ya(t,e,r))}function Ia(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=zc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Ta(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ya(t,e,r)}return e.flags|=1,(t=Vc(s,i)).ref=e.ref,t.return=e,e.child=t}function Ta(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(Sa=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Ya(t,e,r);0!==(131072&t.flags)&&(Sa=!0)}}return Na(t,e,n,i,r)}function Aa(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(Vl,jl),jl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mr(Vl,jl),jl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Mr(Vl,jl),jl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Mr(Vl,jl),jl|=i;return Ea(t,e,r,n),e.child}function Ma(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Na(t,e,n,i,r){var s=Lr(n)?Or:Dr.current;return s=Rr(e,s),Ps(e,r),n=_o(t,e,n,i,s,r),i=xo(),null===t||Sa?(ls&&i&&rs(e),e.flags|=1,Ea(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ya(t,e,r))}function Da(t,e,n,i,r){if(Lr(n)){var s=!0;zr(e)}else s=!1;if(Ps(e,r),null===e.stateNode)Qa(t,e),ha(e,n,i),fa(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Rr(e,c=Lr(n)?Or:Dr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&da(e,o,i,c),Vs=!1;var d=e.memoizedState;o.state=d,Ks(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Pr.current||Vs?("function"===typeof u&&(la(e,n,u,i),l=e.memoizedState),(a=Vs||ua(e,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Us(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:aa(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Os(l):l=Rr(e,l=Lr(n)?Or:Dr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&da(e,o,i,l),Vs=!1,d=e.memoizedState,o.state=d,Ks(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Pr.current||Vs?("function"===typeof f&&(la(e,n,f,i),p=e.memoizedState),(c=Vs||ua(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Pa(t,e,n,i,s,r)}function Pa(t,e,n,i,r,s){Ma(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Ur(e,n,!1),Ya(t,e,s);i=e.stateNode,ka.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=Ss(e,t.child,null,s),e.child=Ss(e,null,a,s)):Ea(t,e,a,s),e.memoizedState=i.state,r&&Ur(e,n,!0),e.child}function Oa(t){var e=t.stateNode;e.pendingContext?jr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&jr(0,e.context,!1),to(t,e.containerInfo)}function Ra(t,e,n,i,r){return vs(),ys(r),e.flags|=256,Ea(t,e,n,i),e.child}var La,Fa,ja,Va,za={dehydrated:null,treeContext:null,retryLane:0};function Ua(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ba(t,e,n){var i,r=e.pendingProps,o=ro.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Mr(ro,1&o),null===t)return fs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Bc(l,r,0,null),t=Uc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ua(n),e.memoizedState=za,t):Ha(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,Wa(t,e,a,i=ga(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Bc({mode:"visible",children:i.children},r,0,null),(o=Uc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&Ss(e,t.child,null,a),e.child.memoizedState=Ua(a),e.memoizedState=za,o);if(0===(1&e.mode))return Wa(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Wa(t,e,a,i=ga(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),Sa||l){if(null!==(i=Rl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,js(t,r),lc(i,t,r,-1))}return _c(),Wa(t,e,a,i=ga(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Pc.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,as=ur(r.nextSibling),os=e,ls=!0,cs=null,null!==t&&(Xr[Jr++]=ts,Xr[Jr++]=es,Xr[Jr++]=Zr,ts=t.id,es=t.overflow,Zr=e),e=Ha(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Vc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Vc(i,a):(a=Uc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=za,r}return t=(a=t.child).sibling,r=Vc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ha(t,e){return(e=Bc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Wa(t,e,n,i){return null!==i&&ys(i),Ss(e,t.child,null,n),(t=Ha(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function qa(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Ds(t.return,e,n)}function Ka(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ga(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ea(t,e,i.children,n),0!==(2&(i=ro.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&qa(t,n,e);else if(19===t.tag)qa(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Mr(ro,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===so(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ka(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===so(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ka(e,!0,n,null,s);break;case"together":Ka(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ya(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Bl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Vc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Vc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $a(t,e){if(!ls)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ja(t,e,n){var i=e.pendingProps;switch(ss(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(e),null;case 1:case 17:return Lr(e.type)&&Fr(),Xa(e),null;case 3:return i=e.stateNode,eo(),Ar(Pr),Ar(Dr),ao(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(gs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==cs&&(dc(cs),cs=null))),Fa(t,e),Xa(e),null;case 5:io(e);var r=Zs(Js.current);if(n=e.type,null!==t&&null!=e.stateNode)ja(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Xa(e),null}if(t=Zs($s.current),gs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[pr]=e,i[gr]=o,t=0!==(1&e.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)Vi(Ri[r],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":$(i,o),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",i);break;case"textarea":rt(i,o),Vi("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":K(i),Z(i,o,!0);break;case"textarea":K(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[pr]=e,t[gr]=i,La(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,i),n){case"dialog":Vi("cancel",t),Vi("close",t),r=i;break;case"iframe":case"object":case"embed":Vi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)Vi(Ri[r],t);r=i;break;case"source":Vi("error",t),r=i;break;case"img":case"image":case"link":Vi("error",t),Vi("load",t),r=i;break;case"details":Vi("toggle",t),r=i;break;case"input":$(t,i),r=Y(t,i),Vi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Vi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Vi("invalid",t)}for(o in yt(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vi("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":K(t),Z(t,i,!1);break;case"textarea":K(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xa(e),null;case 6:if(t&&null!=e.stateNode)Va(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=Zs(Js.current),Zs($s.current),gs(e)){if(i=e.stateNode,n=e.memoizedProps,i[pr]=e,(o=i.nodeValue!==n)&&null!==(t=os))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[pr]=e,e.stateNode=i}return Xa(e),null;case 13:if(Ar(ro),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ls&&null!==as&&0!==(1&e.mode)&&0===(128&e.flags))ms(),vs(),e.flags|=98560,o=!1;else if(o=gs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[pr]=e}else vs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xa(e),o=!1}else null!==cs&&(dc(cs),cs=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ro.current)?0===zl&&(zl=3):_c())),null!==e.updateQueue&&(e.flags|=4),Xa(e),null);case 4:return eo(),Fa(t,e),null===t&&Bi(e.stateNode.containerInfo),Xa(e),null;case 10:return Ns(e.type._context),Xa(e),null;case 19:if(Ar(ro),null===(o=e.memoizedState))return Xa(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)$a(o,!1);else{if(0!==zl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=so(t))){for(e.flags|=128,$a(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mr(ro,1&ro.current|2),e.child}t=t.sibling}null!==o.tail&&Xt()>Ql&&(e.flags|=128,i=!0,$a(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=so(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$a(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ls)return Xa(e),null}else 2*Xt()-o.renderingStartTime>Ql&&1073741824!==n&&(e.flags|=128,i=!0,$a(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=ro.current,Mr(ro,i?1&n|2:1&n),e):(Xa(e),null);case 22:case 23:return vc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&jl)&&(Xa(e),6&e.subtreeFlags&&(e.flags|=8192)):Xa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Za(t,e){switch(ss(e),e.tag){case 1:return Lr(e.type)&&Fr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return eo(),Ar(Pr),Ar(Dr),ao(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return io(e),null;case 13:if(Ar(ro),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));vs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ar(ro),null;case 4:return eo(),null;case 10:return Ns(e.type._context),null;case 22:case 23:return vc(),null;default:return null}}La=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fa=function(){},ja=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Zs($s.current);var s,o=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in yt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vi("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Va=function(t,e,n,i){n!==i&&(e.flags|=4)};var tl=!1,el=!1,nl="function"===typeof WeakSet?WeakSet:Set,il=null;function rl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Mc(t,e,i)}else n.current=null}function sl(t,e,n){try{n()}catch(i){Mc(t,e,i)}}var ol=!1;function al(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&sl(e,n,s)}r=r.next}while(r!==i)}}function ll(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function cl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ul(t){var e=t.alternate;null!==e&&(t.alternate=null,ul(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[pr],delete e[gr],delete e[vr],delete e[yr],delete e[br])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hl(t){return 5===t.tag||3===t.tag||4===t.tag}function dl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||hl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function fl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(fl(t,e,n),t=t.sibling;null!==t;)fl(t,e,n),t=t.sibling}function pl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(pl(t,e,n),t=t.sibling;null!==t;)pl(t,e,n),t=t.sibling}var gl=null,ml=!1;function vl(t,e,n){for(n=n.child;null!==n;)yl(t,e,n),n=n.sibling}function yl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:el||rl(n,e);case 6:var i=gl,r=ml;gl=null,vl(t,e,n),ml=r,null!==(gl=i)&&(ml?(t=gl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(ml?(t=gl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Be(t)):lr(gl,n.stateNode));break;case 4:i=gl,r=ml,gl=n.stateNode.containerInfo,ml=!0,vl(t,e,n),gl=i,ml=r;break;case 0:case 11:case 14:case 15:if(!el&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&sl(n,e,o),r=r.next}while(r!==i)}vl(t,e,n);break;case 1:if(!el&&(rl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Mc(n,e,a)}vl(t,e,n);break;case 21:vl(t,e,n);break;case 22:1&n.mode?(el=(i=el)||null!==n.memoizedState,vl(t,e,n),el=i):vl(t,e,n);break;default:vl(t,e,n)}}function bl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new nl),e.forEach((function(e){var i=Oc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function wl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,ml=!1;break t;case 3:case 4:gl=l.stateNode.containerInfo,ml=!0;break t}l=l.return}if(null===gl)throw Error(s(160));yl(o,a,r),gl=null,ml=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(fr){Mc(r,e,fr)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)_l(e,t),e=e.sibling}function _l(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wl(e,t),xl(t),4&i){try{al(3,t,t.return),ll(3,t)}catch(m){Mc(t,t.return,m)}try{al(5,t,t.return)}catch(m){Mc(t,t.return,m)}}break;case 1:wl(e,t),xl(t),512&i&&null!==n&&rl(n,n.return);break;case 5:if(wl(e,t),xl(t),512&i&&null!==n&&rl(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){Mc(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(r,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):b(r,h,d,u)}switch(l){case"input":J(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[gr]=o}catch(m){Mc(t,t.return,m)}}break;case 6:if(wl(e,t),xl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Mc(t,t.return,m)}}break;case 3:if(wl(e,t),xl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(m){Mc(t,t.return,m)}break;case 4:default:wl(e,t),xl(t);break;case 13:wl(e,t),xl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Gl=Xt())),4&i&&bl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(el=(u=el)||h,wl(e,t),el=u):wl(e,t),xl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(il=t,h=t.child;null!==h;){for(d=il=h;null!==il;){switch(p=(f=il).child,f.tag){case 0:case 11:case 14:case 15:al(4,f,f.return);break;case 1:rl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Mc(i,n,m)}}break;case 5:rl(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(d);continue}}null!==p?(p.return=f,il=p):Cl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Mc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Mc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(e,t),xl(t),4&i&&bl(t);case 21:}}function xl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(hl(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),pl(t,dl(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;fl(t,dl(t),o);break;default:throw Error(s(161))}}catch(cr){Mc(t,t.return,cr)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function kl(t,e,n){il=t,Sl(t,e,n)}function Sl(t,e,n){for(var i=0!==(1&t.mode);null!==il;){var r=il,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||tl;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||el;a=tl;var c=el;if(tl=o,(el=l)&&!c)for(il=r;null!==il;)l=(o=il).child,22===o.tag&&null!==o.memoizedState?Il(r):null!==l?(l.return=o,il=l):Il(r);for(;null!==s;)il=s,Sl(s,e,n),s=s.sibling;il=r,tl=a,el=c}El(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,il=s):El(t)}}function El(t){for(;null!==il;){var e=il;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:el||ll(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!el)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:aa(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Gs(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Gs(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(s(163))}el||512&e.flags&&cl(e)}catch(xr){Mc(e,e.return,xr)}}if(e===t){il=null;break}if(null!==(n=e.sibling)){n.return=e.return,il=n;break}il=e.return}}function Cl(t){for(;null!==il;){var e=il;if(e===t){il=null;break}var n=e.sibling;if(null!==n){n.return=e.return,il=n;break}il=e.return}}function Il(t){for(;null!==il;){var e=il;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ll(4,e)}catch(cr){Mc(e,n,cr)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(cr){Mc(e,r,cr)}}var s=e.return;try{cl(e)}catch(cr){Mc(e,s,cr)}break;case 5:var o=e.return;try{cl(e)}catch(cr){Mc(e,o,cr)}}}catch(cr){Mc(e,e.return,cr)}if(e===t){il=null;break}var a=e.sibling;if(null!==a){a.return=e.return,il=a;break}il=e.return}}var Tl,Al=Math.ceil,Nl=w.ReactCurrentDispatcher,Dl=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Ol=0,Rl=null,Ll=null,Fl=0,jl=0,Vl=Tr(0),zl=0,Ul=null,Bl=0,Hl=0,Wl=0,ql=null,Kl=null,Gl=0,Ql=1/0,Yl=null,$l=!1,Xl=null,Jl=null,Zl=!1,tc=null,ec=0,nc=0,ic=null,rc=-1,sc=0;function oc(){return 0!==(6&Ol)?Xt():-1!==rc?rc:rc=Xt()}function ac(t){return 0===(1&t.mode)?1:0!==(2&Ol)&&0!==Fl?Fl&-Fl:null!==bs.transition?(0===sc&&(sc=ge()),sc):0!==(t=be)?t:t=void 0===(t=window.event)?16:$e(t.type)}function lc(t,e,n,i){if(50<nc)throw nc=0,ic=null,Error(s(185));ve(t,n,i),0!==(2&Ol)&&t===Rl||(t===Rl&&(0===(2&Ol)&&(Hl|=n),4===zl&&fc(t,Fl)),cc(t,i),1===n&&0===Ol&&0===(1&e.mode)&&(Ql=Xt()+500,Hr&&Kr()))}function cc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=de(t,t===Rl?Fl:0);if(0===i)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){Hr=!0,qr(t)}(pc.bind(null,t)):qr(pc.bind(null,t)),or((function(){0===(6&Ol)&&Kr()})),n=null;else{switch(we(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Rc(n,uc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uc(t,e){if(rc=-1,sc=0,0!==(6&Ol))throw Error(s(327));var n=t.callbackNode;if(Tc()&&t.callbackNode!==n)return null;var i=de(t,t===Rl?Fl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=xc(t,i);else{e=i;var r=Ol;Ol|=2;var o=wc();for(Rl===t&&Fl===e||(Yl=null,Ql=Xt()+500,yc(t,e));;)try{Sc();break}catch(l){bc(t,l)}Ms(),Nl.current=o,Ol=r,null!==Ll?e=0:(Rl=null,Fl=0,e=zl)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=hc(t,r))),1===e)throw n=Ul,yc(t,0),fc(t,i),cc(t,Xt()),n;if(6===e)fc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=xc(t,i))&&(0!==(o=pe(t))&&(i=o,e=hc(t,o))),1===e))throw n=Ul,yc(t,0),fc(t,i),cc(t,Xt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:Ic(t,Kl,Yl);break;case 3:if(fc(t,i),(130023424&i)===i&&10<(e=Gl+500-Xt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){oc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(Ic.bind(null,t,Kl,Yl),e);break}Ic(t,Kl,Yl);break;case 4:if(fc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Xt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Al(i/1960))-i)){t.timeoutHandle=ir(Ic.bind(null,t,Kl,Yl),i);break}Ic(t,Kl,Yl);break;default:throw Error(s(329))}}}return cc(t,Xt()),t.callbackNode===n?uc.bind(null,t):null}function hc(t,e){var n=ql;return t.current.memoizedState.isDehydrated&&(yc(t,e).flags|=256),2!==(t=xc(t,e))&&(e=Kl,Kl=n,null!==e&&dc(e)),t}function dc(t){null===Kl?Kl=t:Kl.push.apply(Kl,t)}function fc(t,e){for(e&=~Wl,e&=~Hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function pc(t){if(0!==(6&Ol))throw Error(s(327));Tc();var e=de(t,0);if(0===(1&e))return cc(t,Xt()),null;var n=xc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=hc(t,i))}if(1===n)throw n=Ul,yc(t,0),fc(t,e),cc(t,Xt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ic(t,Kl,Yl),cc(t,Xt()),null}function gc(t,e){var n=Ol;Ol|=1;try{return t(e)}finally{0===(Ol=n)&&(Ql=Xt()+500,Hr&&Kr())}}function mc(t){null!==tc&&0===tc.tag&&0===(6&Ol)&&Tc();var e=Ol;Ol|=1;var n=Pl.transition,i=be;try{if(Pl.transition=null,be=1,t)return t()}finally{be=i,Pl.transition=n,0===(6&(Ol=e))&&Kr()}}function vc(){jl=Vl.current,Ar(Vl)}function yc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Ll)for(n=Ll.return;null!==n;){var i=n;switch(ss(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Fr();break;case 3:eo(),Ar(Pr),Ar(Dr),ao();break;case 5:io(i);break;case 4:eo();break;case 13:case 19:Ar(ro);break;case 10:Ns(i.type._context);break;case 22:case 23:vc()}n=n.return}if(Rl=t,Ll=t=Vc(t.current,null),Fl=jl=e,zl=0,Ul=null,Wl=Hl=Bl=0,Kl=ql=null,null!==Rs){for(e=0;e<Rs.length;e++)if(null!==(i=(n=Rs[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Rs=null}return t}function bc(t,e){for(;;){var n=Ll;try{if(Ms(),lo.current=ia,go){for(var i=ho.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}go=!1}if(uo=0,po=fo=ho=null,mo=!1,vo=0,Dl.current=null,null===n||null===n.return){zl=1,Ul=e,Ll=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Fl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=_a(a);if(null!==p){p.flags&=-257,xa(p,a,l,0,e),1&p.mode&&wa(o,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){wa(o,u,e),_c();break t}c=Error(s(426))}else if(ls&&1&l.mode){var v=_a(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xa(v,a,l,0,e),ys(pa(c,l));break t}}o=c=pa(c,l),4!==zl&&(zl=2),null===ql?ql=[o]:ql.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,qs(o,ya(0,c,e));break t;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Jl||!Jl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,qs(o,ba(o,l,e));break t}}o=o.return}while(null!==o)}Cc(n)}catch(Cr){e=Cr,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function wc(){var t=Nl.current;return Nl.current=ia,null===t?ia:t}function _c(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Rl||0===(268435455&Bl)&&0===(268435455&Hl)||fc(Rl,Fl)}function xc(t,e){var n=Ol;Ol|=2;var i=wc();for(Rl===t&&Fl===e||(Yl=null,yc(t,e));;)try{kc();break}catch(r){bc(t,r)}if(Ms(),Ol=n,Nl.current=i,null!==Ll)throw Error(s(261));return Rl=null,Fl=0,zl}function kc(){for(;null!==Ll;)Ec(Ll)}function Sc(){for(;null!==Ll&&!Yt();)Ec(Ll)}function Ec(t){var e=Tl(t.alternate,t,jl);t.memoizedProps=t.pendingProps,null===e?Cc(t):Ll=e,Dl.current=null}function Cc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ja(n,e,jl)))return void(Ll=n)}else{if(null!==(n=Za(n,e)))return n.flags&=32767,void(Ll=n);if(null===t)return zl=6,void(Ll=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ll=e);Ll=e=t}while(null!==e);0===zl&&(zl=5)}function Ic(t,e,n){var i=be,r=Pl.transition;try{Pl.transition=null,be=1,function(t,e,n,i){do{Tc()}while(null!==tc);if(0!==(6&Ol))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Rl&&(Ll=Rl=null,Fl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Rc(ee,(function(){return Tc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var a=be;be=1;var l=Ol;Ol|=4,Dl.current=null,function(t,e){if(tr=We,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(Ys){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},We=!1,il=e;null!==il;)if(t=(e=il).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,il=t;else for(;null!==il;){e=il;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:aa(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Ys){Mc(e,e.return,Ys)}if(null!==(t=e.sibling)){t.return=e.return,il=t;break}il=e.return}g=ol,ol=!1}(t,n),_l(n,t),pi(er),We=!!tr,er=tr=null,t.current=n,kl(n,t,r),$t(),Ol=l,be=a,Pl.transition=o}else t.current=n;if(Zl&&(Zl=!1,tc=t,ec=r),o=t.pendingLanes,0===o&&(Jl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),cc(t,Xt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if($l)throw $l=!1,t=Xl,Xl=null,t;0!==(1&ec)&&0!==t.tag&&Tc(),o=t.pendingLanes,0!==(1&o)?t===ic?nc++:(nc=0,ic=t):nc=0,Kr()}(t,e,n,i)}finally{Pl.transition=r,be=i}return null}function Tc(){if(null!==tc){var t=we(ec),e=Pl.transition,n=be;try{if(Pl.transition=null,be=16>t?16:t,null===tc)var i=!1;else{if(t=tc,tc=null,ec=0,0!==(6&Ol))throw Error(s(331));var r=Ol;for(Ol|=4,il=t.current;null!==il;){var o=il,a=o.child;if(0!==(16&il.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(il=u;null!==il;){var h=il;switch(h.tag){case 0:case 11:case 15:al(8,h,o)}var d=h.child;if(null!==d)d.return=h,il=d;else for(;null!==il;){var f=(h=il).sibling,p=h.return;if(ul(h),h===u){il=null;break}if(null!==f){f.return=p,il=f;break}il=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}il=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,il=a;else t:for(;null!==il;){if(0!==(2048&(o=il).flags))switch(o.tag){case 0:case 11:case 15:al(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,il=y;break t}il=o.return}}var b=t.current;for(il=b;null!==il;){var w=(a=il).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,il=w;else t:for(a=b;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(Cr){Mc(l,l.return,Cr)}if(l===a){il=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,il=_;break t}il=l.return}}if(Ol=r,Kr(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(Cr){}i=!0}return i}finally{be=n,Pl.transition=e}}return!1}function Ac(t,e,n){t=Hs(t,e=ya(0,e=pa(n,e),1),1),e=oc(),null!==t&&(ve(t,1,e),cc(t,e))}function Mc(t,e,n){if(3===t.tag)Ac(t,t,n);else for(;null!==e;){if(3===e.tag){Ac(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Jl||!Jl.has(i))){e=Hs(e,t=ba(e,t=pa(n,t),1),1),t=oc(),null!==e&&(ve(e,1,t),cc(e,t));break}}e=e.return}}function Nc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=oc(),t.pingedLanes|=t.suspendedLanes&n,Rl===t&&(Fl&n)===n&&(4===zl||3===zl&&(130023424&Fl)===Fl&&500>Xt()-Gl?yc(t,0):Wl|=n),cc(t,e)}function Dc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=oc();null!==(t=js(t,e))&&(ve(t,e,n),cc(t,n))}function Pc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Dc(t,n)}function Oc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Dc(t,n)}function Rc(t,e){return Gt(t,e)}function Lc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(t,e,n,i){return new Lc(t,e,n,i)}function jc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Vc(t,e){var n=t.alternate;return null===n?((n=Fc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zc(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)jc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case k:return Uc(n.children,r,o,e);case S:a=8,r|=8;break;case E:return(t=Fc(12,n,e,2|r)).elementType=E,t.lanes=o,t;case A:return(t=Fc(13,n,e,r)).elementType=A,t.lanes=o,t;case M:return(t=Fc(19,n,e,r)).elementType=M,t.lanes=o,t;case P:return Bc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case I:a=9;break t;case T:a=11;break t;case N:a=14;break t;case D:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Fc(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Uc(t,e,n,i){return(t=Fc(7,t,i,e)).lanes=n,t}function Bc(t,e,n,i){return(t=Fc(22,t,i,e)).elementType=P,t.lanes=n,t.stateNode={isHidden:!1},t}function Hc(t,e,n){return(t=Fc(6,t,null,e)).lanes=n,t}function Wc(t,e,n){return(e=Fc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Kc(t,e,n,i,r,s,o,a,l){return t=new qc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Fc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zs(s),t}function Gc(t){if(!t)return Nr;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Lr(n))return Vr(t,n,e)}return e}function Qc(t,e,n,i,r,s,o,a,l){return(t=Kc(n,i,!0,t,0,s,0,a,l)).context=Gc(null),n=t.current,(s=Bs(i=oc(),r=ac(n))).callback=void 0!==e&&null!==e?e:null,Hs(n,s,r),t.current.lanes=r,ve(t,r,i),cc(t,i),t}function Yc(t,e,n,i){var r=e.current,s=oc(),o=ac(r);return n=Gc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Bs(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Hs(r,e,o))&&(lc(t,r,o,s),Ws(t,r,o)),o}function $c(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Xc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Jc(t,e){Xc(t,e),(t=t.alternate)&&Xc(t,e)}Tl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)Sa=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return Sa=!1,function(t,e,n){switch(e.tag){case 3:Oa(e),vs();break;case 5:no(e);break;case 1:Lr(e.type)&&zr(e);break;case 4:to(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Mr(Cs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Mr(ro,1&ro.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ba(t,e,n):(Mr(ro,1&ro.current),null!==(t=Ya(t,e,n))?t.sibling:null);Mr(ro,1&ro.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ga(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Mr(ro,ro.current),i)break;return null;case 22:case 23:return e.lanes=0,Aa(t,e,n)}return Ya(t,e,n)}(t,e,n);Sa=0!==(131072&t.flags)}else Sa=!1,ls&&0!==(1048576&e.flags)&&is(e,$r,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Qa(t,e),t=e.pendingProps;var r=Rr(e,Dr.current);Ps(e,n),r=_o(null,e,i,t,r,n);var o=xo();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(i)?(o=!0,zr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,zs(e),r.updater=ca,e.stateNode=r,r._reactInternals=e,fa(e,i,t,n),e=Pa(null,e,i,!0,o,n)):(e.tag=0,ls&&o&&rs(e),Ea(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Qa(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return jc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===N)return 14}return 2}(i),t=aa(i,t),r){case 0:e=Na(null,e,i,t,n);break t;case 1:e=Da(null,e,i,t,n);break t;case 11:e=Ca(null,e,i,t,n);break t;case 14:e=Ia(null,e,i,aa(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Na(t,e,i,r=e.elementType===i?r:aa(i,r),n);case 1:return i=e.type,r=e.pendingProps,Da(t,e,i,r=e.elementType===i?r:aa(i,r),n);case 3:t:{if(Oa(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Us(t,e),Ks(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ra(t,e,i,n,r=pa(Error(s(423)),e));break t}if(i!==r){e=Ra(t,e,i,n,r=pa(Error(s(424)),e));break t}for(as=ur(e.stateNode.containerInfo.firstChild),os=e,ls=!0,cs=null,n=Es(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vs(),i===r){e=Ya(t,e,n);break t}Ea(t,e,i,n)}e=e.child}return e;case 5:return no(e),null===t&&fs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Ma(t,e),Ea(t,e,a,n),e.child;case 6:return null===t&&fs(e),null;case 13:return Ba(t,e,n);case 4:return to(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Ss(e,null,i,n):Ea(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Ca(t,e,i,r=e.elementType===i?r:aa(i,r),n);case 7:return Ea(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ea(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Mr(Cs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Pr.current){e=Ya(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ds(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ds(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ea(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ps(e,n),i=i(r=Os(r)),e.flags|=1,Ea(t,e,i,n),e.child;case 14:return r=aa(i=e.type,e.pendingProps),Ia(t,e,i,r=aa(i.type,r),n);case 15:return Ta(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:aa(i,r),Qa(t,e),e.tag=1,Lr(i)?(t=!0,zr(e)):t=!1,Ps(e,n),ha(e,i,r),fa(e,i,r,n),Pa(null,e,i,!0,t,n);case 19:return Ga(t,e,n);case 22:return Aa(t,e,n)}throw Error(s(156,e.tag))};var Zc="function"===typeof reportError?reportError:function(t){console.error(t)};function tu(t){this._internalRoot=t}function eu(t){this._internalRoot=t}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function iu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(){}function su(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=$c(o);a.call(t)}}Yc(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=$c(o);s.call(t)}}var o=Qc(e,i,t,0,null,!1,0,"",ru);return t._reactRootContainer=o,t[mr]=o.current,Bi(8===t.nodeType?t.parentNode:t),mc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=$c(l);a.call(t)}}var l=Kc(t,0,!1,null,0,!1,0,"",ru);return t._reactRootContainer=l,t[mr]=l.current,Bi(8===t.nodeType?t.parentNode:t),mc((function(){Yc(e,l,n,i)})),l}(n,e,t,r,i);return $c(o)}eu.prototype.render=tu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Yc(t,e,null,null)},eu.prototype.unmount=tu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;mc((function(){Yc(null,t,null,null)})),e[mr]=null}},eu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pe.length&&0!==e&&e<Pe[n].priority;n++);Pe.splice(n,0,t),0===n&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),cc(e,Xt()),0===(6&Ol)&&(Ql=Xt()+500,Kr()))}break;case 13:mc((function(){var e=js(t,1);if(null!==e){var n=oc();lc(e,t,1,n)}})),Jc(t,1)}},xe=function(t){if(13===t.tag){var e=js(t,134217728);if(null!==e)lc(e,t,134217728,oc());Jc(t,134217728)}},ke=function(t){if(13===t.tag){var e=ac(t),n=js(t,e);if(null!==n)lc(n,t,e,oc());Jc(t,e)}},Se=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Sr(i);if(!r)throw Error(s(90));G(i),J(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Tt=gc,At=mc;var ou={usingClientEntryPoint:!1,Events:[_r,kr,Sr,Ct,It,gc]},au={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{re=cu.inject(lu),se=cu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!nu(t))throw Error(s(299));var n=!1,i="",r=Zc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Kc(t,1,!1,null,0,n,0,i,r),t[mr]=e.current,Bi(8===t.nodeType?t.parentNode:t),new tu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return mc(t)},e.hydrate=function(t,e,n){if(!iu(e))throw Error(s(200));return su(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!nu(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Qc(e,null,t,1,null!=n?n:null,r,0,o,a),t[mr]=e.current,Bi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new eu(e)},e.render=function(t,e,n){if(!iu(e))throw Error(s(200));return su(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!iu(t))throw Error(s(40));return!!t._reactRootContainer&&(mc((function(){su(null,null,t,!1,(function(){t._reactRootContainer=null,t[mr]=null}))})),!0)},e.unstable_batchedUpdates=gc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!iu(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return su(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},853:(t,e,n)=>{t.exports=n(234)},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}();var i=n(43),r=n(391);const s=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const l=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==l)throw new a;const c=e<<2|s>>4;if(i.push(c),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==l){const t=o<<6&192|l;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(t){return function(t){const e=s(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")},c=function(t){try{return o.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return u()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&c(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},d=t=>{var e,n;return null===(n=null===(e=h())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},f=()=>{var t;return null===(t=h())||void 0===t?void 0:t.config},p=t=>{var e;return null===(e=h())||void 0===e?void 0:e["_".concat(t)]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function y(){try{return"object"===typeof indexedDB}catch(t){return!1}}function b(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class w extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(x,((t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new w(n,s,e)}}const x=/\{\$([^}]+)}/g;function k(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(S(n)&&S(s)){if(!k(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function S(t){return null!==t&&"object"===typeof t}function E(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function C(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function I(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class T{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=A),void 0===i.error&&(i.error=A),void 0===i.complete&&(i.complete=A);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function A(){}function M(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(e,t),i=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+i)}function N(t){return t&&t._delegate?t._delegate:t}class D{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const P="[DEFAULT]";class O{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new g;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:P})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===P?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?t:P:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new O(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const L=[];var F;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(F||(F={}));const j={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},V=F.INFO,z={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},U=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=z[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(t.name,":"),...s)};class B{constructor(t){this.name=t,this._logLevel=V,this._logHandler=U,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in F))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?j[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...e),this._logHandler(this,F.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...e),this._logHandler(this,F.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.INFO,...e),this._logHandler(this,F.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.WARN,...e),this._logHandler(this,F.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,F.ERROR,...e),this._logHandler(this,F.ERROR,...e)}}function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function W(t){var e=function(t,e){if("object"!=H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=H(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==H(e)?e:e+""}function q(t,e,n){return(e=W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let Q,Y;const $=new WeakMap,X=new WeakMap,J=new WeakMap,Z=new WeakMap,tt=new WeakMap;let et={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return X.get(t);if("objectStoreNames"===e)return t.objectStoreNames||J.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(st(this),n),rt($.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return rt(t.apply(st(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(st(this),e,...i);return J.set(s,e.sort?e.sort():[e]),rt(s)}}function it(t){return"function"===typeof t?nt(t):(t instanceof IDBTransaction&&function(t){if(X.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));X.set(t,e)}(t),e=t,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,et):t);var e}function rt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(rt(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&$.set(e,t)})).catch((()=>{})),tt.set(e,t),e}(t);if(Z.has(t))return Z.get(t);const e=it(t);return e!==t&&(Z.set(t,e),tt.set(e,t)),e}const st=t=>tt.get(t);const ot=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],lt=new Map;function ct(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(lt.get(e))return lt.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=at.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!ot.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return lt.set(e,s),s}!function(t){et=t(et)}((t=>G(G({},t),{},{get:(e,n,i)=>ct(e,n)||t.get(e,n,i),has:(e,n)=>!!ct(e,n)||t.has(e,n)})));class ut{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const ht="@firebase/app",dt="0.9.13",ft=new B("@firebase/app"),pt="@firebase/app-compat",gt="@firebase/analytics-compat",mt="@firebase/analytics",vt="@firebase/app-check-compat",yt="@firebase/app-check",bt="@firebase/auth",wt="@firebase/auth-compat",_t="@firebase/database",xt="@firebase/database-compat",kt="@firebase/functions",St="@firebase/functions-compat",Et="@firebase/installations",Ct="@firebase/installations-compat",It="@firebase/messaging",Tt="@firebase/messaging-compat",At="@firebase/performance",Mt="@firebase/performance-compat",Nt="@firebase/remote-config",Dt="@firebase/remote-config-compat",Pt="@firebase/storage",Ot="@firebase/storage-compat",Rt="@firebase/firestore",Lt="@firebase/firestore-compat",Ft="firebase",jt="[DEFAULT]",Vt={[ht]:"fire-core",[pt]:"fire-core-compat",[mt]:"fire-analytics",[gt]:"fire-analytics-compat",[yt]:"fire-app-check",[vt]:"fire-app-check-compat",[bt]:"fire-auth",[wt]:"fire-auth-compat",[_t]:"fire-rtdb",[xt]:"fire-rtdb-compat",[kt]:"fire-fn",[St]:"fire-fn-compat",[Et]:"fire-iid",[Ct]:"fire-iid-compat",[It]:"fire-fcm",[Tt]:"fire-fcm-compat",[At]:"fire-perf",[Mt]:"fire-perf-compat",[Nt]:"fire-rc",[Dt]:"fire-rc-compat",[Pt]:"fire-gcs",[Ot]:"fire-gcs-compat",[Rt]:"fire-fst",[Lt]:"fire-fst-compat","fire-js":"fire-js",[Ft]:"fire-js-all"},zt=new Map,Ut=new Map;function Bt(t,e){try{t.container.addComponent(e)}catch(n){ft.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function Ht(t){const e=t.name;if(Ut.has(e))return ft.debug("There were multiple attempts to register component ".concat(e,".")),!1;Ut.set(e,t);for(const n of zt.values())Bt(n,t);return!0}function Wt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const qt=new _("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new D("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}const Gt="9.23.0";function Qt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:jt,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw qt.create("bad-app-name",{appName:String(r)});if(n||(n=f()),!n)throw qt.create("no-options");const s=zt.get(r);if(s){if(k(n,s.options)&&k(i,s.config))return s;throw qt.create("duplicate-app",{appName:r})}const o=new R(r);for(const l of Ut.values())o.addComponent(l);const a=new Kt(n,i,o);return zt.set(r,a),a}function Yt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;const e=zt.get(t);if(!e&&t===jt&&f())return Qt();if(!e)throw qt.create("no-app",{appName:t});return e}function $t(t,e,n){var i;let r=null!==(i=Vt[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void ft.warn(t.join(" "))}Ht(new D("".concat(r,"-version"),(()=>({library:r,version:e})),"VERSION"))}const Xt="firebase-heartbeat-store";let Jt=null;function Zt(){return Jt||(Jt=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=rt(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(rt(o.result),t.oldVersion,t.newVersion,rt(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Xt)}}).catch((t=>{throw qt.create("idb-open",{originalErrorMessage:t.message})}))),Jt}async function te(t,e){try{const n=(await Zt()).transaction(Xt,"readwrite"),i=n.objectStore(Xt);await i.put(e,ee(t)),await n.done}catch(n){if(n instanceof w)ft.warn(n.message);else{const t=qt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ft.warn(t.message)}}}function ee(t){return"".concat(t.name,"!").concat(t.options.appId)}class ne{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new re(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=ie();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=ie(),{heartbeatsToSend:e,unsentEntries:n}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),se(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),se(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=l(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ie(){return(new Date).toISOString().substring(0,10)}class re{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!y()&&b().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=await Zt();return await e.transaction(Xt).objectStore(Xt).get(ee(t))}catch(e){if(e instanceof w)ft.warn(e.message);else{const t=qt.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});ft.warn(t.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return te(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return te(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function se(t){return l(JSON.stringify({version:2,heartbeats:t})).length}var oe;oe="",Ht(new D("platform-logger",(t=>new ut(t)),"PRIVATE")),Ht(new D("heartbeat",(t=>new ne(t)),"PRIVATE")),$t(ht,dt,oe),$t(ht,dt,"esm2017"),$t("fire-js","");function ae(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ce=le,ue=new _("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),he=new B("@firebase/auth");function de(t){if(he.logLevel<=F.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];he.error("Auth (".concat(Gt,"): ").concat(t),...n)}}function fe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw me(t,...n)}function pe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return me(t,...n)}function ge(t,e,n){const i=Object.assign(Object.assign({},ce()),{[e]:n});return new _("auth","Firebase",i).create(e,{appName:t.name})}function me(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("string"!==typeof t){const e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return ue.create(t,...n)}function ve(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw me(e,...i)}}function ye(t){const e="INTERNAL ASSERTION FAILED: "+t;throw de(e),new Error(e)}function be(t,e){t||ye(e)}function we(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function _e(){return"http:"===xe()||"https:"===xe()}function xe(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ke{constructor(t,e){this.shortDelay=t,this.longDelay=e,be(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_e()||v()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Se(t,e){be(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class Ee{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new ke(3e4,6e4);function Te(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ae(t,e,n,i){return Me(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=E(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Ee.fetch()(De(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Me(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ce),e);try{const e=new Pe(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Oe(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Oe(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Oe(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Oe(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ge(t,a,o);fe(t,a)}}catch(r){if(r instanceof w)throw r;fe(t,"network-request-failed",{message:String(r)})}}async function Ne(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ae(t,e,n,i,r);return"mfaPendingCredential"in s&&fe(t,"multi-factor-auth-required",{_serverResponse:s}),s}function De(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i);return t.config.emulator?Se(t.config,r):"".concat(t.config.apiScheme,"://").concat(r)}class Pe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(pe(this.auth,"network-request-failed"))),Ie.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=pe(t,e,i);return r.customData._tokenResponse=n,r}function Re(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Le(t){return 1e3*Number(t)}function Fe(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return de("JWT malformed, contained fewer than 3 sections"),null;try{const t=c(n);return t?JSON.parse(t):(de("Failed to decode base64 JWT payload"),null)}catch(r){return de("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}async function je(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(n){throw n instanceof w&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}class Ve{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void((null===t||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ze{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Re(this.lastLoginAt),this.creationTime=Re(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ue(t){var e;const n=t.auth,i=await t.getIdToken(),r=await je(t,async function(t,e){return Ae(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:i}));ve(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=ae(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=t.providerData,c=o,[...l.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ze(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}class Be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ve(t.idToken,"internal-error"),ve("undefined"!==typeof t.idToken,"internal-error"),ve("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=Fe(t);return ve(e,"internal-error"),ve("undefined"!==typeof e.exp,"internal-error"),ve("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ve(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await Me(t,{},(async()=>{const n=E({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=De(t,i,"/v1/token","key=".concat(r)),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new Be;return n&&(ve("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(ve("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(ve("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Be,this.toJSON())}_performRefresh(){return ye("not implemented")}}function He(t,e){ve("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class We{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=ae(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ze(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await je(this,this.stsTokenManager.getToken(this.auth,t));return ve(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=N(t),i=await n.getIdToken(e),r=Fe(i);ve(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Re(Le(r.auth_time)),issuedAtTime:Re(Le(r.iat)),expirationTime:Re(Le(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=N(t);await Ue(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(ve(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new We(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Ue(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await je(this,async function(t,e){return Ae(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=e;ve(y&&x,t,"internal-error");const k=Be.fromJSON(this.name,x);ve("string"===typeof y,t,"internal-error"),He(u,t.name),He(h,t.name),ve("boolean"===typeof b,t,"internal-error"),ve("boolean"===typeof w,t,"internal-error"),He(d,t.name),He(f,t.name),He(p,t.name),He(g,t.name),He(m,t.name),He(v,t.name);const S=new We({uid:y,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((t=>Object.assign({},t)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new Be;i.updateFromServerResponse(e);const r=new We({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Ue(r),r}}const qe=new Map;function Ke(t){be(t instanceof Function,"Expected a class definition");let e=qe.get(t);return e?(be(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qe.set(t,e),e)}class Ge{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Ge.type="NONE";const Qe=Ge;function Ye(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class $e{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Ye(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ye("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?We._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new $e(Ke(Qe),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||Ke(Qe);const s=Ye(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const n=We._fromJSON(t,e);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(l){}}))),new $e(r,t,n)):new $e(r,t,n)}}function Xe(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(en(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Je(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rn(e))return"Blackberry";if(sn(e))return"Webos";if(Ze(e))return"Safari";if((e.includes("chrome/")||tn(e))&&!e.includes("edge/"))return"Chrome";if(nn(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Je(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/firefox\//i.test(t)}function Ze(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/crios\//i.test(t)}function en(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/iemobile/i.test(t)}function nn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/android/i.test(t)}function rn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/blackberry/i.test(t)}function sn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/webos/i.test(t)}function on(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function an(){return function(){const t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function ln(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return on(t)||nn(t)||sn(t)||rn(t)||/windows phone/i.test(t)||en(t)}function cn(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=Xe(m());break;case"Worker":e="".concat(Xe(m()),"-").concat(t);break;default:e=t}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(Gt,"/").concat(i)}async function un(t,e){return Ae(t,"GET","/v2/recaptchaConfig",Te(t,e))}function hn(t){return void 0!==t&&void 0!==t.enterprise}class dn{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState))}}function fn(t){return new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=pe("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}))}function pn(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class gn{constructor(t){this.type="recaptcha-enterprise",this.auth=bn(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,i){const r=window.grecaptcha;hn(r)?r.enterprise.ready((()=>{r.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,i)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{un(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new dn(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((r=>{if(!e&&hn(window.grecaptcha))n(r,t,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));fn("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,t,i)})).catch((t=>{i(t)}))}})).catch((t=>{i(t)}))}))}}async function mn(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new gn(t);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class vn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{n(t(e))}catch(r){i(r)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class yn{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wn(this),this.idTokenSubscription=new wn(this),this.beforeStateQueue=new vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ke(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await $e.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ue(t)}catch(e){if((null===e||void 0===e?void 0:e.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?N(t):null;return e&&ve(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&ve(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ke(t))}))}async initializeRecaptchaConfig(){const t=await un(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new dn(t);if(null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled){new gn(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ke(t)||this._popupRedirectResolver;ve(e,this,"argument-error"),this.redirectPersistenceManager=await $e.create(this,[Ke(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof e?t.addObserver(e,n,i):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(he.logLevel<=F.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];he.warn("Auth (".concat(Gt,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function bn(t){return N(t)}class wn{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new T(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _n(t,e,n){const i=bn(t);ve(i._canInitEmulator,i,"emulator-config-failed"),ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=xn(e),{host:o,port:a}=function(t){const e=xn(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:kn(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:kn(e)}}}(e),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function xn(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kn(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Sn{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ye("not implemented")}_getIdTokenResponse(t){return ye("not implemented")}_linkToIdToken(t,e){return ye("not implemented")}_getReauthenticationResolver(t){return ye("not implemented")}}async function En(t,e){return Ae(t,"POST","/v1/accounts:update",e)}async function Cn(t,e){return Ne(t,"POST","/v1/accounts:signInWithPassword",Te(t,e))}class In extends Sn{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new In(t,e,"password")}static _fromEmailAndCode(t,e){return new In(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await mn(t,n,"signInWithPassword");return Cn(t,e)}return Cn(t,n).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await mn(t,n,"signInWithPassword");return Cn(t,e)}return Promise.reject(e)}));case"emailLink":return async function(t,e){return Ne(t,"POST","/v1/accounts:signInWithEmailLink",Te(t,e))}(t,{email:this._email,oobCode:this._password});default:fe(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return En(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return Ne(t,"POST","/v1/accounts:signInWithEmailLink",Te(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:fe(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Tn(t,e){return Ne(t,"POST","/v1/accounts:signInWithIdp",Te(t,e))}class An extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new An(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):fe("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=ae(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new An(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return Tn(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Tn(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Tn(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=E(e)}return t}}const Mn={USER_NOT_FOUND:"user-not-found"};class Nn extends Sn{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Nn({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Nn({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Ne(t,"POST","/v1/accounts:signInWithPhoneNumber",Te(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Ne(t,"POST","/v1/accounts:signInWithPhoneNumber",Te(t,e));if(n.temporaryProof)throw Oe(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Ne(t,"POST","/v1/accounts:signInWithPhoneNumber",Te(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Mn)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new Nn({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Dn{constructor(t){var e,n,i,r,s,o;const a=C(I(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);ve(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=C(I(t)).link,n=e?C(I(e)).deep_link_id:null,i=C(I(t)).deep_link_id;return(i?C(I(i)).link:null)||i||n||e||t}(t);try{return new Dn(e)}catch(n){return null}}}class Pn{constructor(){this.providerId=Pn.PROVIDER_ID}static credential(t,e){return In._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Dn.parseLink(e);return ve(n,"argument-error"),In._fromEmailAndCode(t,n.code,n.tenantId)}}Pn.PROVIDER_ID="password",Pn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class On{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Rn extends On{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ln extends Rn{constructor(){super("facebook.com")}static credential(t){return An._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ln.credential(e.oauthAccessToken)}catch(n){return null}}}Ln.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ln.PROVIDER_ID="facebook.com";class Fn extends Rn{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return An._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Fn.credentialFromTaggedObject(t)}static credentialFromError(t){return Fn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fn.credential(n,i)}catch(r){return null}}}Fn.GOOGLE_SIGN_IN_METHOD="google.com",Fn.PROVIDER_ID="google.com";class jn extends Rn{constructor(){super("github.com")}static credential(t){return An._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jn.credentialFromTaggedObject(t)}static credentialFromError(t){return jn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return jn.credential(e.oauthAccessToken)}catch(n){return null}}}jn.GITHUB_SIGN_IN_METHOD="github.com",jn.PROVIDER_ID="github.com";class Vn extends Rn{constructor(){super("twitter.com")}static credential(t,e){return An._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Vn.credentialFromTaggedObject(t)}static credentialFromError(t){return Vn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Vn.credential(n,i)}catch(r){return null}}}async function zn(t,e){return Ne(t,"POST","/v1/accounts:signUp",Te(t,e))}Vn.TWITTER_SIGN_IN_METHOD="twitter.com",Vn.PROVIDER_ID="twitter.com";class Un{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await We._fromIdTokenResponse(t,n,i),s=Bn(n);return new Un({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=Bn(n);return new Un({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function Bn(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Hn extends w{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Hn.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new Hn(t,e,n,i)}}function Wn(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hn._fromErrorAndOperation(t,n,e,i);throw n}))}async function qn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await je(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Un._forOperation(t,"link",i)}async function Kn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=t,r="reauthenticate";try{const s=await je(t,Wn(i,r,e,t),n);ve(s.idToken,i,"internal-error");const o=Fe(s.idToken);ve(o,i,"internal-error");const{sub:a}=o;return ve(t.uid===a,i,"user-mismatch"),Un._forOperation(t,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&fe(i,"user-mismatch"),s}}async function Gn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await Wn(t,i,e),s=await Un._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Qn(t,e){return Gn(bn(t),e)}new WeakMap;const Yn="__sak";class $n{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xn extends $n{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=m();return Ze(t)||on(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);an()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Xn.type="LOCAL";const Jn=Xn;class Zn extends $n{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Zn.type="SESSION";const ti=Zn;class ei{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new ei(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ni(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}ei.receivers=[];class ii{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=ni("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ri(){return window}function si(){return"undefined"!==typeof ri().WorkerGlobalScope&&"function"===typeof ri().importScripts}const oi="firebaseLocalStorageDb",ai="firebaseLocalStorage",li="fbase_key";class ci{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function ui(t,e){return t.transaction([ai],e?"readwrite":"readonly").objectStore(ai)}function hi(){const t=indexedDB.open(oi,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(ai,{keyPath:li})}catch(i){n(i)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(ai)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(oi);return new ci(t).toPromise()}(),e(await hi()))}))}))}async function di(t,e,n){const i=ui(t,!0).put({[li]:e,value:n});return new ci(i).toPromise()}function fi(t,e){const n=ui(t,!0).delete(e);return new ci(n).toPromise()}class pi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await hi()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return si()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ei._getInstance(si()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ii(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hi();return await di(t,Yn,"1"),await fi(t,Yn),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>di(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=ui(t,!1).get(e),i=await new ci(n).toPromise();return void 0===i?null:i.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>fi(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=ui(t,!1).getAll();return new ci(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}pi.type="LOCAL";const gi=pi;pn("rcb"),new ke(3e4,6e4);const mi="recaptcha";async function vi(t,e,n){var i;const r=await n.verify();try{let s;if(ve("string"===typeof r,t,"argument-error"),ve(n.type===mi,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){ve("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Ae(t,"POST","/v2/accounts/mfaEnrollment:start",Te(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{ve("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;ve(n,t,"missing-multi-factor-info");const o=await function(t,e){return Ae(t,"POST","/v2/accounts/mfaSignIn:start",Te(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Ae(t,"POST","/v1/accounts:sendVerificationCode",Te(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}class yi{constructor(t){this.providerId=yi.PROVIDER_ID,this.auth=bn(t)}verifyPhoneNumber(t,e){return vi(this.auth,t,N(e))}static credential(t,e){return Nn._fromVerification(t,e)}static credentialFromResult(t){const e=t;return yi.credentialFromTaggedObject(e)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Nn._fromTokenResponse(n,i):null}}function bi(t,e){return e?Ke(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}yi.PROVIDER_ID="phone",yi.PHONE_SIGN_IN_METHOD="phone";class wi extends Sn{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Tn(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Tn(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Tn(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function _i(t){return Gn(t.auth,new wi(t),t.bypassAuthState)}function xi(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),Kn(n,new wi(t),t.bypassAuthState)}async function ki(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),qn(n,new wi(t),t.bypassAuthState)}class Si{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _i;case"linkViaPopup":case"linkViaRedirect":return ki;case"reauthViaPopup":case"reauthViaRedirect":return xi;default:fe(this.auth,"internal-error")}}resolve(t){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ei=new ke(2e3,1e4);class Ci extends Si{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ve(t,this.auth,"internal-error"),t}async onExecution(){be(1===this.filter.length,"Popup operations only handle one event");const t=ni();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(pe(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Ei.get())};t()}}Ci.currentPopupAction=null;const Ii=new Map;class Ti extends Si{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=Ii.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Ni(e),i=Mi(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Ii.set(this.auth._key(),t)}return this.bypassAuthState||Ii.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ai(t,e){Ii.set(t._key(),e)}function Mi(t){return Ke(t._redirectPersistence)}function Ni(t){return Ye("pendingRedirect",t.config.apiKey,t.name)}async function Di(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=bn(t),r=bi(i,e),s=new Ti(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class Pi{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ri(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Ri(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(pe(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oi(t))}saveEventToCache(t){this.cachedEventUids.add(Oi(t)),this.lastProcessedEventTime=Date.now()}}function Oi(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Ri(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fi=/^https?/;async function ji(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Ae(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const i of e)try{if(Vi(i))return}catch(n){}fe(t,"unauthorized-domain")}function Vi(t){const e=we(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Fi.test(n))return!1;if(Li.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const zi=new ke(3e4,6e4);function Ui(){const t=ri().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Bi=null;function Hi(t){return Bi=Bi||function(t){return new Promise(((e,n)=>{var i,r,s;function o(){Ui(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ui(),n(pe(t,"network-request-failed"))},timeout:zi.get()})}if(null===(r=null===(i=ri().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ri().gapi)||void 0===s?void 0:s.load)){const e=pn("iframefcb");return ri()[e]=()=>{gapi.load?o():n(pe(t,"network-request-failed"))},fn("https://apis.google.com/js/api.js?onload=".concat(e)).catch((t=>n(t)))}o()}})).catch((t=>{throw Bi=null,t}))}(t),Bi}const Wi=new ke(5e3,15e3),qi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ki=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gi(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Se(e,"emulator/auth/iframe"):"https://".concat(t.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:e.apiKey,appName:t.name,v:Gt},r=Ki.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(E(i).slice(1))}const Qi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function $i(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Qi),{width:i.toString(),height:r.toString(),top:s,left:o}),c=m().toLowerCase();n&&(a=tn(c)?"_blank":n),Je(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,e)=>{let[n,i]=e;return"".concat(t).concat(n,"=").concat(i,",")}),"");if(function(){var t;return on(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new Yi(null);const h=window.open(e||"",a,u);ve(h,t,"popup-blocked");try{h.focus()}catch(d){}return new Yi(h)}const Xi="__/auth/handler",Ji="emulator/auth/handler",Zi=encodeURIComponent("fac");async function tr(t,e,n,i,r,s){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Gt,eventId:r};if(e instanceof On){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof Rn){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(Zi,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(Xi);return Se(e,Ji)}(t),"?").concat(E(a).slice(1)).concat(c)}const er="webStorageSupport";const nr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ti,this._completeRedirectFn=Di,this._overrideRedirectResult=Ai}async _openPopup(t,e,n,i){var r;be(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return $i(t,await tr(t,e,n,we(),i),ni())}async _openRedirect(t,e,n,i){await this._originValidation(t);return function(t){ri().location.href=t}(await tr(t,e,n,we(),i)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(be(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await Hi(t),n=ri().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:Gi(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qi,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=pe(t,"network-request-failed"),s=ri().setTimeout((()=>{i(r)}),Wi.get());function o(){ri().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{i(r)}))}))))}(t),n=new Pi(t);return e.register("authEvent",(e=>{ve(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(er,{type:er},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[er];void 0!==r&&e(!!r),fe(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ji(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ln()||Ze()||on()}};var ir="@firebase/auth",rr="0.23.2";class sr{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const or=p("authIdTokenMaxAge")||300;let ar=null;var lr;lr="Browser",Ht(new D("auth",((t,e)=>{let{options:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:lr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cn(lr)},c=new yn(i,r,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ke);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),Ht(new D("auth-internal",(t=>(t=>new sr(t))(bn(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),$t(ir,rr,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lr)),$t(ir,rr,"esm2017");var cr,ur="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hr={},dr=dr||{},fr=ur||self;function pr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function gr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mr="closure_uid_"+(1e9*Math.random()>>>0),vr=0;function yr(t,e,n){return t.call.apply(t.bind,arguments)}function br(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function wr(t,e,n){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yr:br).apply(null,arguments)}function _r(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function xr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function kr(){this.s=this.s,this.o=this.o}kr.prototype.s=!1,kr.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,mr)&&t[mr]||(t[mr]=++vr))},kr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Er(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Cr(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(pr(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function Ir(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var Tr=function(){if(!fr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fr.addEventListener("test",(()=>{}),e),fr.removeEventListener("test",(()=>{}),e)}catch(n){}return t}();function Ar(t){return/^[\s\xa0]*$/.test(t)}function Mr(){var t=fr.navigator;return t&&(t=t.userAgent)?t:""}function Nr(t){return-1!=Mr().indexOf(t)}function Dr(t){return Dr[" "](t),t}Dr[" "]=function(){};var Pr,Or,Rr=Nr("Opera"),Lr=Nr("Trident")||Nr("MSIE"),Fr=Nr("Edge"),jr=Fr||Lr,Vr=Nr("Gecko")&&!(-1!=Mr().toLowerCase().indexOf("webkit")&&!Nr("Edge"))&&!(Nr("Trident")||Nr("MSIE"))&&!Nr("Edge"),zr=-1!=Mr().toLowerCase().indexOf("webkit")&&!Nr("Edge");function Ur(){var t=fr.document;return t?t.documentMode:void 0}t:{var Br="",Hr=function(){var t=Mr();return Vr?/rv:([^\);]+)(\)|;)/.exec(t):Fr?/Edge\/([\d\.]+)/.exec(t):Lr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):zr?/WebKit\/(\S+)/.exec(t):Rr?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Hr&&(Br=Hr?Hr[1]:""),Lr){var Wr=Ur();if(null!=Wr&&Wr>parseFloat(Br)){Pr=String(Wr);break t}}Pr=Br}if(fr.document&&Lr){var qr=Ur();Or=qr||(parseInt(Pr,10)||void 0)}else Or=void 0;var Kr=Or;function Gr(t,e){if(Ir.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Vr){t:{try{Dr(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Qr[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gr.$.h.call(this)}}xr(Gr,Ir);var Qr={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),$r=0;function Xr(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++$r,this.fa=this.ia=!1}function Jr(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Zr(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function ts(t){const e={};for(const n in t)e[n]=t[n];return e}const es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ns(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<es.length;e++)n=es[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function is(t){this.src=t,this.g={},this.h=0}function rs(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Sr(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Jr(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ss(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}is.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=ss(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Xr(e,this.src,s,!!i,r)).ia=n,t.push(e)),e};var os="closure_lm_"+(1e6*Math.random()|0),as={};function ls(t,e,n,i,r){if(i&&i.once)return us(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ls(t,e[s],n,i,r);return null}return n=vs(n),t&&t[Yr]?t.O(e,n,gr(i)?!!i.capture:!!i,r):cs(t,e,n,!1,i,r)}function cs(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=gr(r)?!!r.capture:!!r,a=gs(t);if(a||(t[os]=a=new is(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=ps;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Tr||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(fs(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function us(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)us(t,e[s],n,i,r);return null}return n=vs(n),t&&t[Yr]?t.P(e,n,gr(i)?!!i.capture:!!i,r):cs(t,e,n,!0,i,r)}function hs(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)hs(t,e[s],n,i,r);else i=gr(i)?!!i.capture:!!i,n=vs(n),t&&t[Yr]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=ss(s=t.g[e],n,i,r))&&(Jr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=gs(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ss(e,n,i,r)),(n=-1<t?e[t]:null)&&ds(n))}function ds(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Yr])rs(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fs(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=gs(e))?(rs(n,t),0==n.h&&(n.src=null,e[os]=null)):Jr(t)}}}function fs(t){return t in as?as[t]:as[t]="on"+t}function ps(t,e){if(t.fa)t=!0;else{e=new Gr(e,this);var n=t.listener,i=t.la||t.src;t.ia&&ds(t),t=n.call(i,e)}return t}function gs(t){return(t=t[os])instanceof is?t:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function vs(t){return"function"===typeof t?t:(t[ms]||(t[ms]=function(e){return t.handleEvent(e)}),t[ms])}function ys(){kr.call(this),this.i=new is(this),this.S=this,this.J=null}function bs(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"===typeof e)e=new Ir(e,t);else if(e instanceof Ir)e.target=e.target||t;else{var r=e;ns(e=new Ir(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=ws(o,i,!0,e)&&r}if(r=ws(o=e.g=t,i,!0,e)&&r,r=ws(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=ws(o=e.g=n[s],i,!1,e)&&r}function ws(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&rs(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}xr(ys,kr),ys.prototype[Yr]=!0,ys.prototype.removeEventListener=function(t,e,n,i){hs(this,t,e,n,i)},ys.prototype.N=function(){if(ys.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Jr(n[i]);delete e.g[t],e.h--}}this.J=null},ys.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},ys.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var _s=fr.JSON.stringify;function xs(){var t=As;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ks=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ss),(t=>t.reset()));class Ss{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Es(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Cs(t){fr.setTimeout((()=>{throw t}),0)}let Is,Ts=!1,As=new class{constructor(){this.h=this.g=null}add(t,e){const n=ks.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Ms=()=>{const t=fr.Promise.resolve(void 0);Is=()=>{t.then(Ns)}};var Ns=()=>{for(var t;t=xs();){try{t.h.call(t.g)}catch(n){Cs(n)}var e=ks;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ts=!1};function Ds(t,e){ys.call(this),this.h=t||1,this.g=e||fr,this.j=wr(this.qb,this),this.l=Date.now()}function Ps(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Os(t,e,n){if("function"===typeof t)n&&(t=wr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=wr(t.handleEvent,t)}return 2147483647<Number(e)?-1:fr.setTimeout(t,e||0)}function Rs(t){t.g=Os((()=>{t.g=null,t.i&&(t.i=!1,Rs(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xr(Ds,ys),(cr=Ds.prototype).ga=!1,cr.T=null,cr.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bs(this,"tick"),this.ga&&(Ps(this),this.start()))}},cr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cr.N=function(){Ds.$.N.call(this),Ps(this),delete this.g};class Ls extends kr{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(fr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(t){kr.call(this),this.h=t,this.g={}}xr(Fs,kr);var js=[];function Vs(t,e,n,i){Array.isArray(n)||(n&&(js[0]=n.toString()),n=js);for(var r=0;r<n.length;r++){var s=ls(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function zs(t){Zr(t.g,(function(t,e){this.g.hasOwnProperty(e)&&ds(t)}),t),t.g={}}function Us(){this.g=!0}function Bs(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return _s(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}Fs.prototype.N=function(){Fs.$.N.call(this),zs(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Us.prototype.Ea=function(){this.g=!1},Us.prototype.info=function(){};var Hs={},Ws=null;function qs(){return Ws=Ws||new ys}function Ks(t){Ir.call(this,Hs.Ta,t)}function Gs(t){const e=qs();bs(e,new Ks(e))}function Qs(t,e){Ir.call(this,Hs.STAT_EVENT,t),this.stat=e}function Ys(t){const e=qs();bs(e,new Qs(e,t))}function $s(t,e){Ir.call(this,Hs.Ua,t),this.size=e}function Xs(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return fr.setTimeout((function(){t()}),e)}Hs.Ta="serverreachability",xr(Ks,Ir),Hs.STAT_EVENT="statevent",xr(Qs,Ir),Hs.Ua="timingevent",xr($s,Ir);var Js={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function to(){}function eo(t){return t.h||(t.h=t.i())}function no(){}to.prototype.h=null;var io,ro={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function so(){Ir.call(this,"d")}function oo(){Ir.call(this,"c")}function ao(){}function lo(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Fs(this),this.P=uo,t=jr?125:void 0,this.V=new Ds(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}xr(so,Ir),xr(oo,Ir),xr(ao,to),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},io=new ao;var uo=45e3,ho={},fo={};function po(t,e,n){t.L=1,t.v=Po(To(e)),t.s=n,t.S=!0,go(t,null)}function go(t,e){t.G=Date.now(),bo(t),t.A=To(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),Ko(n.i,"t",i),t.C=0,n=t.l.J,t.h=new co,t.g=Ga(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ls(wr(t.Pa,t,t.g),t.O)),Vs(t.U,t.g,"readystatechange",t.nb),e=t.I?ts(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Gs(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.W,t.s)}function mo(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function vo(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=yo(t,n),i==fo){4==e&&(t.o=4,Ys(14),r=!1),Bs(t.j,t.m,null,"[Incomplete Response]");break}if(i==ho){t.o=4,Ys(15),Bs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Bs(t.j,t.m,i,null),So(t,i)}mo(t)&&i!=fo&&i!=ho&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ys(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Va(e),e.M=!0,Ys(11))):(Bs(t.j,t.m,n,"[Invalid Chunked Response]"),ko(t),xo(t))}function yo(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?fo:(n=Number(e.substring(n,i)),isNaN(n)?ho:(i+=1)+n>e.length?fo:(e=e.slice(i,i+n),t.C=i+n,e))}function bo(t){t.Y=Date.now()+t.P,wo(t,t.P)}function wo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xs(wr(t.lb,t),e)}function _o(t){t.B&&(fr.clearTimeout(t.B),t.B=null)}function xo(t){0==t.l.H||t.J||Ba(t.l,t)}function ko(t){_o(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Ps(t.V),zs(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function So(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Zo(n.i,t)))if(!t.K&&Zo(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;Ua(n),Na(n)}ja(n),Ys(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xs(wr(n.ib,n),6e3));if(1>=Jo(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Wa(n,11)}else if((t.K||n.g==t)&&Ua(n),!Ar(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.i;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ta(s,s.h),s.h=null))}if(i.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.Da=t,Do(i.I,i.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((i=n).wa=Ka(i,i.J?i.pa:null,i.Y),o.K){ea(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(_o(a),bo(a)),i.g=o}else Fa(i);0<n.j.length&&Pa(n)}else"stop"!=c[0]&&"close"!=c[0]||Wa(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Wa(n,7):Ma(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Gs()}catch(c){}}function Eo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pr(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(pr(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(pr(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(cr=lo.prototype).setTimeout=function(t){this.P=t},cr.nb=function(t){t=t.target;const e=this.M;e&&3==Sa(t)?e.l():this.Pa(t)},cr.Pa=function(t){try{if(t==this.g)t:{const u=Sa(this.g);var e=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||jr||this.g&&(this.h.h||this.g.ja()||Ea(this.g)))){this.J||4!=u||7==e||Gs(),_o(this);var n=this.g.da();this.ca=n;e:if(mo(this)){var i=Ea(this.g);t="";var r=i.length,s=4==Sa(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ko(this),xo(this);var o="";break e}this.h.i=new fr.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ar(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ys(12),ko(this),xo(this);break t}Bs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,n)}this.S?(vo(this,u,o),jr&&this.i&&3==u&&(Vs(this.U,this.V,"tick",this.mb),this.V.start())):(Bs(this.j,this.m,o,null),So(this,o)),4==u&&ko(this),this.i&&!this.J&&(4==u?Ba(this.l,this):(this.i=!1,bo(this)))}else(function(t){const e={};t=(t.g&&2<=Sa(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(Ar(t[i]))continue;var n=Es(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ys(12)):(this.o=0,Ys(13)),ko(this),xo(this)}}}catch(u){}},cr.mb=function(){if(this.g){var t=Sa(this.g),e=this.g.ja();this.C<e.length&&(_o(this),vo(this,t,e),this.i&&4!=t&&bo(this))}},cr.cancel=function(){this.J=!0,ko(this)},cr.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.L&&(Gs(),Ys(17)),ko(this),this.o=2,xo(this)):wo(this,this.Y-t)};var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Io){this.h=t.h,Ao(this,t.j),this.s=t.s,this.g=t.g,Mo(this,t.m),this.l=t.l;var e=t.i,n=new Bo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),No(this,n),this.o=t.o}else t&&(e=String(t).match(Co))?(this.h=!1,Ao(this,e[1]||"",!0),this.s=Oo(e[2]||""),this.g=Oo(e[3]||"",!0),Mo(this,e[4]),this.l=Oo(e[5]||"",!0),No(this,e[6]||"",!0),this.o=Oo(e[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}function To(t){return new Io(t)}function Ao(t,e,n){t.j=n?Oo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function No(t,e,n){e instanceof Bo?(t.i=e,function(t,e){e&&!t.j&&(Ho(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Wo(this,e),Ko(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Ro(e,zo)),t.i=new Bo(e,t.h))}function Do(t,e,n){t.i.set(e,n)}function Po(t){return Do(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Oo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ro(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Lo),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lo(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ro(e,Fo,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ro(e,Fo,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ro(n,"/"==n.charAt(0)?Vo:jo,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ro(n,Uo)),t.join("")};var Fo=/[#\/\?@]/g,jo=/[#\?:]/g,Vo=/[#\?]/g,zo=/[#\?@]/g,Uo=/#/g;function Bo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ho(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wo(t,e){Ho(t),e=Go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function qo(t,e){return Ho(t),e=Go(t,e),t.g.has(e)}function Ko(t,e,n){Wo(t,e),0<n.length&&(t.i=null,t.g.set(Go(t,e),Er(n)),t.h+=n.length)}function Go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(cr=Bo.prototype).add=function(t,e){Ho(this),this.i=null,t=Go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},cr.forEach=function(t,e){Ho(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},cr.ta=function(){Ho(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},cr.Z=function(t){Ho(this);let e=[];if("string"===typeof t)qo(this,t)&&(e=e.concat(this.g.get(Go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},cr.set=function(t,e){return Ho(this),this.i=null,qo(this,t=Go(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},cr.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},cr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var Qo=class{constructor(t,e){this.g=t,this.map=e}};function Yo(t){this.l=t||$o,fr.PerformanceNavigationTiming?t=0<(t=fr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(fr.g&&fr.g.Ka&&fr.g.Ka()&&fr.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $o=10;function Xo(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jo(t){return t.h?1:t.g?t.g.size:0}function Zo(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ta(t,e){t.g?t.g.add(e):t.h=e}function ea(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function na(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Er(t.i)}Yo.prototype.cancel=function(){if(this.i=na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ia,ra=class{stringify(t){return fr.JSON.stringify(t,void 0)}parse(t){return fr.JSON.parse(t,void 0)}};function sa(){this.g=new ra}function oa(t,e,n){const i=n||"";try{Eo(t,(function(t,n){let r=t;gr(t)&&(r=_s(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function aa(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function la(t){this.l=t.fc||null,this.j=t.ob||!1}function ca(t,e){ys.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ua,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xr(la,to),la.prototype.g=function(){return new ca(this.l,this.j)},la.prototype.i=(ia={},function(){return ia}),xr(ca,ys);var ua=0;function ha(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function da(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fa(t)}function fa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(cr=ca.prototype).open=function(t,e){if(this.readyState!=ua)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fa(this)},cr.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},cr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,da(this)),this.readyState=ua},cr.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof fr.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ha(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},cr.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?da(this):fa(this),3==this.readyState&&ha(this)}},cr.Za=function(t){this.g&&(this.response=this.responseText=t,da(this))},cr.Ya=function(t){this.g&&(this.response=t,da(this))},cr.ka=function(){this.g&&da(this)},cr.setRequestHeader=function(t,e){this.v.append(t,e)},cr.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},cr.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var pa=fr.JSON.parse;function ga(t){ys.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ma,this.L=this.M=!1}xr(ga,ys);var ma="",va=/^https?$/i,ya=["POST","PUT"];function ba(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wa(t),xa(t)}function wa(t){t.F||(t.F=!0,bs(t,"complete"),bs(t,"error"))}function _a(t){if(t.h&&"undefined"!=typeof dr&&(!t.C[1]||4!=Sa(t)||2!=t.da()))if(t.v&&4==Sa(t))Os(t.La,0,t);else if(bs(t,"readystatechange"),4==Sa(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.I).match(Co)[1]||null;!r&&fr.self&&fr.self.location&&(r=fr.self.location.protocol.slice(0,-1)),i=!va.test(r?r.toLowerCase():"")}n=i}if(n)bs(t,"complete"),bs(t,"success");else{t.m=6;try{var s=2<Sa(t)?t.g.statusText:""}catch(o){s=""}t.j=s+" ["+t.da()+"]",wa(t)}}finally{xa(t)}}}function xa(t,e){if(t.g){ka(t);const i=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bs(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function ka(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fr.clearTimeout(t.A),t.A=null)}function Sa(t){return t.g?t.g.readyState:0}function Ea(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ma:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Ml){return null}}function Ca(t){let e="";return Zr(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Ia(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ca(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Do(t,e,n))}function Ta(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Aa(t){this.Ga=0,this.j=[],this.l=new Us,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ta("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ta("baseRetryDelayMs",5e3,t),this.hb=Ta("retryDelaySeedMs",1e4,t),this.eb=Ta("forwardChannelMaxRetries",2,t),this.xa=Ta("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Yo(t&&t.concurrentRequestLimit),this.Ja=new sa,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ma(t){if(Da(t),3==t.H){var e=t.W++,n=To(t.I);if(Do(n,"SID",t.K),Do(n,"RID",e),Do(n,"TYPE","terminate"),Ra(t,n),(e=new lo(t,t.l,e)).L=2,e.v=Po(To(n)),n=!1,fr.navigator&&fr.navigator.sendBeacon)try{n=fr.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&fr.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ga(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bo(e)}qa(t)}function Na(t){t.g&&(Va(t),t.g.cancel(),t.g=null)}function Da(t){Na(t),t.u&&(fr.clearTimeout(t.u),t.u=null),Ua(t),t.i.cancel(),t.m&&("number"===typeof t.m&&fr.clearTimeout(t.m),t.m=null)}function Pa(t){if(!Xo(t.i)&&!t.m){t.m=!0;var e=t.Na;Is||Ms(),Ts||(Is(),Ts=!0),As.add(e,t),t.C=0}}function Oa(t,e){var n;n=e?e.m:t.W++;const i=To(t.I);Do(i,"SID",t.K),Do(i,"RID",n),Do(i,"AID",t.V),Ra(t,i),t.o&&t.s&&Ia(i,t.o,t.s),n=new lo(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=La(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ta(t.i,n),po(n,i,e)}function Ra(t,e){t.na&&Zr(t.na,(function(t,n){Do(e,n,t)})),t.h&&Eo({},(function(t,n){Do(e,n,t)}))}function La(t,e,n){n=Math.min(t.j.length,n);var i=t.h?wr(t.h.Va,t.h,t):null;t:{var r=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].g;const a=r[o].map;if(n-=e,0>n)e=Math.max(0,r[o].g-100),s=!1;else try{oa(a,t,"req"+n+"_")}catch(Ul){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,i}function Fa(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Is||Ms(),Ts||(Is(),Ts=!0),As.add(e,t),t.A=0}}function ja(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=Xs(wr(t.Ma,t),Ha(t,t.A)),t.A++,!0)}function Va(t){null!=t.B&&(fr.clearTimeout(t.B),t.B=null)}function za(t){t.g=new lo(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=To(t.wa);Do(e,"RID","rpc"),Do(e,"SID",t.K),Do(e,"AID",t.V),Do(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Do(e,"TO",t.qa),Do(e,"TYPE","xmlhttp"),Ra(t,e),t.o&&t.s&&Ia(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Po(To(e)),n.s=null,n.S=!0,go(n,t)}function Ua(t){null!=t.v&&(fr.clearTimeout(t.v),t.v=null)}function Ba(t,e){var n=null;if(t.g==e){Ua(t),Va(t),t.g=null;var i=2}else{if(!Zo(t.i,e))return;n=e.F,ea(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;bs(i=qs(),new $s(i,n)),Pa(t)}else Fa(t);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function(t,e){return!(Jo(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=Xs(wr(t.Na,t,e),Ha(t,t.C)),t.C++,!0))}(t,e)||2==i&&ja(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Wa(t,5);break;case 4:Wa(t,10);break;case 3:Wa(t,6);break;default:Wa(t,2)}}function Ha(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wa(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=wr(t.pb,t);n||(n=new Io("//www.google.com/images/cleardot.gif"),fr.location&&"http"==fr.location.protocol||Ao(n,"https"),Po(n)),function(t,e){const n=new Us;if(fr.Image){const i=new Image;i.onload=_r(aa,n,i,"TestLoadImage: loaded",!0,e),i.onerror=_r(aa,n,i,"TestLoadImage: error",!1,e),i.onabort=_r(aa,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=_r(aa,n,i,"TestLoadImage: timeout",!1,e),fr.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Ys(2);t.H=0,t.h&&t.h.za(e),qa(t),Da(t)}function qa(t){if(t.H=0,t.ma=[],t.h){const e=na(t.i);0==e.length&&0==t.j.length||(Cr(t.ma,e),Cr(t.ma,t.j),t.i.i.length=0,Er(t.j),t.j.length=0),t.h.ya()}}function Ka(t,e,n){var i=n instanceof Io?To(n):new Io(n);if(""!=i.g)e&&(i.g=e+"."+i.g),Mo(i,i.m);else{var r=fr.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Io(null);i&&Ao(s,i),e&&(s.g=e),r&&Mo(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Do(i,n,e),Do(i,"VER",t.ra),Ra(t,i),i}function Ga(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new ga(new la({ob:!0})):new ga(t.va)).Oa(t.J),e}function Qa(){}function Ya(){if(Lr&&!(10<=Number(Kr)))throw Error("Environmental error: no available transport.")}function $a(t,e){ys.call(this),this.g=new Aa(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ar(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ar(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Za(this)}function Xa(t){so.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ja(){oo.call(this),this.status=1}function Za(t){this.g=t}function tl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function el(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function nl(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}(cr=ga.prototype).Oa=function(t){this.M=t},cr.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():io.g(),this.C=this.u?eo(this.u):eo(io),this.g.onreadystatechange=wr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void ba(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=fr.FormData&&t instanceof fr.FormData,!(0<=Sr(ya,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ka(this),0<this.B&&((this.L=function(t){return Lr&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.ua,this)):this.A=Os(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ba(this,s)}},cr.ua=function(){"undefined"!=typeof dr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))},cr.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bs(this,"complete"),bs(this,"abort"),xa(this))},cr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xa(this,!0)),ga.$.N.call(this)},cr.La=function(){this.s||(this.G||this.v||this.l?_a(this):this.kb())},cr.kb=function(){_a(this)},cr.isActive=function(){return!!this.g},cr.da=function(){try{return 2<Sa(this)?this.g.status:-1}catch(ia){return-1}},cr.ja=function(){try{return this.g?this.g.responseText:""}catch(ia){return""}},cr.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pa(e)}},cr.Ia=function(){return this.m},cr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(cr=Aa.prototype).ra=8,cr.H=1,cr.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new lo(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ts(s),ns(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=La(this,r,e),Do(n=To(this.I),"RID",t),Do(n,"CVER",22),this.F&&Do(n,"X-HTTP-Session-Id",this.F),Ra(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ca(s)))+"&"+e:this.o&&Ia(n,this.o,s)),ta(this.i,r),this.bb&&Do(n,"TYPE","init"),this.P?(Do(n,"$req",e),Do(n,"SID","null"),r.aa=!0,po(r,n,null)):po(r,n,e),this.H=2}}else 3==this.H&&(t?Oa(this,t):0==this.j.length||Xo(this.i)||Oa(this))},cr.Ma=function(){if(this.u=null,za(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xs(wr(this.jb,this),t)}},cr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ys(10),Na(this),za(this))},cr.ib=function(){null!=this.v&&(this.v=null,Na(this),ja(this),Ys(19))},cr.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ys(2)):(this.l.info("Failed to ping google.com"),Ys(1))},cr.isActive=function(){return!!this.h&&this.h.isActive(this)},(cr=Qa.prototype).Ba=function(){},cr.Aa=function(){},cr.za=function(){},cr.ya=function(){},cr.isActive=function(){return!0},cr.Va=function(){},Ya.prototype.g=function(t,e){return new $a(t,e)},xr($a,ys),$a.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ys(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Ka(t,null,t.Y),Pa(t)},$a.prototype.close=function(){Ma(this.g)},$a.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=_s(t),t=n);e.j.push(new Qo(e.fb++,t)),3==e.H&&Pa(e)},$a.prototype.N=function(){this.g.h=null,delete this.j,Ma(this.g),delete this.g,$a.$.N.call(this)},xr(Xa,so),xr(Ja,oo),xr(Za,Qa),Za.prototype.Ba=function(){bs(this.g,"a")},Za.prototype.Aa=function(t){bs(this.g,new Xa(t))},Za.prototype.za=function(t){bs(this.g,new Ja)},Za.prototype.ya=function(){bs(this.g,"b")},xr(tl,(function(){this.blockSize=-1})),tl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},tl.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=n;)el(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){el(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){el(this,i),r=0;break}}this.h=r,this.i+=e},tl.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var il={};function rl(t){return-128<=t&&128>t?function(t,e){var n=il;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new nl([0|t],0>t?-1:0)})):new nl([0|t],0>t?-1:0)}function sl(t){if(isNaN(t)||!isFinite(t))return al;if(0>t)return dl(sl(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=ol;return new nl(e,0)}var ol=4294967296,al=rl(0),ll=rl(1),cl=rl(16777216);function ul(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function hl(t){return-1==t.h}function dl(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new nl(n,~t.h).add(ll)}function fl(t,e){return t.add(dl(e))}function pl(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gl(t,e){this.g=t,this.h=e}function ml(t,e){if(ul(e))throw Error("division by zero");if(ul(t))return new gl(al,al);if(hl(t))return e=ml(dl(t),e),new gl(dl(e.g),dl(e.h));if(hl(e))return e=ml(t,dl(e)),new gl(dl(e.g),e.h);if(30<t.g.length){if(hl(t)||hl(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ll,i=e;0>=i.X(t);)n=vl(n),i=vl(i);var r=yl(n,1),s=yl(i,1);for(i=yl(i,2),n=yl(n,2);!ul(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=yl(i,1),n=yl(n,1)}return e=fl(t,r.R(e)),new gl(r,e)}for(r=al;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=sl(n)).R(e);hl(o)||0<o.X(t);)o=(s=sl(n-=i)).R(e);ul(s)&&(s=ll),r=r.add(s),t=fl(t,o)}return new gl(r,t)}function vl(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new nl(n,t.h)}function yl(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new nl(r,t.h)}(cr=nl.prototype).ea=function(){if(hl(this))return-dl(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:ol+i)*e,e*=ol}return t},cr.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ul(this))return"0";if(hl(this))return"-"+dl(this).toString(t);for(var e=sl(Math.pow(t,6)),n=this,i="";;){var r=ml(n,e).g,s=((0<(n=fl(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ul(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},cr.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},cr.X=function(t){return hl(t=fl(this,t))?-1:ul(t)?0:1},cr.abs=function(){return hl(this)?dl(this):this},cr.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&t.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new nl(n,-2147483648&n[n.length-1]?-1:0)},cr.R=function(t){if(ul(this)||ul(t))return al;if(hl(this))return hl(t)?dl(this).R(dl(t)):dl(dl(this).R(t));if(hl(t))return dl(this.R(dl(t)));if(0>this.X(cl)&&0>t.X(cl))return sl(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=t.D(r)>>>16,l=65535&t.D(r);n[2*i+2*r]+=o*l,pl(n,2*i+2*r),n[2*i+2*r+1]+=s*l,pl(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,pl(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,pl(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new nl(n,0)},cr.gb=function(t){return ml(this,t).h},cr.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new nl(n,this.h&t.h)},cr.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new nl(n,this.h|t.h)},cr.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new nl(n,this.h^t.h)},Ya.prototype.createWebChannel=Ya.prototype.g,$a.prototype.send=$a.prototype.u,$a.prototype.open=$a.prototype.m,$a.prototype.close=$a.prototype.close,Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Zs.COMPLETE="complete",no.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",ys.prototype.listen=ys.prototype.O,ga.prototype.listenOnce=ga.prototype.P,ga.prototype.getLastError=ga.prototype.Sa,ga.prototype.getLastErrorCode=ga.prototype.Ia,ga.prototype.getStatus=ga.prototype.da,ga.prototype.getResponseJson=ga.prototype.Wa,ga.prototype.getResponseText=ga.prototype.ja,ga.prototype.send=ga.prototype.ha,ga.prototype.setWithCredentials=ga.prototype.Oa,tl.prototype.digest=tl.prototype.l,tl.prototype.reset=tl.prototype.reset,tl.prototype.update=tl.prototype.j,nl.prototype.add=nl.prototype.add,nl.prototype.multiply=nl.prototype.R,nl.prototype.modulo=nl.prototype.gb,nl.prototype.compare=nl.prototype.X,nl.prototype.toNumber=nl.prototype.ea,nl.prototype.toString=nl.prototype.toString,nl.prototype.getBits=nl.prototype.D,nl.fromNumber=sl,nl.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return dl(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=sl(Math.pow(n,8)),r=al,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),n);8>o?(o=sl(Math.pow(n,o)),r=r.R(o).add(sl(a))):r=(r=r.R(i)).add(sl(a))}return r};var bl=hr.createWebChannelTransport=function(){return new Ya},wl=hr.getStatEventTarget=function(){return qs()},_l=hr.ErrorCode=Js,xl=hr.EventType=Zs,kl=hr.Event=Hs,Sl=hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},El=hr.FetchXmlHttpFactory=la,Cl=hr.WebChannel=no,Il=hr.XhrIo=ga,Tl=hr.Md5=tl,Al=hr.Integer=nl;const Ml="@firebase/firestore";class Nl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Nl.UNAUTHENTICATED=new Nl(null),Nl.GOOGLE_CREDENTIALS=new Nl("google-credentials-uid"),Nl.FIRST_PARTY=new Nl("first-party-uid"),Nl.MOCK_USER=new Nl("mock-user");let Dl="9.23.0";const Pl=new B("@firebase/firestore");function Ol(){return Pl.logLevel}function Rl(t){if(Pl.logLevel<=F.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(jl);Pl.debug("Firestore (".concat(Dl,"): ").concat(t),...r)}}function Ll(t){if(Pl.logLevel<=F.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(jl);Pl.error("Firestore (".concat(Dl,"): ").concat(t),...r)}}function Fl(t){if(Pl.logLevel<=F.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(jl);Pl.warn("Firestore (".concat(Dl,"): ").concat(t),...r)}}function jl(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Vl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(Dl,") INTERNAL ASSERTION FAILED: ")+t;throw Ll(e),new Error(e)}function zl(t,e){t||Vl()}function Ul(t,e){return t}const Bl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hl extends w{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Wl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class ql{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class Kl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Nl.UNAUTHENTICATED)))}shutdown(){}}class Gl{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ql{constructor(t){this.t=t,this.currentUser=Nl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Wl,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Rl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Rl("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Wl)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Rl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(zl("string"==typeof e.accessToken),new ql(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return zl(null===t||"string"==typeof t),new Nl(t)}}class Yl{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Nl.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $l{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Yl(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(Nl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xl{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jl{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=t=>{null!=t.error&&Rl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.T;return this.T=t.token,Rl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Rl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?i(t):Rl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(zl("string"==typeof t.token),this.T=t.token,new Xl(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zl(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class tc{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Zl(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62))}return n}}function ec(t,e){return t<e?-1:t>e?1:0}function nc(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}class ic{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ic.fromMillis(Date.now())}static fromDate(t){return ic.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new ic(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ec(this.nanoseconds,t.nanoseconds):ec(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rc{constructor(t){this.timestamp=t}static fromTimestamp(t){return new rc(t)}static min(){return new rc(new ic(0,0))}static max(){return new rc(new ic(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sc{constructor(t,e,n){void 0===e?e=0:e>t.length&&Vl(),void 0===n?n=t.length-e:n>t.length-e&&Vl(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===sc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof sc?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class oc extends sc{construct(t,e,n){return new oc(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter((t=>t.length>0)))}return new oc(t)}static emptyPath(){return new oc([])}}const ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lc extends sc{construct(t,e,n){return new lc(t,e,n)}static isValidIdentifier(t){return ac.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lc.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lc(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Hl(Bl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Hl(Bl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Hl(Bl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lc(e)}static emptyPath(){return new lc([])}}class cc{constructor(t){this.path=t}static fromPath(t){return new cc(oc.fromString(t))}static fromName(t){return new cc(oc.fromString(t).popFirst(5))}static empty(){return new cc(oc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===oc.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return oc.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cc(new oc(t.slice()))}}class uc{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}uc.UNKNOWN_ID=-1;function hc(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=rc.fromTimestamp(1e9===i?new ic(n+1,0):new ic(n,i));return new fc(r,cc.empty(),e)}function dc(t){return new fc(t.readTime,t.key,-1)}class fc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new fc(rc.min(),cc.empty(),-1)}static max(){return new fc(rc.max(),cc.empty(),-1)}}function pc(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=cc.comparator(t.documentKey,e.documentKey),0!==n?n:ec(t.largestBatchId,e.largestBatchId))}const gc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vc(t){if(t.code!==Bl.FAILED_PRECONDITION||t.message!==gc)throw t;Rl("LocalStore","Unexpectedly lost primary lease")}class yc{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yc(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof yc?e:yc.resolve(e)}catch(t){return yc.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):yc.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):yc.reject(e)}static resolve(t){return new yc(((e,n)=>{e(t)}))}static reject(t){return new yc(((e,n)=>{n(t)}))}static waitFor(t){return new yc(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=yc.resolve(!1);for(const n of t)e=e.next((t=>t?yc.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new yc(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new yc(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}function bc(t){return"IndexedDbTransactionError"===t.name}class wc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}function _c(t){return null==t}function xc(t){return 0===t&&1/t==-1/0}function kc(t){return"number"==typeof t&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}wc.ct=-1;const Sc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ec=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cc=Ec;function Ic(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ac(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Mc{constructor(t,e){this.comparator=t,this.root=e||Dc.EMPTY}insert(t,e){return new Mc(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Dc.BLACK,null,null))}remove(t){return new Mc(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dc.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Dc{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Dc.RED,this.left=null!=i?i:Dc.EMPTY,this.right=null!=r?r:Dc.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Dc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dc.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Dc.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Dc.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Dc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vl();if(this.right.isRed())throw Vl();const t=this.left.check();if(t!==this.right.check())throw Vl();return t+(this.isRed()?0:1)}}Dc.EMPTY=null,Dc.RED=!0,Dc.BLACK=!1,Dc.EMPTY=new class{constructor(){this.size=0}get key(){throw Vl()}get value(){throw Vl()}get color(){throw Vl()}get left(){throw Vl()}get right(){throw Vl()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Dc(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pc{constructor(t){this.comparator=t,this.data=new Mc(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Oc(this.data.getIterator())}getIteratorFrom(t){return new Oc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Pc))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Pc(this.comparator);return e.data=t,e}}class Oc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rc{constructor(t){this.fields=t,t.sort(lc.comparator)}static empty(){return new Rc([])}unionWith(t){let e=new Pc(lc.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Rc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nc(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Lc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fc{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Lc("Invalid base64 string: "+t):t}}(t);return new Fc(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Fc(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ec(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fc.EMPTY_BYTE_STRING=new Fc("");const jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vc(t){if(zl(!!t),"string"==typeof t){let e=0;const n=jc.exec(t);if(zl(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zc(t.seconds),nanos:zc(t.nanos)}}function zc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Uc(t){return"string"==typeof t?Fc.fromBase64String(t):Fc.fromUint8Array(t)}function Bc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hc(t){const e=t.mapValue.fields.__previous_value__;return Bc(e)?Hc(e):e}function Wc(t){const e=Vc(t.mapValue.fields.__local_write_time__.timestampValue);return new ic(e.seconds,e.nanos)}class qc{constructor(t,e,n,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Kc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Kc&&t.projectId===this.projectId&&t.database===this.database}}const Gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bc(t)?4:lu(t)?9007199254740991:10:Vl()}function Yc(t,e){if(t===e)return!0;const n=Qc(t);if(n!==Qc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Vc(t.timestampValue),i=Vc(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Uc(t.bytesValue).isEqual(Uc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zc(t.geoPointValue.latitude)===zc(e.geoPointValue.latitude)&&zc(t.geoPointValue.longitude)===zc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zc(t.integerValue)===zc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=zc(t.doubleValue),i=zc(e.doubleValue);return n===i?xc(n)===xc(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return nc(t.arrayValue.values||[],e.arrayValue.values||[],Yc);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Ic(n)!==Ic(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Yc(n[r],i[r])))return!1;return!0}(t,e);default:return Vl()}}function $c(t,e){return void 0!==(t.values||[]).find((t=>Yc(t,e)))}function Xc(t,e){if(t===e)return 0;const n=Qc(t),i=Qc(e);if(n!==i)return ec(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ec(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=zc(t.integerValue||t.doubleValue),i=zc(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Jc(t.timestampValue,e.timestampValue);case 4:return Jc(Wc(t),Wc(e));case 5:return ec(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Uc(t),i=Uc(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=ec(n[r],i[r]);if(0!==t)return t}return ec(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=ec(zc(t.latitude),zc(e.latitude));return 0!==n?n:ec(zc(t.longitude),zc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=Xc(n[r],i[r]);if(t)return t}return ec(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Gc.mapValue&&e===Gc.mapValue)return 0;if(t===Gc.mapValue)return 1;if(e===Gc.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=ec(i[o],s[o]);if(0!==t)return t;const e=Xc(n[i[o]],r[s[o]]);if(0!==e)return e}return ec(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Vl()}}function Jc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ec(t,e);const n=Vc(t),i=Vc(e),r=ec(n.seconds,i.seconds);return 0!==r?r:ec(n.nanos,i.nanos)}function Zc(t){return tu(t)}function tu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Vc(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Uc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,cc.fromName(n).toString()):"geoPointValue"in t?"geo(".concat((e=t.geoPointValue).latitude,",").concat(e.longitude,")"):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=tu(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(tu(t.fields[r]));return n+"}"}(t.mapValue):Vl();var e,n}function eu(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function nu(t){return!!t&&"integerValue"in t}function iu(t){return!!t&&"arrayValue"in t}function ru(t){return!!t&&"nullValue"in t}function su(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ou(t){return!!t&&"mapValue"in t}function au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=au(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lu(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class cu{constructor(t){this.value=t}static empty(){return new cu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!ou(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(e)}setAll(t){let e=lc.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=au(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());ou(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Yc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];ou(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Tc(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new cu(au(this.value))}}function uu(t){const e=[];return Tc(t.fields,((t,n)=>{const i=new lc([t]);if(ou(n)){const t=uu(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new Rc(e)}class hu{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new hu(t,0,rc.min(),rc.min(),rc.min(),cu.empty(),0)}static newFoundDocument(t,e,n,i){return new hu(t,1,e,rc.min(),n,i,0)}static newNoDocument(t,e){return new hu(t,2,e,rc.min(),rc.min(),cu.empty(),0)}static newUnknownDocument(t,e){return new hu(t,3,e,rc.min(),rc.min(),cu.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(rc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rc.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hu&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class du{constructor(t,e){this.position=t,this.inclusive=e}}function fu(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?cc.comparator(cc.fromName(o.referenceValue),n.key):Xc(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function pu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yc(t.position[n],e.position[n]))return!1;return!0}class gu{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function mu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vu{}class yu extends vu{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Cu(t,e,n):"array-contains"===e?new Mu(t,n):"in"===e?new Nu(t,n):"not-in"===e?new Du(t,n):"array-contains-any"===e?new Pu(t,n):new yu(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Iu(t,n):new Tu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Xc(e,this.value)):null!==e&&Qc(this.value)===Qc(e)&&this.matchesComparison(Xc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Vl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bu extends vu{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new bu(t,e)}matches(t){return wu(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft((t=>t.isInequality()));return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function wu(t){return"and"===t.op}function _u(t){return xu(t)&&wu(t)}function xu(t){for(const e of t.filters)if(e instanceof bu)return!1;return!0}function ku(t){if(t instanceof yu)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(_u(t))return t.filters.map((t=>ku(t))).join(",");{const e=t.filters.map((t=>ku(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function Su(t,e){return t instanceof yu?function(t,e){return e instanceof yu&&t.op===e.op&&t.field.isEqual(e.field)&&Yc(t.value,e.value)}(t,e):t instanceof bu?function(t,e){return e instanceof bu&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&Su(n,e.filters[i])),!0)}(t,e):void Vl()}function Eu(t){return t instanceof yu?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(Zc(t.value))}(t):t instanceof bu?function(t){return t.op.toString()+" {"+t.getFilters().map(Eu).join(" ,")+"}"}(t):"Filter"}class Cu extends yu{constructor(t,e,n){super(t,e,n),this.key=cc.fromName(n.referenceValue)}matches(t){const e=cc.comparator(t.key,this.key);return this.matchesComparison(e)}}class Iu extends yu{constructor(t,e){super(t,"in",e),this.keys=Au("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Tu extends yu{constructor(t,e){super(t,"not-in",e),this.keys=Au("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Au(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>cc.fromName(t.referenceValue)))}class Mu extends yu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return iu(e)&&$c(e.arrayValue,this.value)}}class Nu extends yu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&$c(this.value.arrayValue,e)}}class Du extends yu{constructor(t,e){super(t,"not-in",e)}matches(t){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!$c(this.value.arrayValue,e)}}class Pu extends yu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!iu(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>$c(this.value.arrayValue,t)))}}class Ou{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.dt=null}}function Ru(t){return new Ou(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lu(t){const e=Ul(t);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>ku(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),_c(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Zc(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Zc(t))).join(",")),e.dt=t}return e.dt}function Fu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Su(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pu(t.startAt,e.startAt)&&pu(t.endAt,e.endAt)}function ju(t){return cc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Vu{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function zu(t,e,n,i,r,s,o,a){return new Vu(t,e,n,i,r,s,o,a)}function Uu(t){return new Vu(t)}function Bu(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Hu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wu(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qu(t){return null!==t.collectionGroup}function Ku(t){const e=Ul(t);if(null===e.wt){e.wt=[];const t=Wu(e),n=Hu(e);if(null!==t&&null===n)t.isKeyField()||e.wt.push(new gu(t)),e.wt.push(new gu(lc.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.wt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new gu(lc.keyField(),t))}}}return e.wt}function Gu(t){const e=Ul(t);if(!e._t)if("F"===e.limitType)e._t=Ru(e.path,e.collectionGroup,Ku(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of Ku(e)){const e="desc"===r.dir?"asc":"desc";t.push(new gu(r.field,e))}const n=e.endAt?new du(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new du(e.startAt.position,e.startAt.inclusive):null;e._t=Ru(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e._t}function Qu(t,e){e.getFirstInequalityField(),Wu(t);const n=t.filters.concat([e]);return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yu(t,e,n){return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $u(t,e){return Fu(Gu(t),Gu(e))&&t.limitType===e.limitType}function Xu(t){return"".concat(Lu(Gu(t)),"|lt:").concat(t.limitType)}function Ju(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>Eu(t))).join(", "),"]")),_c(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Zc(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Zc(t))).join(",")),"Target(".concat(e,")")}(Gu(t)),"; limitType=").concat(t.limitType,")")}function Zu(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):cc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Ku(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=fu(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Ku(t),e))&&!(t.endAt&&!function(t,e,n){const i=fu(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Ku(t),e))}(t,e)}function th(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eh(t){return(e,n)=>{let i=!1;for(const r of Ku(t)){const t=nh(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function nh(t,e,n){const i=t.field.isKeyField()?cc.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Xc(i,r):Vl()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Vl()}}class ih{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Tc(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return Ac(this.inner)}size(){return this.innerSize}}const rh=new Mc(cc.comparator);function sh(){return rh}const oh=new Mc(cc.comparator);function ah(){let t=oh;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function lh(t){let e=oh;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ch(){return hh()}function uh(){return hh()}function hh(){return new ih((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dh=new Mc(cc.comparator),fh=new Pc(cc.comparator);function ph(){let t=fh;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const gh=new Pc(ec);function mh(){return gh}function vh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function yh(t){return{integerValue:""+t}}function bh(t,e){return kc(e)?yh(e):vh(t,e)}class wh{constructor(){this._=void 0}}function _h(t,e,n){return t instanceof Sh?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Bc(e)&&(e=Hc(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Eh?Ch(t,e):t instanceof Ih?Th(t,e):function(t,e){const n=kh(t,e),i=Mh(n)+Mh(t.gt);return nu(n)&&nu(t.gt)?yh(i):vh(t.serializer,i)}(t,e)}function xh(t,e,n){return t instanceof Eh?Ch(t,e):t instanceof Ih?Th(t,e):n}function kh(t,e){return t instanceof Ah?nu(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Sh extends wh{}class Eh extends wh{constructor(t){super(),this.elements=t}}function Ch(t,e){const n=Nh(e);for(const i of t.elements)n.some((t=>Yc(t,i)))||n.push(i);return{arrayValue:{values:n}}}class Ih extends wh{constructor(t){super(),this.elements=t}}function Th(t,e){let n=Nh(e);for(const i of t.elements)n=n.filter((t=>!Yc(t,i)));return{arrayValue:{values:n}}}class Ah extends wh{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Mh(t){return zc(t.integerValue||t.doubleValue)}function Nh(t){return iu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Dh{constructor(t,e){this.field=t,this.transform=e}}class Ph{constructor(t,e){this.version=t,this.transformResults=e}}class Oh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oh}static exists(t){return new Oh(void 0,t)}static updateTime(t){return new Oh(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Lh{}function Fh(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Gh(t.key,Oh.none()):new Bh(t.key,t.data,Oh.none());{const n=t.data,i=cu.empty();let r=new Pc(lc.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new Hh(t.key,i,new Rc(r.toArray()),Oh.none())}}function jh(t,e,n){t instanceof Bh?function(t,e,n){const i=t.value.clone(),r=qh(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Hh?function(t,e,n){if(!Rh(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=qh(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Wh(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n,i){return t instanceof Bh?function(t,e,n,i){if(!Rh(t.precondition,e))return n;const r=t.value.clone(),s=Kh(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof Hh?function(t,e,n,i){if(!Rh(t.precondition,e))return n;const r=Kh(t.fieldTransforms,i,e),s=e.data;return s.setAll(Wh(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return Rh(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function zh(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=kh(i.transform,t||null);null!=r&&(null===n&&(n=cu.empty()),n.set(i.field,r))}return n||null}function Uh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&nc(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Eh&&e instanceof Eh||t instanceof Ih&&e instanceof Ih?nc(t.elements,e.elements,Yc):t instanceof Ah&&e instanceof Ah?Yc(t.gt,e.gt):t instanceof Sh&&e instanceof Sh}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bh extends Lh{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hh extends Lh{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Wh(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function qh(t,e,n){const i=new Map;zl(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,xh(o,a,n[r]))}return i}function Kh(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,_h(t,s,e))}return i}class Gh extends Lh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qh extends Lh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yh{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&jh(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Vh(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Vh(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=uh();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=Fh(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(rc.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ph())}isEqual(t){return this.batchId===t.batchId&&nc(this.mutations,t.mutations,((t,e)=>Uh(t,e)))&&nc(this.baseMutations,t.baseMutations,((t,e)=>Uh(t,e)))}}class $h{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){zl(t.mutations.length===n.length);let i=dh;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new $h(t,e,n,i)}}class Xh{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Jh{constructor(t,e){this.count=t,this.unchangedNames=e}}var Zh,td;function ed(t){switch(t){default:return Vl();case Bl.CANCELLED:case Bl.UNKNOWN:case Bl.DEADLINE_EXCEEDED:case Bl.RESOURCE_EXHAUSTED:case Bl.INTERNAL:case Bl.UNAVAILABLE:case Bl.UNAUTHENTICATED:return!1;case Bl.INVALID_ARGUMENT:case Bl.NOT_FOUND:case Bl.ALREADY_EXISTS:case Bl.PERMISSION_DENIED:case Bl.FAILED_PRECONDITION:case Bl.ABORTED:case Bl.OUT_OF_RANGE:case Bl.UNIMPLEMENTED:case Bl.DATA_LOSS:return!0}}function nd(t){if(void 0===t)return Ll("GRPC error has no .code"),Bl.UNKNOWN;switch(t){case Zh.OK:return Bl.OK;case Zh.CANCELLED:return Bl.CANCELLED;case Zh.UNKNOWN:return Bl.UNKNOWN;case Zh.DEADLINE_EXCEEDED:return Bl.DEADLINE_EXCEEDED;case Zh.RESOURCE_EXHAUSTED:return Bl.RESOURCE_EXHAUSTED;case Zh.INTERNAL:return Bl.INTERNAL;case Zh.UNAVAILABLE:return Bl.UNAVAILABLE;case Zh.UNAUTHENTICATED:return Bl.UNAUTHENTICATED;case Zh.INVALID_ARGUMENT:return Bl.INVALID_ARGUMENT;case Zh.NOT_FOUND:return Bl.NOT_FOUND;case Zh.ALREADY_EXISTS:return Bl.ALREADY_EXISTS;case Zh.PERMISSION_DENIED:return Bl.PERMISSION_DENIED;case Zh.FAILED_PRECONDITION:return Bl.FAILED_PRECONDITION;case Zh.ABORTED:return Bl.ABORTED;case Zh.OUT_OF_RANGE:return Bl.OUT_OF_RANGE;case Zh.UNIMPLEMENTED:return Bl.UNIMPLEMENTED;case Zh.DATA_LOSS:return Bl.DATA_LOSS;default:return Vl()}}(td=Zh||(Zh={}))[td.OK=0]="OK",td[td.CANCELLED=1]="CANCELLED",td[td.UNKNOWN=2]="UNKNOWN",td[td.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",td[td.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",td[td.NOT_FOUND=5]="NOT_FOUND",td[td.ALREADY_EXISTS=6]="ALREADY_EXISTS",td[td.PERMISSION_DENIED=7]="PERMISSION_DENIED",td[td.UNAUTHENTICATED=16]="UNAUTHENTICATED",td[td.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",td[td.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",td[td.ABORTED=10]="ABORTED",td[td.OUT_OF_RANGE=11]="OUT_OF_RANGE",td[td.UNIMPLEMENTED=12]="UNIMPLEMENTED",td[td.INTERNAL=13]="INTERNAL",td[td.UNAVAILABLE=14]="UNAVAILABLE",td[td.DATA_LOSS=15]="DATA_LOSS";class id{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rd}static getOrCreateInstance(){return null===rd&&(rd=new id),rd}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach((e=>e(t)))}}let rd=null;function sd(){return new TextEncoder}const od=new Al([4294967295,4294967295],0);function ad(t){const e=sd().encode(t),n=new Tl;return n.update(e),new Uint8Array(n.digest())}function ld(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Al([n,i],0),new Al([r,s],0)]}class cd{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new ud("Invalid padding: ".concat(e));if(n<0)throw new ud("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new ud("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new ud("Invalid padding when bitmap length is 0: ".concat(e));this.It=8*t.length-e,this.Tt=Al.fromNumber(this.It)}Et(t,e,n){let i=t.add(e.multiply(Al.fromNumber(n)));return 1===i.compare(od)&&(i=new Al([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=ad(t),[n,i]=ld(e);for(let r=0;r<this.hashCount;r++){const t=this.Et(n,i,r);if(!this.At(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new cd(r,i,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.It)return;const e=ad(t),[n,i]=ld(e);for(let r=0;r<this.hashCount;r++){const t=this.Et(n,i,r);this.Rt(t)}}Rt(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hd{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,dd.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new hd(rc.min(),i,new Mc(ec),sh(),ph())}}class dd{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new dd(n,e,ph(),ph(),ph())}}class fd{constructor(t,e,n,i){this.Pt=t,this.removedTargetIds=e,this.key=n,this.bt=i}}class pd{constructor(t,e){this.targetId=t,this.Vt=e}}class gd{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class md{constructor(){this.St=0,this.Dt=bd(),this.Ct=Fc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=ph(),e=ph(),n=ph();return this.Dt.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Vl()}})),new dd(this.Ct,this.xt,t,e,n)}Ft(){this.Nt=!1,this.Dt=bd()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vd{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=sh(),this.zt=yd(),this.Wt=new Mc(ec)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,(e=>{const n=this.Zt(e);switch(t.state){case 0:this.te(e)&&n.$t(t.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(t.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(e);break;case 3:this.te(e)&&(n.Kt(),n.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),n.$t(t.resumeToken));break;default:Vl()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach(((t,n)=>{this.te(n)&&e(n)}))}ne(t){var e;const n=t.targetId,i=t.Vt.count,r=this.se(n);if(r){const s=r.target;if(ju(s))if(0===i){const t=new cc(s.path);this.Yt(n,t,hu.newNoDocument(t,rc.min()))}else zl(1===i);else{const r=this.ie(n);if(r!==i){const i=this.re(t,r);if(0!==i){this.ee(n);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,t)}null===(e=id.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(t,e,n){var i,r,s,o,a,l;const c={localCacheCount:e,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===t,hashCount:null!==(i=null==u?void 0:u.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(o=null===(s=null===(r=null==u?void 0:u.bits)||void 0===r?void 0:r.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(i,r,t.Vt))}}}}re(t,e){const{unchangedNames:n,count:i}=t.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Uc(r).toUint8Array()}catch(t){if(t instanceof Lc)return Fl("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw t}try{l=new cd(a,s,o)}catch(t){return Fl(t instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",t),1}return 0===l.It?1:i!==e-this.oe(t.targetId,l)?2:0}oe(t,e){const n=this.Gt.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.Gt.ue(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.vt(s)||(this.Yt(t,n,null),i++)})),i}ce(t){const e=new Map;this.Qt.forEach(((n,i)=>{const r=this.se(i);if(r){if(n.current&&ju(r.target)){const e=new cc(r.target.path);null!==this.jt.get(e)||this.ae(i,e)||this.Yt(i,e,hu.newNoDocument(e,t))}n.Mt&&(e.set(i,n.Ot()),n.Ft())}}));let n=ph();this.zt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.se(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.jt.forEach(((e,n)=>n.setReadTime(t)));const i=new hd(t,e,this.Wt,this.jt,n);return this.jt=sh(),this.zt=yd(),this.Wt=new Mc(ec),i}Jt(t,e){if(!this.te(t))return;const n=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,n),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,n){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,e)?i.Bt(e,1):i.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),n&&(this.jt=this.jt.insert(e,n))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new md,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Pc(ec),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Rl("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new md),this.Gt.getRemoteKeysForTarget(t).forEach((e=>{this.Yt(t,e,null)}))}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function yd(){return new Mc(cc.comparator)}function bd(){return new Mc(cc.comparator)}const wd={asc:"ASCENDING",desc:"DESCENDING"},_d={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xd={and:"AND",or:"OR"};class kd{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Sd(t,e){return t.useProto3Json||_c(e)?e:{value:e}}function Ed(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cd(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Id(t,e){return Ed(t,e.toTimestamp())}function Td(t){return zl(!!t),rc.fromTimestamp(function(t){const e=Vc(t);return new ic(e.seconds,e.nanos)}(t))}function Ad(t,e){return function(t){return new oc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Md(t){const e=oc.fromString(t);return zl($d(e)),e}function Nd(t,e){return Ad(t.databaseId,e.path)}function Dd(t,e){const n=Md(e);if(n.get(1)!==t.databaseId.projectId)throw new Hl(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Hl(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new cc(Ld(n))}function Pd(t,e){return Ad(t.databaseId,e)}function Od(t){const e=Md(t);return 4===e.length?oc.emptyPath():Ld(e)}function Rd(t){return new oc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ld(t){return zl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Fd(t,e,n){return{name:Nd(t,e),fields:n.value.mapValue.fields}}function jd(t,e){let n;if(e instanceof Bh)n={update:Fd(t,e.key,e.value)};else if(e instanceof Gh)n={delete:Nd(t,e.key)};else if(e instanceof Hh)n={update:Fd(t,e.key,e.data),updateMask:Yd(e.fieldMask)};else{if(!(e instanceof Qh))return Vl();n={verify:Nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ih)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ah)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw Vl()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Id(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Vl()}(t,e.precondition)),n}function Vd(t,e){return{documents:[Pd(t,e.path)]}}function zd(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Pd(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pd(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0!==t.length)return Qd(bu.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Kd(t.field),direction:Hd(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Sd(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Ud(t){let e=Od(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){zl(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Bd(t);return e instanceof bu&&_u(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new gu(Gd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,_c(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new du(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new du(n,e)}(n.endAt)),zu(e,r,o,s,a,"F",l,c)}function Bd(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Gd(t.unaryFilter.field);return yu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Gd(t.unaryFilter.field);return yu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gd(t.unaryFilter.field);return yu.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Gd(t.unaryFilter.field);return yu.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Vl()}}(t):void 0!==t.fieldFilter?function(t){return yu.create(Gd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vl()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return bu.create(t.compositeFilter.filters.map((t=>Bd(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Vl()}}(t.compositeFilter.op))}(t):Vl()}function Hd(t){return wd[t]}function Wd(t){return _d[t]}function qd(t){return xd[t]}function Kd(t){return{fieldPath:t.canonicalString()}}function Gd(t){return lc.fromServerFormat(t.fieldPath)}function Qd(t){return t instanceof yu?function(t){if("=="===t.op){if(su(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NAN"}};if(ru(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(su(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NAN"}};if(ru(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(t.field),op:Wd(t.op),value:t.value}}}(t):t instanceof bu?function(t){const e=t.getFilters().map((t=>Qd(t)));return 1===e.length?e[0]:{compositeFilter:{op:qd(t.op),filters:e}}}(t):Vl()}function Yd(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $d(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Xd{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new Xd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Jd{constructor(t){this.fe=t}}function Zd(t){const e=Ud({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yu(e,e.limit,"L"):e}class tf{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(zc(t.integerValue));else if("doubleValue"in t){const n=zc(t.doubleValue);isNaN(n)?this.ye(e,13):(this.ye(e,15),xc(n)?e.pe(0):e.pe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ye(e,20),"string"==typeof n?e.Ie(n):(e.Ie("".concat(n.seconds||"")),e.pe(n.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Uc(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ye(e,45),e.pe(n.latitude||0),e.pe(n.longitude||0)}else"mapValue"in t?lu(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Vl()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const n=t.fields||{};this.ye(e,55);for(const i of Object.keys(n))this.Te(i,e),this.me(n[i],e)}Pe(t,e){const n=t.values||[];this.ye(e,50);for(const i of n)this.me(i,e)}ve(t,e){this.ye(e,37),cc.fromName(t).path.forEach((t=>{this.ye(e,60),this.be(t,e)}))}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}tf.Ve=new tf;class ef{constructor(){this.rn=new nf}addToCollectionParentIndex(t,e){return this.rn.add(e),yc.resolve()}getCollectionParents(t,e){return yc.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return yc.resolve()}deleteFieldIndex(t,e){return yc.resolve()}getDocumentsMatchingTarget(t,e){return yc.resolve(null)}getIndexType(t,e){return yc.resolve(0)}getFieldIndexes(t,e){return yc.resolve([])}getNextCollectionGroupToUpdate(t){return yc.resolve(null)}getMinOffset(t,e){return yc.resolve(fc.min())}getMinOffsetFromCollectionGroup(t,e){return yc.resolve(fc.min())}updateCollectionGroup(t,e,n){return yc.resolve()}updateIndexEntries(t,e){return yc.resolve()}}class nf{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Pc(oc.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Pc(oc.comparator)).toArray()}}new Uint8Array(0);class rf{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new rf(t,rf.DEFAULT_COLLECTION_PERCENTILE,rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rf.DEFAULT_COLLECTION_PERCENTILE=10,rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rf.DEFAULT=new rf(41943040,rf.DEFAULT_COLLECTION_PERCENTILE,rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rf.DISABLED=new rf(-1,0,0);class sf{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new sf(0)}static Mn(){return new sf(-1)}}class of{constructor(){this.changes=new ih((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hu.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?yc.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class af{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class lf{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Vh(n.mutation,t,Rc.empty(),ic.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,ph()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ph();const i=ch();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=ah();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=ch();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,ph())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=sh();const s=hh(),o=hh();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof Hh)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Vh(o.mutation,e,o.mutation.getFieldMask(),ic.now())):s.set(e.key,Rc.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new af(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=hh();let i=new Mc(((t,e)=>t-e)),r=ph();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Rc.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||ph()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=uh();l.forEach((t=>{if(!r.has(t)){const i=Fh(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return yc.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return cc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):qu(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):yc.resolve(ch());let o=-1,a=r;return s.next((e=>yc.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?yc.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,ph()))).next((t=>({batchId:o,changes:lh(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new cc(e)).next((t=>{let e=ah();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=ah();return this.indexManager.getCollectionParents(t,i).next((s=>yc.forEach(s,(s=>{const o=function(t,e){return new Vu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i)))).next((t=>{i.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,hu.newInvalidDocument(i)))}));let n=ah();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&Vh(s.mutation,r,Rc.empty(),ic.now()),Zu(e,r)&&(n=n.insert(t,r))})),n}))}}class cf{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return yc.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var n;return this.cs.set(e.id,{id:(n=e).id,version:n.version,createTime:Td(n.createTime)}),yc.resolve()}getNamedQuery(t,e){return yc.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,function(t){return{name:t.name,query:Zd(t.bundledQuery),readTime:Td(t.readTime)}}(e)),yc.resolve()}}class uf{constructor(){this.overlays=new Mc(cc.comparator),this.ls=new Map}getOverlay(t,e){return yc.resolve(this.overlays.get(e))}getOverlays(t,e){const n=ch();return yc.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.we(t,e,i)})),yc.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.ls.delete(n)),yc.resolve()}getOverlaysForCollection(t,e,n){const i=ch(),r=e.length+1,s=new cc(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return yc.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Mc(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=ch(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=ch(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=i)););return yc.resolve(o)}we(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Xh(e,n));let r=this.ls.get(e);void 0===r&&(r=ph(),this.ls.set(e,r)),this.ls.set(e,r.add(n.key))}}class hf{constructor(){this.fs=new Pc(df.ds),this.ws=new Pc(df._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const n=new df(t,e);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.ys(new df(t,e))}ps(t,e){t.forEach((t=>this.removeReference(t,e)))}Is(t){const e=new cc(new oc([])),n=new df(e,t),i=new df(e,t+1),r=[];return this.ws.forEachInRange([n,i],(t=>{this.ys(t),r.push(t.key)})),r}Ts(){this.fs.forEach((t=>this.ys(t)))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new cc(new oc([])),n=new df(e,t),i=new df(e,t+1);let r=ph();return this.ws.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new df(t,0),n=this.fs.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class df{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return cc.comparator(t.key,e.key)||ec(t.As,e.As)}static _s(t,e){return ec(t.As,e.As)||cc.comparator(t.key,e.key)}}class ff{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Pc(df.ds)}checkEmpty(t){return yc.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Yh(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.Rs=this.Rs.add(new df(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return yc.resolve(s)}lookupMutationBatch(t,e){return yc.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.bs(n),r=i<0?0:i;return yc.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return yc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return yc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new df(e,0),i=new df(e,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,i],(t=>{const e=this.Ps(t.As);r.push(e)})),yc.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Pc(ec);return e.forEach((t=>{const e=new df(t,0),i=new df(t,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([e,i],(t=>{n=n.add(t.As)}))})),yc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;cc.isDocumentKey(r)||(r=r.child(""));const s=new df(new cc(r),0);let o=new Pc(ec);return this.Rs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.As)),!0)}),s),yc.resolve(this.Vs(o))}Vs(t){const e=[];return t.forEach((t=>{const n=this.Ps(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){zl(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return yc.forEach(e.mutations,(i=>{const r=new df(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Rs=n}))}Cn(t){}containsKey(t,e){const n=new df(e,0),i=this.Rs.firstAfterOrEqual(n);return yc.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,yc.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class pf{constructor(t){this.Ds=t,this.docs=new Mc(cc.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.Ds(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return yc.resolve(n?n.document.mutableCopy():hu.newInvalidDocument(e))}getEntries(t,e){let n=sh();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():hu.newInvalidDocument(t))})),yc.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=sh();const s=e.path,o=new cc(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||pc(dc(o),n)<=0||(i.has(o.key)||Zu(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return yc.resolve(r)}getAllFromCollectionGroup(t,e,n,i){Vl()}Cs(t,e){return yc.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new gf(this)}getSize(t){return yc.resolve(this.size)}}class gf extends of{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.os.addEntry(t,i)):this.os.removeEntry(n)})),yc.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class mf{constructor(t){this.persistence=t,this.xs=new ih((t=>Lu(t)),Fu),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hf,this.targetCount=0,this.Ms=sf.kn()}forEachTarget(t,e){return this.xs.forEach(((t,n)=>e(n))),yc.resolve()}getLastRemoteSnapshotVersion(t){return yc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yc.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),yc.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ns&&(this.Ns=e),yc.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new sf(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,yc.resolve()}updateTargetData(t,e){return this.Fn(e),yc.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,yc.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.xs.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),yc.waitFor(r).next((()=>i))}getTargetCount(t){return yc.resolve(this.targetCount)}getTargetData(t,e){const n=this.xs.get(e)||null;return yc.resolve(n)}addMatchingKeys(t,e,n){return this.ks.gs(e,n),yc.resolve()}removeMatchingKeys(t,e,n){this.ks.ps(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),yc.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),yc.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ks.Es(e);return yc.resolve(n)}containsKey(t,e){return yc.resolve(this.ks.containsKey(e))}}class vf{constructor(t,e){this.$s={},this.overlays={},this.Os=new wc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new mf(this),this.indexManager=new ef,this.remoteDocumentCache=function(t){return new pf(t)}((t=>this.referenceDelegate.Ls(t))),this.serializer=new Jd(e),this.qs=new cf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uf,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.$s[t.toKey()];return n||(n=new ff(e,this.referenceDelegate),this.$s[t.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,n){Rl("MemoryPersistence","Starting transaction:",t);const i=new yf(this.Os.next());return this.referenceDelegate.Us(),n(i).next((t=>this.referenceDelegate.Ks(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Gs(t,e){return yc.or(Object.values(this.$s).map((n=>()=>n.containsKey(t,e))))}}class yf extends mc{constructor(t){super(),this.currentSequenceNumber=t}}class bf{constructor(t){this.persistence=t,this.Qs=new hf,this.js=null}static zs(t){return new bf(t)}get Ws(){if(this.js)return this.js;throw Vl()}addReference(t,e,n){return this.Qs.addReference(n,e),this.Ws.delete(n.toString()),yc.resolve()}removeReference(t,e,n){return this.Qs.removeReference(n,e),this.Ws.add(n.toString()),yc.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),yc.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach((t=>this.Ws.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ws.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yc.forEach(this.Ws,(n=>{const i=cc.fromPath(n);return this.Hs(t,i).next((t=>{t||e.removeEntry(i,rc.min())}))})).next((()=>(this.js=null,e.apply(t))))}updateLimboDocument(t,e){return this.Hs(t,e).next((t=>{t?this.Ws.delete(e.toString()):this.Ws.add(e.toString())}))}Ls(t){return 0}Hs(t,e){return yc.or([()=>yc.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class wf{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Fi=n,this.Bi=i}static Li(t,e){let n=ph(),i=ph();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new wf(t,e.fromCache,n,i)}}class _f{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,n,i){return this.Ki(t,e).next((r=>r||this.Gi(t,e,i,n))).next((n=>n||this.Qi(t,e)))}Ki(t,e){if(Bu(e))return yc.resolve(null);let n=Gu(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=Yu(e,null,"F"),n=Gu(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=ph(...i);return this.Ui.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.ji(e,i);return this.zi(e,s,r,n.readTime)?this.Ki(t,Yu(e,null,"F")):this.Wi(t,s,e,n)}))))})))))}Gi(t,e,n,i){return Bu(e)||i.isEqual(rc.min())?this.Qi(t,e):this.Ui.getDocuments(t,n).next((r=>{const s=this.ji(e,r);return this.zi(e,s,n,i)?this.Qi(t,e):(Ol()<=F.DEBUG&&Rl("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ju(e)),this.Wi(t,s,e,hc(i,-1)))}))}ji(t,e){let n=new Pc(eh(t));return e.forEach(((e,i)=>{Zu(t,i)&&(n=n.add(i))})),n}zi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(t,e){return Ol()<=F.DEBUG&&Rl("QueryEngine","Using full collection scan to execute query:",Ju(e)),this.Ui.getDocumentsMatchingQuery(t,e,fc.min())}Wi(t,e,n,i){return this.Ui.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class xf{constructor(t,e,n,i){this.persistence=t,this.Hi=e,this.serializer=i,this.Ji=new Mc(ec),this.Yi=new ih((t=>Lu(t)),Fu),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(n)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ji)))}}function kf(t,e,n,i){return new xf(t,e,n,i)}async function Sf(t,e){const n=Ul(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n.tr(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=ph();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({er:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function Ef(t){const e=Ul(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Bs.getLastRemoteSnapshotVersion(t)))}function Cf(t,e,n){let i=ph(),r=ph();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=sh();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(rc.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Rl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:i,sr:r}}))}function If(t,e){const n=Ul(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Tf(t,e){const n=Ul(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Bs.getTargetData(t,e).next((r=>r?(i=r,yc.resolve(i)):n.Bs.allocateTargetId(t).next((r=>(i=new Xd(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Bs.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.Ji.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(t.targetId,t),n.Yi.set(e,t.targetId)),t}))}async function Af(t,e,n){const i=Ul(t),r=i.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!bc(t))throw t;Rl("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}function Mf(t,e,n){const i=Ul(t);let r=rc.min(),s=ph();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=Ul(t),r=i.Yi.get(n);return void 0!==r?yc.resolve(i.Ji.get(r)):i.Bs.getTargetData(e,n)}(i,t,Gu(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.Hi.getDocumentsMatchingQuery(t,e,n?r:rc.min(),n?s:ph()))).next((t=>(Nf(i,th(e),t),{documents:t,ir:s})))))}function Nf(t,e,n){let i=t.Xi.get(e)||rc.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Xi.set(e,i)}class Df{constructor(){this.activeTargetIds=mh()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pf{constructor(){this.Hr=new Df,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,n){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Df,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Of{Yr(t){}shutdown(){}}class Rf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Rl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Rl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lf=null;function Ff(){return null===Lf?Lf=268435456+Math.round(2147483648*Math.random()):Lf++,"0x"+Lf.toString(16)}const jf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vf{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const zf="WebChannelConnection";class Uf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.mo=e+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,n,i,r){const s=Ff(),o=this.To(t,e);Rl("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,i,r),this.Ao(t,o,a,n).then((e=>(Rl("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e)),(e=>{throw Fl("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e}))}vo(t,e,n,i,r,s){return this.Io(t,e,n,i,r)}Eo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Dl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}To(t,e){const n=jf[t];return"".concat(this.mo,"/v1/").concat(e,":").concat(n)}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,n,i){const r=Ff();return new Promise(((s,o)=>{const a=new Il;a.setWithCredentials(!0),a.listenOnce(xl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case _l.NO_ERROR:const e=a.getResponseJson();Rl(zf,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),s(e);break;case _l.TIMEOUT:Rl(zf,"RPC '".concat(t,"' ").concat(r," timed out")),o(new Hl(Bl.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:const n=a.getStatus();if(Rl(zf,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Bl).indexOf(e)>=0?e:Bl.UNKNOWN}(e.status);o(new Hl(t,e.message))}else o(new Hl(Bl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Hl(Bl.UNAVAILABLE,"Connection failed."));break;default:Vl()}}finally{Rl(zf,"RPC '".concat(t,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);Rl(zf,"RPC '".concat(t,"' ").concat(r," sending request:"),i),a.send(e,"POST",l,n,15)}))}Ro(t,e,n){const i=Ff(),r=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=bl(),o=wl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new El({})),this.Eo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");Rl(zf,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Vf({ro:e=>{d?Rl(zf,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(Rl(zf,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),u.open(),h=!0),Rl(zf,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),u.send(e))},oo:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Cl.EventType.OPEN,(()=>{d||Rl(zf,"RPC '".concat(t,"' stream ").concat(i," transport opened."))})),p(u,Cl.EventType.CLOSE,(()=>{d||(d=!0,Rl(zf,"RPC '".concat(t,"' stream ").concat(i," transport closed")),f.wo())})),p(u,Cl.EventType.ERROR,(e=>{d||(d=!0,Fl(zf,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),f.wo(new Hl(Bl.UNAVAILABLE,"The operation could not be completed")))})),p(u,Cl.EventType.MESSAGE,(e=>{var n;if(!d){const r=e.data[0];zl(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Rl(zf,"RPC '".concat(t,"' stream ").concat(i," received error:"),o);const e=o.status;let n=function(t){const e=Zh[t];if(void 0!==e)return nd(e)}(e),r=o.message;void 0===n&&(n=Bl.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),d=!0,f.wo(new Hl(n,r)),u.close()}else Rl(zf,"RPC '".concat(t,"' stream ").concat(i," received:"),r),f._o(r)}})),p(o,kl.STAT_EVENT,(e=>{e.stat===Sl.PROXY?Rl(zf,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===Sl.NOPROXY&&Rl(zf,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Bf(){return"undefined"!=typeof document?document:null}function Hf(t){return new kd(t,!0)}class Wf{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=t,this.timerId=e,this.Po=n,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,e-n);i>0&&Rl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(()=>(this.Co=Date.now(),t()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qf{constructor(t,e,n,i,r,s,o,a){this.ii=t,this.$o=n,this.Oo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Wf(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,e){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():e&&e.code===Bl.RESOURCE_EXHAUSTED?(Ll(e.toString()),Ll("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):e&&e.code===Bl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(e)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,i]=t;this.Fo===e&&this.Zo(n,i)}),(e=>{t((()=>{const t=new Hl(Bl.UNKNOWN,"Fetching auth token failed: "+e.message);return this.tu(t)}))}))}Zo(t,e){const n=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((t=>{n((()=>this.tu(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(t){return Rl("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget((()=>this.Fo===t?e():(Rl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kf extends qf{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Vl()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(zl(void 0===e||"string"==typeof e),Fc.fromBase64String(e||"")):(zl(void 0===e||e instanceof Uint8Array),Fc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Bl.UNKNOWN:nd(t.code);return new Hl(e,t.message||"")}(o);n=new gd(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Dd(t,i.document.name),s=Td(i.document.updateTime),o=i.document.createTime?Td(i.document.createTime):rc.min(),a=new cu({mapValue:{fields:i.document.fields}}),l=hu.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new fd(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Dd(t,i.document),s=i.readTime?Td(i.readTime):rc.min(),o=hu.newNoDocument(r,s),a=i.removedTargetIds||[];n=new fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Dd(t,i.document),s=i.removedTargetIds||[];n=new fd([],s,r,null)}else{if(!("filter"in e))return Vl();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,s=new Jh(i,r),o=t.targetId;n=new pd(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return rc.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?rc.min():e.readTime?Td(e.readTime):rc.min()}(t);return this.listener.nu(e,n)}su(t){const e={};e.database=Rd(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=ju(i)?{documents:Vd(t,i)}:{query:zd(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Cd(t,e.resumeToken);const i=Sd(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(rc.min())>0){n.readTime=Ed(t,e.snapshotVersion.toTimestamp());const i=Sd(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vl()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Wo(e)}iu(t){const e={};e.database=Rd(this.serializer),e.removeTarget=t,this.Wo(e)}}class Gf extends qf{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(zl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function(t,e){return t&&t.length>0?(zl(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Td(t.updateTime):Td(e);return n.isEqual(rc.min())&&(n=Td(e)),new Ph(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Td(t.commitTime);return this.listener.cu(n,e)}return zl(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Rd(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>jd(this.serializer,t)))};this.Wo(e)}}class Qf extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Hl(Bl.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,s]=i;return this.connection.Io(t,e,n,r,s)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Bl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Hl(Bl.UNKNOWN,t.toString())}))}vo(t,e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.vo(t,e,n,s,o,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Bl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Hl(Bl.UNKNOWN,t.toString())}))}terminate(){this.lu=!0}}class Yf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ll(e),this.mu=!1):Rl("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $f{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr((t=>{n.enqueueAndForget((async()=>{sp(this)&&(Rl("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Ul(t);e.vu.add(4),await Jf(e),e.bu.set("Unknown"),e.vu.delete(4),await Xf(e)}(this))}))})),this.bu=new Yf(n,i)}}async function Xf(t){if(sp(t))for(const e of t.Ru)await e(!0)}async function Jf(t){for(const e of t.Ru)await e(!1)}function Zf(t,e){const n=Ul(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),rp(n)?ip(n):kp(n).Ko()&&ep(n,e))}function tp(t,e){const n=Ul(t),i=kp(n);n.Au.delete(e),i.Ko()&&np(n,e),0===n.Au.size&&(i.Ko()?i.jo():sp(n)&&n.bu.set("Unknown"))}function ep(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rc.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kp(t).su(e)}function np(t,e){t.Vu.qt(e),kp(t).iu(e)}function ip(t){t.Vu=new vd({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),kp(t).start(),t.bu.gu()}function rp(t){return sp(t)&&!kp(t).Uo()&&t.Au.size>0}function sp(t){return 0===Ul(t).vu.size}function op(t){t.Vu=void 0}async function ap(t){t.Au.forEach(((e,n)=>{ep(t,e)}))}async function lp(t,e){op(t),rp(t)?(t.bu.Iu(e),ip(t)):t.bu.set("Unknown")}async function cp(t,e,n){if(t.bu.set("Online"),e instanceof gd&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.Au.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.Au.delete(i),t.Vu.removeTarget(i))}(t,e)}catch(n){Rl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await up(t,n)}else if(e instanceof fd?t.Vu.Ht(e):e instanceof pd?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(rc.min()))try{const e=await Ef(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Vu.ce(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.Au.get(i);r&&t.Au.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const i=t.Au.get(e);if(!i)return;t.Au.set(e,i.withResumeToken(Fc.EMPTY_BYTE_STRING,i.snapshotVersion)),np(t,e);const r=new Xd(i.target,e,n,i.sequenceNumber);ep(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Rl("RemoteStore","Failed to raise snapshot:",e),await up(t,e)}}async function up(t,e,n){if(!bc(e))throw e;t.vu.add(1),await Jf(t),t.bu.set("Offline"),n||(n=()=>Ef(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Rl("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Xf(t)}))}function hp(t,e){return e().catch((n=>up(t,n,e)))}async function dp(t){const e=Ul(t),n=Sp(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;fp(e);)try{const t=await If(e.localStore,i);if(null===t){0===e.Eu.length&&n.jo();break}i=t.batchId,pp(e,t)}catch(t){await up(e,t)}gp(e)&&mp(e)}function fp(t){return sp(t)&&t.Eu.length<10}function pp(t,e){t.Eu.push(e);const n=Sp(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function gp(t){return sp(t)&&!Sp(t).Uo()&&t.Eu.length>0}function mp(t){Sp(t).start()}async function vp(t){Sp(t).hu()}async function yp(t){const e=Sp(t);for(const n of t.Eu)e.uu(n.mutations)}async function bp(t,e,n){const i=t.Eu.shift(),r=$h.from(i,e,n);await hp(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await dp(t)}async function wp(t,e){e&&Sp(t).ou&&await async function(t,e){if(ed(n=e.code)&&n!==Bl.ABORTED){const n=t.Eu.shift();Sp(t).Qo(),await hp(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await dp(t)}var n}(t,e),gp(t)&&mp(t)}async function _p(t,e){const n=Ul(t);n.asyncQueue.verifyOperationInProgress(),Rl("RemoteStore","RemoteStore received new credentials");const i=sp(n);n.vu.add(3),await Jf(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Xf(n)}async function xp(t,e){const n=Ul(t);e?(n.vu.delete(2),await Xf(n)):e||(n.vu.add(2),await Jf(n),n.bu.set("Unknown"))}function kp(t){return t.Su||(t.Su=function(t,e,n){const i=Ul(t);return i.fu(),new Kf(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{uo:ap.bind(null,t),ao:lp.bind(null,t),nu:cp.bind(null,t)}),t.Ru.push((async e=>{e?(t.Su.Qo(),rp(t)?ip(t):t.bu.set("Unknown")):(await t.Su.stop(),op(t))}))),t.Su}function Sp(t){return t.Du||(t.Du=function(t,e,n){const i=Ul(t);return i.fu(),new Gf(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{uo:vp.bind(null,t),ao:wp.bind(null,t),au:yp.bind(null,t),cu:bp.bind(null,t)}),t.Ru.push((async e=>{e?(t.Du.Qo(),await dp(t)):(await t.Du.stop(),t.Eu.length>0&&(Rl("RemoteStore","Stopping write stream with ".concat(t.Eu.length," pending writes")),t.Eu=[]))}))),t.Du}class Ep{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new Ep(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hl(Bl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(t,e){if(Ll("AsyncQueue","".concat(e,": ").concat(t)),bc(t))return new Hl(Bl.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class Ip{constructor(t){this.comparator=t?(e,n)=>t(e,n)||cc.comparator(e.key,n.key):(t,e)=>cc.comparator(t.key,e.key),this.keyedMap=ah(),this.sortedSet=new Mc(this.comparator)}static emptySet(t){return new Ip(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ip))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Ip;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Tp{constructor(){this.Cu=new Mc(cc.comparator)}track(t){const e=t.doc.key,n=this.Cu.get(e);n?0!==t.type&&3===n.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==n.type?this.Cu=this.Cu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Cu=this.Cu.remove(e):1===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):Vl():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Ap{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Ap(t,e,Ip.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class Mp{constructor(){this.Nu=void 0,this.listeners=[]}}class Np{constructor(){this.queries=new ih((t=>Xu(t)),$u),this.onlineState="Unknown",this.ku=new Set}}async function Dp(t,e){const n=Ul(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Mp),r)try{s.Nu=await n.onListen(i)}catch(t){const n=Cp(t,"Initialization of query '".concat(Ju(e.query),"' failed"));return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Lp(n)}async function Pp(t,e){const n=Ul(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Op(t,e){const n=Ul(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.$u(r)&&(i=!0);e.Nu=r}}i&&Lp(n)}function Rp(t,e,n){const i=Ul(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function Lp(t){t.ku.forEach((t=>{t.next()}))}class Fp{constructor(t,e,n){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Ap(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Ku||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){if(t.docChanges.length>0)return!0;const e=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Uu(t){t=Ap.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class jp{constructor(t){this.key=t}}class Vp{constructor(t){this.key=t}}class zp{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ph(),this.mutatedKeys=ph(),this.tc=eh(t),this.ec=new Ip(this.tc)}get nc(){return this.Yu}sc(t,e){const n=e?e.ic:new Tp,i=e?e.ec:this.ec;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const c=i.get(t),u=Zu(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{ec:s,ic:n,zi:o,mutatedKeys:r}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const r=t.ic.xu();r.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vl()}};return n(t)-n(e)}(t.type,e.type)||this.tc(t.doc,e.doc))),this.oc(n);const s=e?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==r.length||a?{snapshot:new Ap(this.query,t.ec,i,r,t.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach((t=>this.Yu=this.Yu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Yu=this.Yu.delete(t))),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=ph(),this.ec.forEach((t=>{this.ac(t.key)&&(this.Zu=this.Zu.add(t.key))}));const e=[];return t.forEach((t=>{this.Zu.has(t)||e.push(new Vp(t))})),this.Zu.forEach((n=>{t.has(n)||e.push(new jp(n))})),e}hc(t){this.Yu=t.ir,this.Zu=ph();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Ap.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Up{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Bp{constructor(t){this.key=t,this.fc=!1}}class Hp{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ih((t=>Xu(t)),$u),this._c=new Map,this.mc=new Set,this.gc=new Mc(cc.comparator),this.yc=new Map,this.Ic=new hf,this.Tc={},this.Ec=new Map,this.Ac=sf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Wp(t,e){const n=lg(t);let i,r;const s=n.wc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const t=await Tf(n.localStore,Gu(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=await qp(n,e,i,"current"===s,t.resumeToken),n.isPrimaryClient&&Zf(n.remoteStore,t)}return r}async function qp(t,e,n,i,r){t.Rc=(e,n,i)=>async function(t,e,n,i){let r=e.view.sc(n);r.zi&&(r=await Mf(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.sc(n,r)})));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return ng(t,e.targetId,o.cc),o.snapshot}(t,e,n,i);const s=await Mf(t.localStore,e,!0),o=new zp(e,s.ir),a=o.sc(s.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);ng(t,n,c.cc);const u=new Up(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function Kp(t,e){const n=Ul(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter((t=>!$u(t,e)))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Af(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),tp(n.remoteStore,i.targetId),tg(n,i.targetId)})).catch(vc)):(tg(n,i.targetId),await Af(n.localStore,i.targetId,!0))}async function Gp(t,e){const n=Ul(t);try{const t=await function(t,e){const n=Ul(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const o=[];e.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(Fc.EMPTY_BYTE_STRING,rc.min()).withLastLimboFreeSnapshotVersion(rc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(t,c))}));let a=sh(),l=ph();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(Cf(t,s,e.documentUpdates).next((t=>{a=t.nr,l=t.sr}))),!i.isEqual(rc.min())){const e=n.Bs.getLastRemoteSnapshotVersion(t).next((e=>n.Bs.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return yc.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.Ji=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.yc.get(e);i&&(zl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.fc=!0:t.modifiedDocuments.size>0?zl(i.fc):t.removedDocuments.size>0&&(zl(i.fc),i.fc=!1))})),await sg(n,t,e)}catch(t){await vc(t)}}function Qp(t,e,n){const i=Ul(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.wc.forEach(((n,i)=>{const r=i.view.Mu(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=Ul(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.listeners)r.Mu(e)&&(i=!0)})),i&&Lp(n)}(i.eventManager,e),t.length&&i.dc.nu(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Yp(t,e,n){const i=Ul(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),s=r&&r.key;if(s){let t=new Mc(cc.comparator);t=t.insert(s,hu.newNoDocument(s,rc.min()));const n=ph().add(s),r=new hd(rc.min(),new Map,new Mc(ec),t,n);await Gp(i,r),i.gc=i.gc.remove(s),i.yc.delete(e),rg(i)}else await Af(i.localStore,e,!1).then((()=>tg(i,e,n))).catch(vc)}async function $p(t,e){const n=Ul(t),i=e.batch.batchId;try{const t=await function(t,e){const n=Ul(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=yc.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);zl(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=ph();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);Zp(n,i,null),Jp(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sg(n,t)}catch(t){await vc(t)}}async function Xp(t,e,n){const i=Ul(t);try{const t=await function(t,e){const n=Ul(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(zl(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);Zp(i,e,n),Jp(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await sg(i,t)}catch(n){await vc(n)}}function Jp(t,e){(t.Ec.get(e)||[]).forEach((t=>{t.resolve()})),t.Ec.delete(e)}function Zp(t,e,n){const i=Ul(t);let r=i.Tc[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function tg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach((e=>{t.Ic.containsKey(e)||eg(t,e)}))}function eg(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(tp(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),rg(t))}function ng(t,e,n){for(const i of n)i instanceof jp?(t.Ic.addReference(i.key,e),ig(t,i)):i instanceof Vp?(Rl("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||eg(t,i.key)):Vl()}function ig(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(Rl("SyncEngine","New document in limbo: "+n),t.mc.add(i),rg(t))}function rg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new cc(oc.fromString(e)),i=t.Ac.next();t.yc.set(i,new Bp(n)),t.gc=t.gc.insert(n,i),Zf(t.remoteStore,new Xd(Gu(Uu(n.path)),i,"TargetPurposeLimboResolution",wc.ct))}}async function sg(t,e,n){const i=Ul(t),r=[],s=[],o=[];i.wc.isEmpty()||(i.wc.forEach(((t,a)=>{o.push(i.Rc(a,e,n).then((t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=wf.Li(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.dc.nu(r),await async function(t,e){const n=Ul(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>yc.forEach(e,(e=>yc.forEach(e.Fi,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>yc.forEach(e.Bi,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!bc(t))throw t;Rl("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Ji.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.Ji=n.Ji.insert(t,r)}}}(i.localStore,s))}async function og(t,e){const n=Ul(t);if(!n.currentUser.isEqual(e)){Rl("SyncEngine","User change. New user:",e.toKey());const t=await Sf(n.localStore,e);n.currentUser=e,function(t){t.Ec.forEach((t=>{t.forEach((t=>{t.reject(new Hl(Bl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Ec.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await sg(n,t.er)}}function ag(t,e){const n=Ul(t),i=n.yc.get(e);if(i&&i.fc)return ph().add(i.key);{let t=ph();const i=n._c.get(e);if(!i)return t;for(const e of i){const i=n.wc.get(e);t=t.unionWith(i.view.nc)}return t}}function lg(t){const e=Ul(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ag.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yp.bind(null,e),e.dc.nu=Op.bind(null,e.eventManager),e.dc.Pc=Rp.bind(null,e.eventManager),e}function cg(t){const e=Ul(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$p.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xp.bind(null,e),e}class ug{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return kf(this.persistence,new _f,t.initialUser,this.serializer)}createPersistence(t){return new vf(bf.zs,this.serializer)}createSharedClientState(t){return new Pf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Qp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=og.bind(null,this.syncEngine),await xp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Np}createDatastore(t){const e=Hf(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new Uf(i));var i;return function(t,e,n,i){return new Qf(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>Qp(this.syncEngine,t,0),s=Rf.D()?new Rf:new Of,new $f(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new Hp(t,e,n,i,r,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Ul(t);Rl("RemoteStore","RemoteStore shutting down."),e.vu.add(5),await Jf(e),e.Pu.shutdown(),e.bu.set("Unknown")}(this.remoteStore)}}class dg{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Ll("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class fg{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Nl.UNAUTHENTICATED,this.clientId=tc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Rl("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Rl("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hl(Bl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Cp(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function pg(t,e){t.asyncQueue.verifyOperationInProgress(),Rl("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await Sf(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vg(t);Rl("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>_p(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>_p(e.remoteStore,n))),t._onlineComponents=e}function mg(t){return"FirebaseError"===t.name?t.code===Bl.FAILED_PRECONDITION||t.code===Bl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function vg(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Rl("FirestoreClient","Using user provided OfflineComponentProvider");try{await pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!mg(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await pg(t,new ug)}}else Rl("FirestoreClient","Using default OfflineComponentProvider"),await pg(t,new ug);return t._offlineComponents}async function yg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Rl("FirestoreClient","Using user provided OnlineComponentProvider"),await gg(t,t._uninitializedComponentsProvider._online)):(Rl("FirestoreClient","Using default OnlineComponentProvider"),await gg(t,new hg))),t._onlineComponents}function bg(t){return yg(t).then((t=>t.syncEngine))}async function wg(t){const e=await yg(t),n=e.eventManager;return n.onListen=Wp.bind(null,e.syncEngine),n.onUnlisten=Kp.bind(null,e.syncEngine),n}function _g(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Wl;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new dg({next:s=>{e.enqueueAndForget((()=>Pp(t,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Hl(Bl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Hl(Bl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new Fp(Uu(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Dp(t,o)}(await wg(t),t.asyncQueue,e,n,i))),i.promise}function xg(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const kg=new Map;function Sg(t,e,n){if(!n)throw new Hl(Bl.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Eg(t){if(!cc.isDocumentKey(t))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Cg(t){if(cc.isDocumentKey(t))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Ig(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":Vl()}function Tg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Hl(Bl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ig(t);throw new Hl(Bl.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class Ag{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Hl(Bl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hl(Bl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new Hl(Bl.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xg(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Hl(Bl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new Hl(Bl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new Hl(Bl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,n=t.experimentalLongPollingOptions,e.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,n}}class Mg{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Hl(Bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Hl(Bl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Kl;switch(t.type){case"firstParty":return new $l(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Hl(Bl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=kg.get(t);e&&(Rl("ComponentProvider","Removing Datastore"),kg.delete(t),e.terminate())}(this),Promise.resolve()}}function Ng(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(t=Tg(t,Mg))._getSettings(),o="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Nl.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Hl(Bl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Nl(s)}t._authCredentials=new Gl(new ql(e,n))}}class Dg{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Og(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dg(this.firestore,t,this._key)}}class Pg{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Pg(this.firestore,t,this._query)}}class Og extends Pg{constructor(t,e,n){super(t,e,Uu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dg(this.firestore,null,new cc(t))}withConverter(t){return new Og(this.firestore,t,this._path)}}function Rg(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=N(t),Sg("collection","path",e),t instanceof Mg){const n=oc.fromString(e,...i);return Cg(n),new Og(t,null,n)}{if(!(t instanceof Dg||t instanceof Og))throw new Hl(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(oc.fromString(e,...i));return Cg(n),new Og(t.firestore,null,n)}}function Lg(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=N(t),1===arguments.length&&(e=tc.A()),Sg("doc","path",e),t instanceof Mg){const n=oc.fromString(e,...i);return Eg(n),new Dg(t,null,new cc(n))}{if(!(t instanceof Dg||t instanceof Og))throw new Hl(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(oc.fromString(e,...i));return Eg(n),new Dg(t.firestore,t instanceof Og?t.converter:null,new cc(n))}}class Fg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Wf(this,"async_queue_retry"),this.Xc=()=>{const t=Bf();t&&Rl("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const t=Bf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Bf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise((()=>{}));const e=new Wl;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Qc.push(t),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!bc(t))throw t;Rl("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(t){const e=this.Gc.then((()=>(this.Hc=!0,t().catch((t=>{this.Wc=t,this.Hc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Ll("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Hc=!1,t))))));return this.Gc=e,e}enqueueAfterDelay(t,e,n){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const i=Ep.createAndSchedule(this,t,e,n,(t=>this.na(t)));return this.zc.push(i),i}Zc(){this.Wc&&Vl()}verifyOperationInProgress(){}async sa(){let t;do{t=this.Gc,await t}while(t!==this.Gc)}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then((()=>{this.zc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()}))}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function jg(t){return function(t){if("object"!=typeof t||null===t)return!1;const e=t;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(t)}class Vg extends Mg{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Fg,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ug(this),this._firestoreClient.terminate()}}function zg(t){return t._firestoreClient||Ug(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ug(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new qc(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,xg(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new fg(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Bg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bg(Fc.fromBase64String(t))}catch(t){throw new Hl(Bl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Bg(Fc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Hg{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lc(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wg{constructor(t){this._methodName=t}}class qg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Hl(Bl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Hl(Bl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ec(this._lat,t._lat)||ec(this._long,t._long)}}const Kg=/^__.*__$/;class Gg{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Hh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bh(t,this.data,e,this.fieldTransforms)}}class Qg{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Hh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Yg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vl()}}class $g{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new $g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.aa({path:n,la:!1});return i.fa(t),i}da(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.aa({path:n,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return fm(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(Yg(this.ca)&&Kg.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Xg{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Hf(t)}ya(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $g({ca:t,methodName:e,ga:n,path:lc.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jg(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new Xg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zg(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.ya(s.merge||s.mergeFields?2:0,e,n,r);cm("Data must be an object, but it was:",o,i);const a=am(i,o);let l,c;if(s.merge)l=new Rc(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=um(e,i,n);if(!o.contains(r))throw new Hl(Bl.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));pm(t,r)||t.push(r)}l=new Rc(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new Gg(new cu(a),l,c)}class tm extends Wg{_toFieldTransform(t){if(2!==t.ca)throw 1===t.ca?t._a("".concat(this._methodName,"() can only appear at the top level of your update data")):t._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tm}}class em extends Wg{_toFieldTransform(t){return new Dh(t.path,new Sh)}isEqual(t){return t instanceof em}}class nm extends Wg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Ah(t.serializer,bh(t.serializer,this.Ia));return new Dh(t.path,e)}isEqual(t){return this===t}}function im(t,e,n,i){const r=t.ya(1,e,n);cm("Data must be an object, but it was:",r,i);const s=[],o=cu.empty();Tc(i,((t,i)=>{const a=dm(e,t,n);i=N(i);const l=r.da(a);if(i instanceof tm)s.push(a);else{const t=om(i,l);null!=t&&(s.push(a),o.set(a,t))}}));const a=new Rc(s);return new Qg(o,a,r.fieldTransforms)}function rm(t,e,n,i,r,s){const o=t.ya(1,e,n),a=[um(e,i,n)],l=[r];if(s.length%2!=0)throw new Hl(Bl.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(um(e,s[d])),l.push(s[d+1]);const c=[],u=cu.empty();for(let d=a.length-1;d>=0;--d)if(!pm(c,a[d])){const t=a[d];let e=l[d];e=N(e);const n=o.da(t);if(e instanceof tm)c.push(t);else{const i=om(e,n);null!=i&&(c.push(t),u.set(t,i))}}const h=new Rc(c);return new Qg(u,h,o.fieldTransforms)}function sm(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return om(n,t.ya(i?4:3,e))}function om(t,e){if(lm(t=N(t)))return cm("Unsupported field value:",e,t),am(t,e);if(t instanceof Wg)return function(t,e){if(!Yg(e.ca))throw e._a("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e._a("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=om(r,e.wa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=N(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bh(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=ic.fromDate(t);return{timestampValue:Ed(e.serializer,n)}}if(t instanceof ic){const n=new ic(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ed(e.serializer,n)}}if(t instanceof qg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bg)return{bytesValue:Cd(e.serializer,t._byteString)};if(t instanceof Dg){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e._a("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ad(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e._a("Unsupported field value: ".concat(Ig(t)))}(t,e)}function am(t,e){const n={};return Ac(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,((t,i)=>{const r=om(i,e.ha(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function lm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ic||t instanceof qg||t instanceof Bg||t instanceof Dg||t instanceof Wg)}function cm(t,e,n){if(!lm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Ig(n);throw"an object"===i?e._a(t+" a custom object"):e._a(t+" "+i)}}function um(t,e,n){if((e=N(e))instanceof Hg)return e._internalPath;if("string"==typeof e)return dm(t,e);throw fm("Field path arguments must be of type string or ",t,!1,void 0,n)}const hm=new RegExp("[~\\*/\\[\\]]");function dm(t,e,n){if(e.search(hm)>=0)throw fm("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Hg(...e.split("."))._internalPath}catch(i){throw fm("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function fm(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Hl(Bl.INVALID_ARGUMENT,a+t+l)}function pm(t,e){return t.some((t=>t.isEqual(e)))}class gm{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Dg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class mm extends gm{data(){return super.data()}}function vm(t,e){return"string"==typeof e?dm(t,e):e instanceof Hg?e._internalPath:e._delegate._internalPath}function ym(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Hl(Bl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class wm extends bm{}class _m extends wm{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new _m(t,e,n)}_apply(t){const e=this._parse(t);return Cm(t._query,e),new Pg(t.firestore,t.converter,Qu(t._query,e))}_parse(t){const e=Jg(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Em(o,s);const e=[];for(const n of o)e.push(Sm(i,t,n));a={arrayValue:{values:e}}}else a=Sm(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Em(o,s),a=sm(n,"where",o,"in"===s||"not-in"===s);return yu.create(r,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return n}}class xm extends bm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new xm(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:bu.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)Cm(n,r),n=Qu(n,r)}(t._query,e),new Pg(t.firestore,t.converter,Qu(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class km extends wm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new km(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new gu(e,n);return function(t,e){if(null===Hu(t)){const n=Wu(t);null!==n&&Im(t,n,e.field)}}(t,i),i}(t._query,this._field,this._direction);return new Pg(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Vu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Sm(t,e,n){if("string"==typeof(n=N(n))){if(""===n)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qu(e)&&-1!==n.indexOf("/"))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(oc.fromString(n));if(!cc.isDocumentKey(i))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return eu(t,new cc(i))}if(n instanceof Dg)return eu(t,n._key);throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ig(n),"."))}function Em(t,e){if(!Array.isArray(t)||0===t.length)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Cm(t,e){if(e.isInequality()){const n=Wu(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(i.toString(),"'"));const r=Hu(t);null!==r&&Im(t,i,r)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Im(t,e,n){if(!n.isEqual(e))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(e.toString(),"' and so you must also use '").concat(e.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Tm{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Uc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Vl()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Tc(t,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new qg(zc(t.latitude),zc(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Hc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Wc(t));default:return null}}convertTimestamp(t){const e=Vc(t);return new ic(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=oc.fromString(t);zl($d(n));const i=new Kc(n.get(1),n.get(3)),r=new cc(n.popFirst(5));return i.isEqual(e)||Ll("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function Am(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Mm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Nm extends gm{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Dm extends Nm{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Pm{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Mm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Dm(this._firestore,this._userDataWriter,n.key,n,new Mm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hl(Bl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new Dm(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Mm(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new Dm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Mm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Om(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Om(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vl()}}class Rm extends Tm{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dg(this.firestore,null,e)}}function Lm(t,e,n){t=Tg(t,Dg);const i=Tg(t.firestore,Vg),r=Jg(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=N(e))||e instanceof Hg?rm(r,"updateDoc",t._key,e,n,a):im(r,"updateDoc",t._key,e),Fm(i,[s.toMutation(t._key,Oh.exists(!0))])}function Fm(t,e){return function(t,e){const n=new Wl;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=cg(t);try{const t=await function(t,e){const n=Ul(t),i=ic.now(),r=e.reduce(((t,e)=>t.add(e.key)),ph());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=sh(),l=ph();return n.Zi.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=zh(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Hh(t.key,e,uu(e.value.mapValue),Oh.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:lh(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Tc[t.currentUser.toKey()];i||(i=new Mc(ec)),i=i.insert(e,n),t.Tc[t.currentUser.toKey()]=i}(i,t.batchId,n),await sg(i,t.changes),await dp(i.remoteStore)}catch(t){const e=Cp(t,"Failed to persist write");n.reject(e)}}(await bg(t),e,n))),n.promise}(zg(t),e)}function jm(t,e,n){const i=n.docs.get(e._key),r=new Rm(t);return new Nm(t,r,e._key,i,new Mm(n.hasPendingWrites,n.fromCache),e.converter)}function Vm(){return new em("serverTimestamp")}!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Dl=t}(Gt),Ht(new D("firestore",((t,n)=>{let{instanceIdentifier:i,options:r}=n;const s=t.getProvider("app").getImmediate(),o=new Vg(new Ql(t.getProvider("auth-internal")),new Jl(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Hl(Bl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(t.options.projectId,e)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),$t(Ml,"3.13.0",t),$t(Ml,"3.13.0","esm2017")}();$t("firebase","9.23.0","app");let zm,Um;const Bm=new WeakMap,Hm=new WeakMap,Wm=new WeakMap,qm=new WeakMap,Km=new WeakMap;let Gm={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Wm.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $m(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qm(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Um||(Um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(Xm(this),n),$m(Bm.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return $m(t.apply(Xm(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(Xm(this),e,...i);return Wm.set(s,e.sort?e.sort():[e]),$m(s)}}function Ym(t){return"function"===typeof t?Qm(t):(t instanceof IDBTransaction&&function(t){if(Hm.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));Hm.set(t,e)}(t),e=t,(zm||(zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,Gm):t);var e}function $m(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e($m(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&Bm.set(e,t)})).catch((()=>{})),Km.set(e,t),e}(t);if(qm.has(t))return qm.get(t);const e=Ym(t);return e!==t&&(qm.set(t,e),Km.set(e,t)),e}const Xm=t=>Km.get(t);const Jm=["get","getKey","getAll","getAllKeys","count"],Zm=["put","add","delete","clear"],tv=new Map;function ev(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Zm.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Jm.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return tv.set(e,s),s}!function(t){Gm=t(Gm)}((t=>G(G({},t),{},{get:(e,n,i)=>ev(e,n)||t.get(e,n,i),has:(e,n)=>!!ev(e,n)||t.has(e,n)})));const nv="@firebase/installations",iv="0.6.4",rv=1e4,sv="w:".concat(iv),ov="FIS_v2",av=36e5,lv=new _("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cv(t){return t instanceof w&&t.code.includes("request-failed")}function uv(t){let{projectId:e}=t;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(e,"/installations")}function hv(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function dv(t,e){const n=(await e.json()).error;return lv.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function fv(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function pv(t,e){let{refreshToken:n}=e;const i=fv(t);return i.append("Authorization",function(t){return"".concat(ov," ").concat(t)}(n)),i}async function gv(t){const e=await t();return e.status>=500&&e.status<600?t():e}function mv(t){return new Promise((e=>{setTimeout(e,t)}))}const vv=/^[cdef][\w-]{21}$/;function yv(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return vv.test(e)?e:""}catch(t){return""}}function bv(t){return"".concat(t.appName,"!").concat(t.appId)}const wv=new Map;function _v(t,e){const n=bv(t);xv(n,e),function(t,e){const n=Sv();n&&n.postMessage({key:t,fid:e});Ev()}(n,e)}function xv(t,e){const n=wv.get(t);if(n)for(const i of n)i(e)}let kv=null;function Sv(){return!kv&&"BroadcastChannel"in self&&(kv=new BroadcastChannel("[Firebase] FID Change"),kv.onmessage=t=>{xv(t.data.key,t.data.fid)}),kv}function Ev(){0===wv.size&&kv&&(kv.close(),kv=null)}const Cv="firebase-installations-store";let Iv=null;function Tv(){return Iv||(Iv=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=$m(o);return i&&o.addEventListener("upgradeneeded",(t=>{i($m(o.result),t.oldVersion,t.newVersion,$m(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}("firebase-installations-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Cv)}})),Iv}async function Av(t,e){const n=bv(t),i=(await Tv()).transaction(Cv,"readwrite"),r=i.objectStore(Cv),s=await r.get(n);return await r.put(e,n),await i.done,s&&s.fid===e.fid||_v(t,e.fid),e}async function Mv(t){const e=bv(t),n=(await Tv()).transaction(Cv,"readwrite");await n.objectStore(Cv).delete(e),await n.done}async function Nv(t,e){const n=bv(t),i=(await Tv()).transaction(Cv,"readwrite"),r=i.objectStore(Cv),s=await r.get(n),o=e(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||_v(t,o.fid),o}async function Dv(t){let e;const n=await Nv(t.appConfig,(n=>{const i=function(t){const e=t||{fid:yv(),registrationStatus:0};return Rv(e)}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(lv.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t,{fid:r}=e;const s=uv(n),o=fv(n),a=i.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const l={fid:r,authVersion:ov,appId:n.appId,sdkVersion:sv},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await gv((()=>fetch(s,c)));if(u.ok){const t=await u.json();return{fid:t.fid||r,registrationStatus:2,refreshToken:t.refreshToken,authToken:hv(t.authToken)}}throw await dv("Create Installation",u)}(t,e);return Av(t.appConfig,n)}catch(n){throw cv(n)&&409===n.customData.serverCode?await Mv(t.appConfig):await Av(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Pv(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Pv(t){let e=await Ov(t.appConfig);for(;1===e.registrationStatus;)await mv(100),e=await Ov(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await Dv(t);return n||e}return e}function Ov(t){return Nv(t,(t=>{if(!t)throw lv.create("installation-not-found");return Rv(t)}))}function Rv(t){return 1===(e=t).registrationStatus&&e.registrationTime+rv<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Lv(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t;const r=function(t,e){let{fid:n}=e;return"".concat(uv(t),"/").concat(n,"/authTokens:generate")}(n,e),s=pv(n,e),o=i.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const a={installation:{sdkVersion:sv,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await gv((()=>fetch(r,l)));if(c.ok){return hv(await c.json())}throw await dv("Generate Auth Token",c)}async function Fv(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await Nv(t.appConfig,(i=>{if(!Vv(i))throw lv.create("not-registered");const r=i.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+av}(t)}(r))return i;if(1===r.requestStatus)return e=async function(t,e){let n=await jv(t.appConfig);for(;1===n.authToken.requestStatus;)await mv(100),n=await jv(t.appConfig);const i=n.authToken;return 0===i.requestStatus?Fv(t,e):i}(t,n),i;{if(!navigator.onLine)throw lv.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return e=async function(t,e){try{const n=await Lv(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Av(t.appConfig,i),n}catch(n){if(!cv(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Av(t.appConfig,n)}else await Mv(t.appConfig);throw n}}(t,n),n}}));return e?await e:i.authToken}function jv(t){return Nv(t,(t=>{if(!Vv(t))throw lv.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+rv<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function Vv(t){return void 0!==t&&2===t.registrationStatus}async function zv(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await Dv(t);e&&await e}(n);return(await Fv(n,e)).token}function Uv(t){return lv.create("missing-app-config-values",{valueName:t})}const Bv="installations",Hv=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Uv("App Configuration");if(!t.name)throw Uv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Uv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Wt(e,"heartbeat"),_delete:()=>Promise.resolve()}},Wv=t=>{const e=Wt(t.getProvider("app").getImmediate(),Bv).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await Dv(e);return i?i.catch(console.error):Fv(e).catch(console.error),n.fid}(e),getToken:t=>zv(e,t)}};Ht(new D(Bv,Hv,"PUBLIC")),Ht(new D("installations-internal",Wv,"PRIVATE")),$t(nv,iv),$t(nv,iv,"esm2017");const qv="analytics",Kv="https://www.googletagmanager.com/gtag/js",Gv=new B("@firebase/analytics"),Qv=new _("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Yv(t){if(!t.startsWith(Kv)){const e=Qv.create("invalid-gtag-resource",{gtagURL:t});return Gv.warn(e.message),""}return t}function $v(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Xv(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Yv}),i=document.createElement("script"),r="".concat(Kv,"?l=").concat(t,"&id=").concat(e);i.src=n?null===n||void 0===n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Jv(t,e,n,i){return async function(r){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===r){const[i,r]=o;await async function(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await $v(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Gv.error(s)}}(t,e,n,i,r)}else if("config"===r){const[r,s]=o;await async function(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const t=(await $v(n)).find((t=>t.measurementId===r));t&&await e[t.appId]}}catch(a){Gv.error(a)}t("config",r,s)}(t,e,n,i,r,s)}else if("consent"===r){const[e]=o;t("consent","update",e)}else if("get"===r){const[e,n,i]=o;t("get",e,n,i)}else if("set"===r){const[e]=o;t("set",e)}else t(r,...o)}catch(l){Gv.error(l)}}}const Zv=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function ty(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ey(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zv,n=arguments.length>2?arguments[2]:void 0;const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Qv.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Qv.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iy;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),ny({appId:i,apiKey:r,measurementId:s},o,a,e)}async function ny(t,e,n){let{throttleEndTimeMillis:i,backoffCount:r}=e,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zv;var o;const{appId:a,measurementId:l}=t;try{await function(t,e){return new Promise(((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener((()=>{clearTimeout(s),i(Qv.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(n,i)}catch(c){if(l)return Gv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:a,measurementId:l};throw c}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:ty(i)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw Qv.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return s.deleteThrottleMetadata(a),e}catch(c){const e=c;if(!function(t){if(!(t instanceof w)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(e)){if(s.deleteThrottleMetadata(a),l)return Gv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e||void 0===e?void 0:e.message,"]")),{appId:a,measurementId:l};throw c}const i=503===Number(null===(o=null===e||void 0===e?void 0:e.customData)||void 0===o?void 0:o.httpStatus)?M(r,s.intervalMillis,30):M(r,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+i,backoffCount:r+1};return s.setThrottleMetadata(a,u),Gv.debug("Calling attemptFetch again in ".concat(i," millis")),ny(t,u,n,s)}}class iy{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let ry,sy;function oy(t){sy=t}function ay(t){ry=t}async function ly(t,e,n,i,r,s,o){var a;const l=ey(t);l.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Gv.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((t=>Gv.error(t))),e.push(l);const c=async function(){if(!y())return Gv.warn(Qv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await b()}catch(t){return Gv.warn(Qv.create("indexeddb-unavailable",{errorInfo:null===t||void 0===t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?i.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kv)&&n.src.includes(t))return n;return null})(s)||Xv(s,u.measurementId),sy&&(r("consent","default",sy),oy(void 0)),r("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),r("config",u.measurementId,d),ry&&(r("set",ry),ay(void 0)),u.measurementId}class cy{constructor(t){this.app=t}_delete(){return delete uy[this.app.options.appId],Promise.resolve()}}let uy={},hy=[];const dy={};let fy,py,gy="dataLayer",my="gtag",vy=!1;function yy(){const t=[];if(v()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>"(".concat(e+1,") ").concat(t))).join(" "),n=Qv.create("invalid-analytics-context",{errorInfo:e});Gv.warn(n.message)}}function by(t,e,n){yy();const i=t.options.appId;if(!i)throw Qv.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Qv.create("no-api-key");Gv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=uy[i])throw Qv.create("already-exists",{id:i});if(!vy){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(gy);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(s=window[r]),window[r]=Jv(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(uy,hy,dy,gy,my);py=t,fy=e,vy=!0}uy[i]=ly(t,hy,dy,e,fy,gy,n);return new cy(t)}function wy(t,e,n,i){t=N(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(py,uy[t.app.options.appId],e,n,i).catch((t=>Gv.error(t)))}const _y="@firebase/analytics",xy="0.10.0";Ht(new D(qv,((t,e)=>{let{options:n}=e;return by(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ht(new D("analytics-internal",(function(t){try{const e=t.getProvider(qv).getImmediate();return{logEvent:(t,n,i)=>wy(e,t,n,i)}}catch(e){throw Qv.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),$t(_y,xy),$t(_y,xy,"esm2017");const ky=Qt({apiKey:"AIzaSyDrROaFFo6xjrkn4FhKWdY1c4Z0Jyy6SNw",authDomain:"sistema-gestao-1a0cd.firebaseapp.com",projectId:"sistema-gestao-1a0cd",storageBucket:"sistema-gestao-1a0cd.firebasestorage.app",messagingSenderId:"715681926217",appId:"1:715681926217:web:7b4ed090a6c2aa2afec398",measurementId:"G-Z2KJC3GMNE"}),Sy=function(t,e){const n="string"==typeof t?t:e||"(default)",i=Wt("object"==typeof t?t:Yt(),"firestore").getImmediate({identifier:n});if(!i._initialized){const t=(t=>{const e=d(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})("firestore");t&&Ng(i,...t)}return i}(ky),Ey=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();const e=Wt(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Wt(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(k(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;fe(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:nr,persistence:[gi,Jn,ti]}),i=p("authTokenSyncURL");if(i){const t=(r=i,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>or)return;const i=null===e||void 0===e?void 0:e.token;ar!==i&&(ar=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(t,e,n){N(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(t,e,n,i){N(t).onIdTokenChanged(e,n,i)}(n,(e=>t(e)))}var r;const s=d("auth");return s&&_n(n,"http://".concat(s)),n}(ky);!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();t=N(t);const e=Wt(t,qv);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Wt(t,qv);if(n.isInitialized()){const t=n.getImmediate();if(k(e,n.getOptions()))return t;throw Qv.create("already-initialized")}const i=n.initialize({options:e})}(t)}(ky);var Cy=n(579);const Iy=(0,i.createContext)(),Ty=t=>{let{children:e}=t;const[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const t=function(t,e,n,i){return N(t).onAuthStateChanged(e,n,i)}(Ey,(async t=>{if(l(!0),t){r(t);const e=Lg(Sy,"users",t.uid),n=await function(t){t=Tg(t,Dg);const e=Tg(t.firestore,Vg);return _g(zg(e),t._key).then((n=>jm(e,t,n)))}(e),i=t.isAnonymous?"colaborador":n.exists()&&"gestor"===n.data().role?"gestor":"colaborador";o(i)}else r(null),o(null);l(!1)}));return t}),[]);const c={user:n,userRole:s,loadingAuth:a,loginGestor:(t,e)=>function(t,e,n){return Qn(N(t),Pn.credential(e,n))}(Ey,t,e),loginColaborador:()=>async function(t){var e;const n=bn(t);if(await n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new Un({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await zn(n,{returnSecureToken:!0}),r=await Un._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(Ey),logout:()=>function(t){return N(t).signOut()}(Ey)};return(0,Cy.jsx)(Iy.Provider,{value:c,children:e})},Ay=()=>(0,i.useContext)(Iy),My=(0,i.createContext)(),Ny=t=>{let{children:e}=t;const[n,r]=(0,i.useState)({isOpen:!1,message:""}),[s,o]=(0,i.useState)({isOpen:!1,message:"",onConfirm:()=>{}}),a=()=>o({isOpen:!1,message:"",onConfirm:()=>{}}),l={modal:n,showModal:t=>r({isOpen:!0,message:t}),closeModal:()=>r({isOpen:!1,message:""}),confirmationModal:s,showConfirmationModal:(t,e)=>o({isOpen:!0,message:t,onConfirm:e}),closeConfirmationModal:a,handleConfirmAction:()=>{"function"===typeof s.onConfirm&&s.onConfirm(),a()}};return(0,Cy.jsx)(My.Provider,{value:l,children:e})},Dy=()=>(0,i.useContext)(My),Py=t=>{let{children:e}=t;return(0,Cy.jsx)("span",{className:"icon",children:e})},Oy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[(0,Cy.jsx)("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2 2h8l2-2zM8 9h2m5-3v10l-2 2h-1"})]})}),Ry=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}),Ly=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.838-5.513c.279-.834-.26-1.745-1.132-1.745H4.883L3.117 3.187m15.75 11.25a3 3 0 00-3-3H7.5"})})}),Fy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),jy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),Vy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})}),zy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"})})}),Uy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),By=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h16.5v11.25A2.25 2.25 0 0118 16.5h-12A2.25 2.25 0 013.75 14.25V3z"})})}),Hy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),Wy=()=>(0,Cy.jsx)(Py,{children:(0,Cy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Cy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),qy=t=>{let{onColaborador:e,onShowGestorLogin:n}=t;return(0,Cy.jsx)("div",{className:"login-container",children:(0,Cy.jsxs)("div",{className:"login-card card",children:[(0,Cy.jsxs)("h1",{className:"login-title",children:[(0,Cy.jsx)(Oy,{})," Sistema de Pedidos"]}),(0,Cy.jsx)("p",{className:"login-subtitle",children:"Escolha seu tipo de acesso"}),(0,Cy.jsxs)("div",{className:"access-selection",children:[(0,Cy.jsx)("button",{onClick:e,className:"button-primary large",children:"Sou Colaborador"}),(0,Cy.jsx)("button",{onClick:n,className:"button-link",children:"Sou Gestor"})]})]})})},Ky=t=>{let{onLogin:e,onBack:n,email:i,setEmail:r,password:s,setPassword:o}=t;return(0,Cy.jsx)("div",{className:"login-container",children:(0,Cy.jsxs)("div",{className:"login-card card",children:[(0,Cy.jsxs)("h1",{className:"login-title",children:[(0,Cy.jsx)(zy,{})," Acesso Gestor"]}),(0,Cy.jsxs)("form",{onSubmit:e,children:[(0,Cy.jsx)("div",{className:"form-group",children:(0,Cy.jsx)("input",{type:"email",value:i,onChange:t=>r(t.target.value),placeholder:"E-mail",required:!0})}),(0,Cy.jsx)("div",{className:"form-group",children:(0,Cy.jsx)("input",{type:"password",value:s,onChange:t=>o(t.target.value),placeholder:"Senha",required:!0})}),(0,Cy.jsx)("button",{type:"submit",className:"button-primary large",children:"Entrar"})]}),(0,Cy.jsx)("button",{type:"button",onClick:n,className:"button-link",children:"Voltar"})]})})},Gy=t=>{let{children:e,onConfirm:n,showCancel:i,onCancel:r,title:s,confirmText:o="Fechar"}=t;return(0,Cy.jsx)("div",{className:"modal-overlay",children:(0,Cy.jsxs)("div",{className:"modal-content large",children:[s&&(0,Cy.jsx)("h2",{children:s}),(0,Cy.jsx)("div",{className:"modal-body",children:"string"===typeof e?(0,Cy.jsx)("p",{children:e}):e}),(0,Cy.jsxs)("div",{className:"modal-actions",children:[i&&(0,Cy.jsx)("button",{onClick:r,className:"button-secondary",children:"Cancelar"}),(0,Cy.jsx)("button",{onClick:n,className:"button-primary",children:o})]})]})})},Qy=(0,i.createContext)(),Yy=t=>{let{children:e}=t;const{user:n,userRole:r}=Ay(),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[h,d]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[g,m]=(0,i.useState)(!0);(0,i.useEffect)((()=>{if(!n)return o([]),l([]),u([]),d([]),void p([]);const t=[{name:"fornecedores",setter:o,orderByField:"nome"},{name:"produtosDeCompra",setter:l,orderByField:"nome"},{name:"pedidosRealizados",setter:p,orderByField:"criadoEm",orderDirection:"desc"}];"gestor"===r&&(t.push({name:"insumos",setter:u,orderByField:"nome"}),t.push({name:"produtos",setter:d,orderByField:"nome"})),m(!0);const e=t.map((t=>function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r,s,o;t=N(t);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||jg(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(jg(n[l])){const t=n[l];n[l]=null===(r=t.next)||void 0===r?void 0:r.bind(t),n[l+1]=null===(s=t.error)||void 0===s?void 0:s.bind(t),n[l+2]=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}let u,h,d;if(t instanceof Dg)h=Tg(t.firestore,Vg),d=Uu(t._key.path),u={next:e=>{n[l]&&n[l](jm(h,t,e))},error:n[l+1],complete:n[l+2]};else{const e=Tg(t,Pg);h=Tg(e.firestore,Vg),d=e._query;const i=new Rm(h);u={next:t=>{n[l]&&n[l](new Pm(h,i,e,t))},error:n[l+1],complete:n[l+2]},ym(t._query)}return function(t,e,n,i){const r=new dg(i),s=new Fp(e,r,n);return t.asyncQueue.enqueueAndForget((async()=>Dp(await wg(t),s))),()=>{r.Dc(),t.asyncQueue.enqueueAndForget((async()=>Pp(await wg(t),s)))}}(zg(h),d,c,u)}(function(t,e){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];e instanceof bm&&n.push(e),n=n.concat(r),function(t){const e=t.filter((t=>t instanceof xm)).length,n=t.filter((t=>t instanceof _m)).length;if(e>1||e>0&&n>0)throw new Hl(Bl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}(Rg(Sy,t.name),function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vm("orderBy",t);return km._create(n,e)}(t.orderByField,t.orderDirection||"asc")),(e=>{const n=e.docs.map((t=>G(G({},t.data()),{},{id:t.id})));t.setter(n)}),(e=>{console.error("Erro ao buscar cole\xe7\xe3o: ",t.name,e)}))));return m(!1),()=>e.forEach((t=>t()))}),[n,r]);const v={fornecedores:s,produtosDeCompra:a,insumos:c,produtos:h,allPedidos:f,loadingData:g};return(0,Cy.jsx)(Qy.Provider,{value:v,children:e})},$y=()=>(0,i.useContext)(Qy);function Xy(){}const Jy=function(){let t=0;return function(){return t++}}();function Zy(t){return null===t||"undefined"===typeof t}function tb(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function eb(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const nb=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function ib(t,e){return nb(t)?t:e}function rb(t,e){return"undefined"===typeof t?e:t}const sb=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ob(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function ab(t,e,n,i){let r,s,o;if(tb(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(eb(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function lb(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function cb(t){if(tb(t))return t.map(cb);if(eb(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=cb(t[n[r]]);return e}return t}function ub(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function hb(t,e,n,i){if(!ub(t))return;const r=e[t],s=n[t];eb(r)&&eb(s)?db(r,s,i):e[t]=cb(s)}function db(t,e,n){const i=tb(e)?e:[e],r=i.length;if(!eb(t))return t;const s=(n=n||{}).merger||hb;for(let o=0;o<r;++o){if(!eb(e=i[o]))continue;const r=Object.keys(e);for(let i=0,o=r.length;i<o;++i)s(r[i],t,e,n)}return t}function fb(t,e){return db(t,e,{merger:pb})}function pb(t,e,n){if(!ub(t))return;const i=e[t],r=n[t];eb(i)&&eb(r)?fb(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cb(r))}const gb={"":t=>t,x:t=>t.x,y:t=>t.y};function mb(t,e){const n=gb[e]||(gb[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function vb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yb=t=>"undefined"!==typeof t,bb=t=>"function"===typeof t,wb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const _b=Math.PI,xb=2*_b,kb=xb+_b,Sb=Number.POSITIVE_INFINITY,Eb=_b/180,Cb=_b/2,Ib=_b/4,Tb=2*_b/3,Ab=Math.log10,Mb=Math.sign;function Nb(t){const e=Math.round(t);t=Pb(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ab(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Db(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Pb(t,e,n){return Math.abs(t-e)<n}function Ob(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Rb(t){return t*(_b/180)}function Lb(t){return t*(180/_b)}function Fb(t){if(!nb(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function jb(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*_b&&(s+=xb),{angle:s,distance:r}}function Vb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zb(t,e){return(t-e+kb)%xb-_b}function Ub(t){return(t%xb+xb)%xb}function Bb(t,e,n,i){const r=Ub(t),s=Ub(e),o=Ub(n),a=Ub(s-r),l=Ub(o-r),c=Ub(r-s),u=Ub(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Hb(t,e,n){return Math.max(e,Math.min(n,t))}function Wb(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function qb(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Kb=(t,e,n,i)=>qb(t,n,i?i=>t[i][e]<=n:i=>t[i][e]<n),Gb=(t,e,n)=>qb(t,n,(i=>t[i][e]>=n));const Qb=["push","pop","shift","splice","unshift"];function Yb(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Qb.forEach((e=>{delete t[e]})),delete t._chartjs)}function $b(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const Xb="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function Jb(t,e,n){const i=n||(t=>Array.prototype.slice.call(t));let r=!1,s=[];return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];s=i(o),r||(r=!0,Xb.call(window,(()=>{r=!1,t.apply(e,s)})))}}const Zb=t=>"start"===t?"left":"end"===t?"right":"center",tw=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function ew(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=Hb(Math.min(Kb(a,o.axis,c).lo,n?i:Kb(e,l,o.getPixelForValue(c)).lo),0,i-1)),s=d?Hb(Math.max(Kb(a,o.axis,u,!0).hi+1,n?0:Kb(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function nw(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const iw=t=>0===t||1===t,rw=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*xb/n),sw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xb/n)+1,ow={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Cb),easeOutSine:t=>Math.sin(t*Cb),easeInOutSine:t=>-.5*(Math.cos(_b*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>iw(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>iw(t)?t:rw(t,.075,.3),easeOutElastic:t=>iw(t)?t:sw(t,.075,.3),easeInOutElastic(t){const e=.1125;return iw(t)?t:t<.5?.5*rw(2*t,e,.45):.5+.5*sw(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ow.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*ow.easeInBounce(2*t):.5*ow.easeOutBounce(2*t-1)+.5};function aw(t){return t+.5|0}const lw=(t,e,n)=>Math.max(Math.min(t,n),e);function cw(t){return lw(aw(2.55*t),0,255)}function uw(t){return lw(aw(255*t),0,255)}function hw(t){return lw(aw(t/2.55)/100,0,1)}function dw(t){return lw(aw(100*t),0,100)}const fw={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pw=[..."0123456789ABCDEF"],gw=t=>pw[15&t],mw=t=>pw[(240&t)>>4]+pw[15&t],vw=t=>(240&t)>>4===(15&t);function yw(t){var e=(t=>vw(t.r)&&vw(t.g)&&vw(t.b)&&vw(t.a))(t)?gw:mw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const bw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ww(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function _w(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function xw(t,e,n){const i=ww(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function kw(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function Sw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(uw)}function Ew(t,e,n){return Sw(ww,t,e,n)}function Cw(t){return(t%360+360)%360}function Iw(t){const e=bw.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?cw(+e[5]):uw(+e[5]));const r=Cw(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Sw(xw,t,e,n)}(r,s,o):"hsv"===e[1]?function(t,e,n){return Sw(_w,t,e,n)}(r,s,o):Ew(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const Tw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Aw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Mw;function Nw(t){Mw||(Mw=function(){const t={},e=Object.keys(Aw),n=Object.keys(Tw);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Tw[s]);s=parseInt(Aw[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),Mw.transparent=[0,0,0,0]);const e=Mw[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Dw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Pw=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ow=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Rw(t,e,n){if(t){let i=kw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=Ew(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Lw(t,e){return t?Object.assign(e||{},t):t}function Fw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=uw(t[3]))):(e=Lw(t,{r:0,g:0,b:0,a:1})).a=uw(e.a),e}function jw(t){return"r"===t.charAt(0)?function(t){const e=Dw.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?cw(t):lw(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?cw(n):lw(n,0,255)),i=255&(e[4]?cw(i):lw(i,0,255)),r=255&(e[6]?cw(r):lw(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):Iw(t)}class Vw{constructor(t){if(t instanceof Vw)return t;const e=typeof t;let n;"object"===e?n=Fw(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*fw[t[1]],g:255&17*fw[t[2]],b:255&17*fw[t[3]],a:5===n?17*fw[t[4]]:255}:7!==n&&9!==n||(e={r:fw[t[1]]<<4|fw[t[2]],g:fw[t[3]]<<4|fw[t[4]],b:fw[t[5]]<<4|fw[t[6]],a:9===n?fw[t[7]]<<4|fw[t[8]]:255})),e}(t)||Nw(t)||jw(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Lw(this._rgb);return t&&(t.a=hw(t.a)),t}set rgb(t){this._rgb=Fw(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(hw(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?yw(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=kw(t),n=e[0],i=dw(e[1]),r=dw(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(hw(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=Ow(hw(t.r)),r=Ow(hw(t.g)),s=Ow(hw(t.b));return{r:uw(Pw(i+n*(Ow(hw(e.r))-i))),g:uw(Pw(r+n*(Ow(hw(e.g))-r))),b:uw(Pw(s+n*(Ow(hw(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Vw(this.rgb)}alpha(t){return this._rgb.a=uw(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=aw(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Rw(this._rgb,2,t),this}darken(t){return Rw(this._rgb,2,-t),this}saturate(t){return Rw(this._rgb,1,t),this}desaturate(t){return Rw(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=kw(t);n[0]=Cw(n[0]+e),n=Ew(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function zw(t){return new Vw(t)}function Uw(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Bw(t){return Uw(t)?t:zw(t)}function Hw(t){return Uw(t)?t:zw(t).saturate(.5).darken(.1).hexString()}const Ww=Object.create(null),qw=Object.create(null);function Kw(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function Gw(t,e,n){return"string"===typeof e?db(Kw(t,e),n):db(Kw(t,""),e)}var Qw=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Hw(e.backgroundColor),this.hoverBorderColor=(t,e)=>Hw(e.borderColor),this.hoverColor=(t,e)=>Hw(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return Gw(this,t,e)}get(t){return Kw(this,t)}describe(t,e){return Gw(qw,t,e)}override(t,e){return Gw(Ww,t,e)}route(t,e,n,i){const r=Kw(this,t),s=Kw(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return eb(t)?Object.assign({},e,t):rb(t,e)},set(t){this[o]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Yw(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function $w(t,e,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0!==h&&null!==h&&!0!==tb(h))o=Yw(t,r,s,o,h);else if(tb(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||tb(d)||(o=Yw(t,r,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Xw(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Jw(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Zw(t,e,n,i){t_(t,e,n,i,null)}function t_(t,e,n,i,r){let s,o,a,l,c,u;const h=e.pointStyle,d=e.rotation,f=e.radius;let p=(d||0)*Eb;if(h&&"object"===typeof h&&(s=h.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),h){default:r?t.ellipse(n,i,r/2,f,0,0,xb):t.arc(n,i,f,0,xb),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*f,i-Math.cos(p)*f),p+=Tb,t.lineTo(n+Math.sin(p)*f,i-Math.cos(p)*f),p+=Tb,t.lineTo(n+Math.sin(p)*f,i-Math.cos(p)*f),t.closePath();break;case"rectRounded":c=.516*f,l=f-c,o=Math.cos(p+Ib)*l,a=Math.sin(p+Ib)*l,t.arc(n-o,i-a,c,p-_b,p-Cb),t.arc(n+a,i-o,c,p-Cb,p),t.arc(n+o,i+a,c,p,p+Cb),t.arc(n-a,i+o,c,p+Cb,p+_b),t.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*f,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}p+=Ib;case"rectRot":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+a,i-o),t.lineTo(n+o,i+a),t.lineTo(n-a,i+o),t.closePath();break;case"crossRot":p+=Ib;case"cross":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"star":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o),p+=Ib,o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"line":o=r?r/2:Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(p)*f,i+Math.sin(p)*f)}t.fill(),e.borderWidth>0&&t.stroke()}}function e_(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function n_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function i_(t){t.restore()}function r_(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function s_(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function o_(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=tb(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);Zy(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Zy(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),a_(t,n,i,c,s),i+=r.lineHeight;t.restore()}function a_(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function l_(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Cb,_b,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,_b,Cb,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Cb,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Cb,!0),t.lineTo(n+o.topLeft,i)}const c_=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),u_=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function h_(t,e){const n=(""+t).match(c_);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const d_=t=>+t||0;function f_(t,e){const n={},i=eb(e),r=i?Object.keys(e):e,s=eb(t)?i?n=>rb(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=d_(s(o));return n}function p_(t){return f_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function g_(t){return f_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function m_(t){const e=p_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function v_(t,e){t=t||{},e=e||Qw.font;let n=rb(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=rb(t.style,e.style);i&&!(""+i).match(u_)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:rb(t.family,e.family),lineHeight:h_(rb(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:rb(t.weight,e.weight),string:""};return r.string=function(t){return!t||Zy(t.size)||Zy(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function y_(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&tb(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function b_(t,e){return Object.assign(Object.create(t),e)}function w_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];yb(i)||(i=N_("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>w_([r,...t],e,n,i)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>E_(n,i,(()=>function(t,e,n,i){let r;for(const s of e)if(r=N_(k_(s,t),n),yb(r))return S_(t,r)?A_(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>D_(t).includes(e),ownKeys:t=>D_(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function __(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:x_(t,i),setContext:e=>__(t,e,n,i),override:r=>__(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>E_(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];bb(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t),e=e(s,o||i),a.delete(t),S_(t,e)&&(e=A_(r._scopes,r,t,e));return e}(e,a,t,n));tb(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(yb(s.index)&&i(t))e=e[s.index%e.length];else if(eb(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=A_(i,r,t,l);e.push(__(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));S_(e,a)&&(a=__(a,r,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function x_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:bb(n)?n:()=>n,isIndexable:bb(i)?i:()=>i}}const k_=(t,e)=>t?t+vb(e):e,S_=(t,e)=>eb(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function E_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function C_(t,e,n){return bb(t)?t(e,n):t}const I_=(t,e)=>!0===t?e:"string"===typeof t?mb(e,t):void 0;function T_(t,e,n,i,r){for(const s of e){const e=I_(n,s);if(e){t.add(e);const s=C_(e._fallback,n,r);if(yb(s)&&s!==n&&s!==i)return s}else if(!1===e&&yb(i)&&n!==i)return null}return!1}function A_(t,e,n,i){const r=e._rootScopes,s=C_(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=M_(a,o,n,s||n,i);return null!==l&&((!yb(s)||s===n||(l=M_(a,o,s,l,i),null!==l))&&w_(Array.from(a),[""],r,s,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(tb(r)&&eb(n))return n;return r}(e,n,i))))}function M_(t,e,n,i,r){for(;n;)n=T_(t,e,n,i,r);return n}function N_(t,e){for(const n of e){if(!n)continue;const e=n[t];if(yb(e))return e}}function D_(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function P_(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(mb(u,s),c)};return o}const O_=Number.EPSILON||1e-14,R_=(t,e)=>e<t.length&&!t[e].skip&&t[e],L_=t=>"x"===t?"y":"x";function F_(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Vb(s,r),l=Vb(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function j_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=L_(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=R_(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=R_(t,o+1),l){if(c){const t=c[e]-l[e];r[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?Mb(r[o-1])!==Mb(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(t,e,n){const i=t.length;let r,s,o,a,l,c=R_(t,0);for(let u=0;u<i-1;++u)l=c,c=R_(t,u+1),l&&c&&(Pb(e[u],0,O_)?n[u]=n[u+1]=0:(r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])))}(t,r,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=L_(n),r=t.length;let s,o,a,l=R_(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=R_(t,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*e[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*e[c])}}(t,s,e)}function V_(t,e,n){return Math.max(Math.min(t,n),e)}function z_(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)j_(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=F_(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,s,o,a=e_(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&e_(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=V_(r.cp1x,e.left,e.right),r.cp1y=V_(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=V_(r.cp2x,e.left,e.right),r.cp2y=V_(r.cp2y,e.top,e.bottom)))}(t,n)}function U_(){return"undefined"!==typeof window&&"undefined"!==typeof document}function B_(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function H_(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const W_=t=>window.getComputedStyle(t,null);const q_=["top","right","bottom","left"];function K_(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=q_[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function G_(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=W_(n),s="border-box"===r.boxSizing,o=K_(r,"padding"),a=K_(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const Q_=t=>Math.round(10*t)/10;function Y_(t,e,n,i){const r=W_(t),s=K_(r,"margin"),o=H_(r.maxWidth,t,"clientWidth")||Sb,a=H_(r.maxHeight,t,"clientHeight")||Sb,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=B_(t);if(s){const t=s.getBoundingClientRect(),o=W_(s),a=K_(o,"border","width"),l=K_(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=H_(o.maxWidth,s,"clientWidth"),r=H_(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Sb,maxHeight:r||Sb}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=K_(r,"border","width"),e=K_(r,"padding");c-=e.width+t.width,u-=e.height+t.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=Q_(Math.min(c,o,l.maxWidth)),u=Q_(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Q_(c/2)),{width:c,height:u}}function $_(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=r/i,t.width=s/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const X_=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function J_(t,e){const n=function(t,e){return W_(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Z_(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function tx(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function ex(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Z_(t,r,n),a=Z_(r,s,n),l=Z_(s,e,n),c=Z_(o,a,n),u=Z_(a,l,n);return Z_(c,u,n)}const nx=new Map;function ix(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=nx.get(n);return i||(i=new Intl.NumberFormat(t,e),nx.set(n,i)),i}(e,n).format(t)}function rx(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function sx(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ox(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ax(t){return"angle"===t?{between:Bb,compare:zb,normalize:Ub}:{between:Wb,compare:(t,e)=>t-e,normalize:t=>t}}function lx(t){let{start:e,end:n,count:i,loop:r,style:s}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:s}}function cx(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=ax(i),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=ax(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(e[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,v,y=!1,b=null;const w=()=>y||l(r,v,g)&&0!==a(r,v),_=()=>!y||0===a(s,g)||l(s,v,g);for(let x=u,k=u;x<=h;++x)m=e[x%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,r,s),null===b&&w()&&(b=0===a(g,r)?x:k),null!==b&&_()&&(p.push(lx({start:b,end:x,loop:d,count:o,style:f})),b=null),k=x,v=g));return null!==b&&p.push(lx({start:b,end:h,loop:d,count:o,style:f})),p}function ux(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=cx(i[r],t.points,e);s.length&&n.push(...s)}return n}function hx(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),s=dx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,i,r){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=dx(i.setContext(b_(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),fx(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,i):e}function dx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function fx(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var px=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Xb.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const gx="transparent",mx={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Bw(t||gx),r=i.valid&&Bw(e||gx);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class vx{constructor(t,e,n,i){const r=e[n];i=y_([t.to,i,r,t.from]);const s=y_([t.from,r,i]);this._active=!0,this._fn=t.fn||mx[t.type||typeof s],this._easing=ow[t.easing]||ow.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=y_([t.to,e,i,t.from]),this._from=y_([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}Qw.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const yx=Object.keys(Qw.animation);Qw.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),Qw.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Qw.describe("animations",{_fallback:"animation"}),Qw.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class bx{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!eb(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const i=t[n];if(!eb(i))return;const r={};for(const t of yx)r[t]=i[t];(tb(i.properties)&&i.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,r)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new vx(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(px.add(this._chart,n),!0):void 0}}function wx(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function _x(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function xx(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let o,a,l,c;if(null!==e){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],nb(c)&&(s||0===e||Mb(e)===Mb(c))&&(e+=c)}return e}}function kx(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Sx(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ex(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Cx(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=Sx(r,u,n),d[a]=s,d._top=Ex(d,o,!0,i.type),d._bottom=Ex(d,o,!1,i.type)}}function Ix(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Tx(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n]}}}const Ax=t=>"reset"===t||"none"===t,Mx=(t,e)=>e?t:Object.assign({},t);class Nx{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kx(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Tx(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=rb(n.xAxisID,Ix(t,"x")),s=e.yAxisID=rb(n.yAxisID,Ix(t,"y")),o=e.rAxisID=rb(n.rAxisID,Ix(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),c=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Yb(this._data,this),t._stacked&&Tx(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(eb(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}(e);else if(n!==e){if(n){Yb(n,this);const t=this._cachedMeta;Tx(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Qb.forEach((t=>{const e="_onData"+vb(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),o}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=kx(e.vScale,e),e.stack!==n.stack&&(i=!0,Tx(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Cx(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=tb(i[t])?this.parseArrayData(n,i,t,e):eb(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&Cx(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(mb(d,o),h),y:s.parse(mb(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return xx({keys:_x(i,!0),values:e._stacks[t.axis]},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=xx(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:_x(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const e=d[o.axis];return!nb(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],nb(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return eb(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(rb(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=wx(t,n),r=wx(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return b_(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return b_(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&yb(n);if(o)return Mx(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Qw.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(Mx(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(e),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new bx(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ax(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){Ax(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Ax(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Tx(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Dx(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=$b(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(yb(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function Px(t,e,n,i){return tb(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ox(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(Px(d,h,s,c));return l}function Rx(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Lx(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[Fx(u,o,a,l)]=!0,r=c)),s[Fx(r,o,a,l)]=!0,t.borderSkipped=s}function Fx(t,e,n,i){var r,s,o;return i?(o=n,t=jx(t=(r=t)===(s=e)?o:r===o?s:r,n,e)):t=jx(t,e,n),t}function jx(t,e,n){return"start"===t?e:"end"===t?n:t}function Vx(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}Nx.defaults={},Nx.prototype.datasetElementType=null,Nx.prototype.dataElementType=null;class zx extends Nx{parsePrimitiveData(t,e,n,i){return Ox(t,e,n,i)}parseArrayData(t,e,n,i){return Ox(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(mb(p,l),h),u.push(Px(mb(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=Rx(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||Zy(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||Rx(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;Lx(g,m,p,s),Vx(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,s=[],o=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(Zy(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!o(a))&&((!1===r||-1===s.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&s.push(a.stack),a.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness;return{min:o||Dx(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:i,minBarLength:r}}=this,s=i||0,o=this.getParsed(t),a=o._custom,l=Rx(a);let c,u,h=o[e.axis],d=0,f=n?this.applyStack(e,o,n):h;f!==h&&(d=f-h,f=h),l&&(h=a.barStart,f=a.barEnd-a.barStart,0!==h&&Mb(h)!==Mb(a.barEnd)&&(d=0),d+=h);const p=Zy(i)||l?d:i;let g=e.getPixelForValue(p);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(d+f):g,u=c-g,Math.abs(u)<r){u=function(t,e,n){return 0!==t?Mb(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(u,e,s)*r,h===s&&(g-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),i=Math.min(t,n),o=Math.max(t,n);g=Math.max(Math.min(g,o),i),c=g+u}if(g===e.getPixelForValue(s)){const t=Mb(u)*e.getLineWidthForValue(s)/2;g+=t,u-=t}return{size:u,base:g,head:c,center:c+u/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=rb(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let s,o;return Zy(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[e.axis]&&n[r].draw(this._ctx)}}zx.id="bar",zx.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},zx.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ux extends Nx{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=rb(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=rb(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:i}=e,r=this.getParsed(t),s=n.getLabelForValue(r.x),o=i.getLabelForValue(r.y),a=r._custom;return{label:e.label,value:"("+s+", "+o+(a?", "+a:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=rb(n&&n._custom,r),i}}Ux.id="bubble",Ux.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ux.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Bx extends Nx{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(eb(n[t])){const{key:t="value"}=this._parsing;o=e=>+mb(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return Rb(this.options.rotation-90)}_getCircumference(){return Rb(this.options.circumference)}_getRotationExtents(){let t=xb,e=-xb;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let i=1,r=1,s=0,o=0;if(e<xb){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>Bb(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>Bb(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,c,h),m=f(Cb,u,d),v=p(_b,c,h),y=p(_b+Cb,u,d);i=(g-v)/2,r=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),w=sb(this.options.radius,b),_=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/xb)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?xb*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ix(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(rb(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Bx.id="doughnut",Bx.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Bx.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},Bx.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,i)=>{const r=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return tb(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Hx extends Nx{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=ew(e,i,s);this._drawStart=o,this._drawCount=a,nw(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=Db(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i;let v=e>0&&this.getParsed(e-1);for(let y=e;y<e+n;++y){const e=t[y],n=this.getParsed(y),f=m?e:{},b=Zy(n[d]),w=f[h]=s.getPixelForValue(n[h],y),_=f[d]=r||b?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[d],y);f.skip=isNaN(w)||isNaN(_)||b,f.stop=y>0&&Math.abs(n[h]-v[h])>g,p&&(f.parsed=n,f.raw=l.data[y]),u&&(f.options=c||this.resolveDataElementOptions(y,e.active?"active":i)),m||this.updateElement(e,y,f,i),v=n}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Hx.id="line",Hx.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Hx.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Wx extends Nx{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ix(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return P_.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*_b;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,i,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Rb(this.resolveDataElementOptions(t,e).angle||n):0}}Wx.id="polarArea",Wx.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Wx.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,i)=>{const r=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class qx extends Bx{}qx.id="pie",qx.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Kx extends Nx{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return P_.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,i)}}}Kx.id="radar",Kx.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Kx.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Gx{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Db(this.x)&&Db(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}Gx.defaults={},Gx.defaultRoutes=void 0;const Qx={values:t=>tb(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=Ab(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ix(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=t/Math.pow(10,Math.floor(Ab(t)));return 1===i||2===i||5===i?Qx.numeric.call(this,t,e,n):""}};var Yx={formatters:Qx};function $x(t,e){const n=t.options.ticks,i=n.maxTicksLimit||function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return function(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}(e,l,r,s/i),l;const c=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}(r,e,i);if(s>0){let t,n;const i=s>1?Math.round((a-o)/(s-1)):null;for(Xx(e,l,c,Zy(i)?0:o-i,o),t=0,n=s-1;t<n;t++)Xx(e,l,c,r[t],r[t+1]);return Xx(e,l,c,a,Zy(i)?e.length:a+i),l}return Xx(e,l,c),l}function Xx(t,e,n,i,r){const s=rb(i,0),o=Math.min(rb(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}Qw.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Qw.route("scale.ticks","color","","color"),Qw.route("scale.grid","color","","borderColor"),Qw.route("scale.grid","borderColor","","borderColor"),Qw.route("scale.title","color","","color"),Qw.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),Qw.describe("scales",{_fallback:"scale"}),Qw.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const Jx=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Zx(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function tk(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function ek(t){return t.drawTicks?t.tickLength:0}function nk(t,e){if(!t.display)return 0;const n=v_(t.font,e),i=m_(t.padding);return(tb(t.text)?t.text.length:1)*n.lineHeight+i.height}function ik(t,e,n){let i=Zb(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class rk extends Gx{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=ib(t,Number.POSITIVE_INFINITY),e=ib(e,Number.NEGATIVE_INFINITY),n=ib(n,Number.POSITIVE_INFINITY),i=ib(i,Number.NEGATIVE_INFINITY),{min:ib(t,n),max:ib(e,i),minDefined:nb(t),maxDefined:nb(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:ib(n,ib(i,n)),max:ib(i,ib(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ob(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=sb(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Zx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=$x(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ob(this.options.afterUpdate,[this])}beforeSetDimensions(){ob(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ob(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ob(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ob(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=ob(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){ob(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ob(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Hb(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-ek(t.grid)-e.padding-nk(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Lb(Math.min(Math.asin(Hb((c.highest.height+6)/s,-1,1)),Math.asin(Hb(o/a,-1,1))-Math.asin(Hb(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){ob(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ob(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=nk(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=ek(r)+s):(t.height=this.maxHeight,t.width=ek(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Rb(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ob(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Zy(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Zx(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:i}=this,r=[],s=[];let o,a,l,c,u,h,d,f,p,g,m,v=0,y=0;for(o=0;o<e;++o){if(c=t[o].label,u=this._resolveTickFontOptions(o),n.font=h=u.string,d=i[h]=i[h]||{data:{},gc:[]},f=u.lineHeight,p=g=0,Zy(c)||tb(c)){if(tb(c))for(a=0,l=c.length;a<l;++a)m=c[a],Zy(m)||tb(m)||(p=Yw(n,d.data,d.gc,p,m),g+=f)}else p=Yw(n,d.data,d.gc,p,c),g=f;r.push(p),s.push(g),v=Math.max(p,v),y=Math.max(g,y)}!function(t,e){ab(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(i,e);const b=r.indexOf(v),w=s.indexOf(y),_=t=>({width:r[t]||0,height:s[t]||0});return{first:_(0),last:_(e-1),widest:_(b),highest:_(w),widths:r,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Hb(this._alignToPixels?Xw(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return b_(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=b_(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Rb(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s}=i,o=r.offset,a=this.isHorizontal(),l=this.ticks.length+(o?1:0),c=ek(r),u=[],h=r.setContext(this.getContext()),d=h.drawBorder?h.borderWidth:0,f=d/2,p=function(t){return Xw(n,t,d)};let g,m,v,y,b,w,_,x,k,S,E,C;if("top"===s)g=p(this.bottom),w=this.bottom-c,x=g-f,S=p(t.top)+f,C=t.bottom;else if("bottom"===s)g=p(this.top),S=t.top,C=p(t.bottom)-f,w=g+f,x=this.top+c;else if("left"===s)g=p(this.right),b=this.right-c,_=g-f,k=p(t.left)+f,E=t.right;else if("right"===s)g=p(this.left),k=t.left,E=p(t.right)-f,b=g+f,_=this.left+c;else if("x"===e){if("center"===s)g=p((t.top+t.bottom)/2+.5);else if(eb(s)){const t=Object.keys(s)[0],e=s[t];g=p(this.chart.scales[t].getPixelForValue(e))}S=t.top,C=t.bottom,w=g+f,x=w+c}else if("y"===e){if("center"===s)g=p((t.left+t.right)/2);else if(eb(s)){const t=Object.keys(s)[0],e=s[t];g=p(this.chart.scales[t].getPixelForValue(e))}b=g-f,_=b-c,k=t.left,E=t.right}const I=rb(i.ticks.maxTicksLimit,l),T=Math.max(1,Math.ceil(l/I));for(m=0;m<l;m+=T){const t=r.setContext(this.getContext(m)),e=t.lineWidth,i=t.color,s=t.borderDash||[],l=t.borderDashOffset,c=t.tickWidth,h=t.tickColor,d=t.tickBorderDash||[],f=t.tickBorderDashOffset;v=tk(this,m,o),void 0!==v&&(y=Xw(n,v,e),a?b=_=k=E=y:w=x=S=C=y,u.push({tx1:b,ty1:w,tx2:_,ty2:x,x1:k,y1:S,x2:E,y2:C,width:e,color:i,borderDash:s,borderDashOffset:l,tickWidth:c,tickColor:h,tickBorderDash:d,tickBorderDashOffset:f}))}return this._ticksLength=l,this._borderValue=g,u}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=ek(n.grid),d=h+c,f=u?-c:d,p=-Rb(this.labelRotation),g=[];let m,v,y,b,w,_,x,k,S,E,C,I,T="middle";if("top"===i)_=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===i)_=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("x"===e){if("center"===i)_=(t.top+t.bottom)/2+d;else if(eb(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)w=(t.left+t.right)/2-d;else if(eb(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const A=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const t=r.setContext(this.getContext(m));k=this.getPixelForTick(m)+r.labelOffset,S=this._resolveTickFontOptions(m),E=S.lineHeight,C=tb(b)?b.length:1;const e=C/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=x;if(s?(w=k,"inner"===x&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),I="top"===i?"near"===l||0!==p?-C*E+E/2:"center"===l?-A.highest.height/2-e*E+E:-A.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?A.highest.height/2-e*E:A.highest.height-C*E,u&&(I*=-1)):(_=k,I=(1-C)*E/2),t.showLabelBackdrop){const e=m_(t.backdropPadding),n=A.heights[m],i=A.widths[m];let r=_+I-e.top,s=w-e.left;switch(T){case"middle":r-=n/2;break;case"bottom":r-=n}switch(x){case"center":s-=i/2;break;case"right":s-=i}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({rotation:p,label:b,font:S,color:n,strokeColor:a,strokeWidth:c,textOffset:I,textAlign:d,textBaseline:T,translation:[w,_],backdrop:h})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Rb(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,i=n.setContext(this.getContext()),r=n.drawBorder?i.borderWidth:0;if(!r)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,l,c,u;this.isHorizontal()?(a=Xw(t,this.left,r)-r/2,l=Xw(t,this.right,s)+s/2,c=u=o):(c=Xw(t,this.top,r)-r/2,u=Xw(t,this.bottom,s)+s/2,a=l=o),e.save(),e.lineWidth=i.borderWidth,e.strokeStyle=i.borderColor,e.beginPath(),e.moveTo(a,c),e.lineTo(l,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&n_(e,n);const i=this._labelItems||(this._labelItems=this._computeLabelItems(t));let r,s;for(r=0,s=i.length;r<s;++r){const t=i[r],n=t.font,s=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),o_(e,s,0,t.textOffset,n,t)}n&&i_(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=v_(n.font),s=m_(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||eb(e)?(a+=s.bottom,tb(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-r,m=a-s;if(t.isHorizontal()){if(d=tw(i,s,a),eb(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:Jx(t,n,e);h=a-s}else{if(eb(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:Jx(t,n,e);f=tw(i,o,r),p="left"===n?-Cb:Cb}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);o_(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:ik(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=rb(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===rk.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return v_(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sk{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=db(Object.create(null),[n?Qw.get(n):{},Qw.get(e),t.defaults]);Qw.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Qw.route(s,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&Qw.describe(e,t.descriptors)}(t,s,n),this.override&&Qw.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in Qw[i]&&(delete Qw[i][n],this.override&&delete Ww[n])}}var ok=new class{constructor(){this.controllers=new sk(Nx,"datasets",!0),this.elements=new sk(Gx,"elements"),this.plugins=new sk(Object,"plugins"),this.scales=new sk(rk,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):ab(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=vb(t);ob(n["before"+i],[],n),e[t](n),ob(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}};class ak extends Nx{update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=ew(e,n,i);if(this._drawStart=r,this._drawCount=s,nw(e)&&(r=0,s=n.length),this.options.showLine){const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=ok.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=Db(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},p=Zy(n[f]),w=c[d]=s.getPixelForValue(n[d],b),_=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(w)||isNaN(_)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":i)),v||this.updateElement(e,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}ak.id="scatter",ak.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},ak.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function lk(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ck{constructor(t){this.options=t||{}}init(t){}formats(){return lk()}parse(t,e){return lk()}format(t,e){return lk()}add(t,e,n){return lk()}diff(t,e,n){return lk()}startOf(t,e,n){return lk()}endOf(t,e){return lk()}}ck.override=function(t){Object.assign(ck.prototype,t)};var uk={_date:ck};function hk(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?Gb:Kb;if(!i)return t(s,e,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(s,e,n-r),o=t(s,e,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function dk(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=hk(s[a],e,o,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function fk(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return dk(t,n,e,(function(n,o,a){(r||e_(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function pk(t,e,n,i,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return dk(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function gk(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?pk(t,e,n,i,r,s):function(t,e,n,i){let r=[];return dk(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=jb(t,{x:e.x,y:e.y});Bb(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})})),r}(t,e,n,r):[]}function mk(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return dk(t,n,e,((t,i,l)=>{t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:s}var vk={evaluateInteractionItems:dk,modes:{index(t,e,n,i){const r=G_(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?fk(t,r,s,i,o):gk(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=G_(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?fk(t,r,s,i,o):gk(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>fk(t,G_(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=G_(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return gk(t,r,s,n.intersect,i,o)},x:(t,e,n,i)=>mk(t,G_(e,t),"x",n.intersect,i),y:(t,e,n,i)=>mk(t,G_(e,t),"y",n.intersect,i)}};const yk=["left","top","right","bottom"];function bk(t,e){return t.filter((t=>t.pos===e))}function wk(t,e){return t.filter((t=>-1===yk.indexOf(t.pos)&&t.box.axis===e))}function _k(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function xk(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!yk.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&e.availableHeight)}return n}function kk(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Sk(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ek(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!eb(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&Sk(o,s.getPadding());const a=Math.max(0,e.outerWidth-kk(o,t,"left","right")),l=Math.max(0,e.outerHeight-kk(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Ck(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function Ik(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Ck(a.horizontal,e));const{same:o,other:h}=Ek(e,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Ik(r,e,n,i)||u}function Tk(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Ak(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,s=l.size||t.height;yb(l.start)&&(o=l.start),t.fullSize?Tk(t,r.left,o,n.outerWidth-r.right-r.left,s):Tk(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;yb(l.start)&&(s=l.start),t.fullSize?Tk(t,s,r.top,o,n.outerHeight-r.bottom-r.top):Tk(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}Qw.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Mk={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=m_(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=_k(e.filter((t=>t.box.fullSize)),!0),i=_k(bk(e,"left"),!0),r=_k(bk(e,"right")),s=_k(bk(e,"top"),!0),o=_k(bk(e,"bottom")),a=wk(e,"x"),l=wk(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:bk(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;ab(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);Sk(d,m_(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=xk(l.concat(c),h);Ik(a.fullSize,f,h,p),Ik(l,f,h,p),Ik(c,f,h,p)&&Ik(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Ak(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Ak(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ab(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Nk{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Dk extends Nk{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Pk="$chartjs",Ok={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rk=t=>null===t||""===t;const Lk=!!X_&&{passive:!0};function Fk(t,e,n){t.canvas.removeEventListener(e,n,Lk)}function jk(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Vk(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||jk(n.addedNodes,i),e=e&&!jk(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function zk(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||jk(n.removedNodes,i),e=e&&!jk(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Uk=new Map;let Bk=0;function Hk(){const t=window.devicePixelRatio;t!==Bk&&(Bk=t,Uk.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Wk(t,e,n){const i=t.canvas,r=i&&B_(i);if(!r)return;const s=Jb(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(t,e){Uk.size||window.addEventListener("resize",Hk),Uk.set(t,e)}(t,s),o}function qk(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Uk.delete(t),Uk.size||window.removeEventListener("resize",Hk)}(t)}function Kk(t,e,n){const i=t.canvas,r=Jb((e=>{null!==t.ctx&&n(function(t,e){const n=Ok[t.type]||t.type,{x:i,y:r}=G_(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,n){t.addEventListener(e,n,Lk)}(i,e,r),r}class Gk extends Nk{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Pk]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Rk(r)){const e=J_(t,"width");void 0!==e&&(t.width=e)}if(Rk(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=J_(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Pk])return!1;const n=e[Pk].initial;["height","width"].forEach((t=>{const i=n[t];Zy(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[Pk],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:Vk,detach:zk,resize:Wk}[e]||Kk;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:qk,detach:qk,resize:qk}[e]||Fk)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Y_(t,e,n,i)}isAttached(t){const e=B_(t);return!(!e||!e.isConnected)}}class Qk{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===ob(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){Zy(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=rb(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(ok.plugins.items);for(let s=0;s<i.length;s++)n.push(ok.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const o=[],a=t.getContext();for(const l of r){const e=l.id,r=Yk(n[e],i);null!==r&&o.push({plugin:l,options:$k(t.config,{plugin:l,local:s[e]},r,a)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Yk(t,e){return e||!1!==t?!0===t?{}:t:null}function $k(t,e,n,i){let{plugin:r,local:s}=e;const o=t.pluginScopeKeys(r),a=t.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xk(t,e){const n=Qw.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Jk(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function Zk(t){const e=t.options||(t.options={});e.plugins=rb(e.plugins,{}),e.scales=function(t,e){const n=Ww[t.type]||{scales:{}},i=e.scales||{},r=Xk(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach((t=>{const e=i[t];if(!eb(e))return console.error("Invalid scale configuration for scale: ".concat(t));if(e._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=Jk(t,e),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};s[a]=s[a]||t,o[t]=fb(Object.create(null),[{axis:a},e,c[a],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,a=n.indexAxis||Xk(r,e),l=(Ww[r]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),r=n[e+"AxisID"]||s[e]||e;o[r]=o[r]||Object.create(null),fb(o[r],[{axis:e},i[r],l[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];fb(e,[Qw.scales[e.type],Qw.scale])})),o}(t,e)}function tS(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const eS=new Map,nS=new Set;function iS(t,e){let n=eS.get(t);return n||(n=e(),eS.set(t,n),nS.add(n)),n}const rS=(t,e,n)=>{const i=mb(e,n);void 0!==i&&t.add(i)};class sS{constructor(t){this._config=function(t){return(t=t||{}).data=tS(t.data),Zk(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Zk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return iS(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return iS("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return iS("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return iS("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>rS(a,t,e)))),e.forEach((t=>rS(a,i,t))),e.forEach((t=>rS(a,Ww[r]||{},t))),e.forEach((t=>rS(a,Qw,t))),e.forEach((t=>rS(a,qw,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),nS.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ww[e]||{},Qw.datasets[e]||{},{type:e},Qw,qw]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=oS(this._resolverCache,t,i);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=x_(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(bb(o)||aS(o))||s&&tb(o))return!0}return!1}(s,e)){r.$shared=!1;a=__(s,n=bb(n)?n():n,this.createResolver(t,n,o))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=oS(this._resolverCache,t,n);return eb(e)?__(r,e,void 0,i):r}}function oS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:w_(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const aS=t=>eb(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||bb(t[n])),!1);const lS=["top","bottom","left","right","chartArea"];function cS(t,e){return"top"===t||"bottom"===t||-1===lS.indexOf(t)&&"x"===e}function uS(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function hS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ob(n&&n.onComplete,[t],e)}function dS(t){const e=t.chart,n=e.options.animation;ob(n&&n.onProgress,[t],e)}function fS(t){return U_()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const pS={},gS=t=>{const e=fS(t);return Object.values(pS).filter((t=>t.canvas===e)).pop()};function mS(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}class vS{constructor(t,e){const n=this.config=new sS(e),i=fS(t),r=gS(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!U_()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Dk:Gk}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=Jy(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],pS[this.id]=this,o&&a?(px.listen(this,"complete",hS),px.listen(this,"progress",dS),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return Zy(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jw(this.canvas,this.ctx),this}stop(){return px.stop(this),this}resize(t,e){px.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,$_(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),ob(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){ab(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=Jk(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),ab(r,(e=>{const r=e.options,s=r.id,o=Jk(s,r),a=rb(r.type,e.dtype);void 0!==r.position&&cS(r.position,o)===cS(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(ok.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),ab(i,((t,e)=>{t||delete n[e]})),ab(n,(t=>{Mk.configure(this,t,t.options),Mk.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(uS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||Xk(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=ok.getController(s),{datasetElementType:i,dataElementType:o}=Qw.datasets[s];Object.assign(e.prototype,{dataElementType:ok.getElement(o),datasetElementType:i&&ok.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){ab(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||ab(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(uS("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ab(this.scales,(t=>{Mk.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);wb(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){mS(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!wb(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Mk.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ab(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,bb(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(px.has(this)?this.attached&&!px.running(this)&&px.start(this):(this.draw(),hS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&n_(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&i_(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return e_(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=vk.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=b_(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);yb(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),px.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Jw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete pS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};ab(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){ab(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},ab(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!lb(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,ob(r.onHover,[t,o,this],this),a&&ob(r.onClick,[t,o,this],this));const c=!lb(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}const yS=()=>ab(vS.instances,(t=>t._plugins.invalidate())),bS=!0;function wS(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Cb,i-Cb),t.closePath(),t.clip()}function _S(t,e,n,i){const r=f_(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return Hb(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Hb(r.innerStart,0,o),innerEnd:Hb(r.innerEnd,0,o)}}function xS(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function kS(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*h-n/_b)/h)/2,m=l+g+f,v=r-g-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:_}=_S(e,d,h,v-m),x=h-y,k=h-b,S=m+y/x,E=v-b/k,C=d+w,I=d+_,T=m+w/C,A=v-_/I;if(t.beginPath(),s){if(t.arc(o,a,h,S,E),b>0){const e=xS(k,E,o,a);t.arc(e.x,e.y,b,E,v+Cb)}const e=xS(I,v,o,a);if(t.lineTo(e.x,e.y),_>0){const e=xS(I,A,o,a);t.arc(e.x,e.y,_,v+Cb,A+Math.PI)}if(t.arc(o,a,d,v-_/d,m+w/d,!0),w>0){const e=xS(C,T,o,a);t.arc(e.x,e.y,w,T+Math.PI,m-Cb)}const n=xS(x,m,o,a);if(t.lineTo(n.x,n.y),y>0){const e=xS(x,S,o,a);t.arc(e.x,e.y,y,m-Cb,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*h+o,n=Math.sin(S)*h+a;t.lineTo(e,n);const i=Math.cos(E)*h+o,r=Math.sin(E)*h+a;t.lineTo(i,r)}t.closePath()}function SS(t,e,n,i,r,s){const{options:o}=e,{borderWidth:a,borderJoinStyle:l}=o,c="inner"===o.borderAlign;a&&(c?(t.lineWidth=2*a,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&function(t,e,n){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&wS(t,e,s+xb),t.beginPath(),t.arc(i,r,c,s+xb,s,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(i,r,l,s,s+xb),u=0;u<a;++u)t.stroke()}(t,e,c),c&&wS(t,e,r),kS(t,e,n,i,r,s),t.stroke())}Object.defineProperties(vS,{defaults:{enumerable:bS,value:Qw},instances:{enumerable:bS,value:pS},overrides:{enumerable:bS,value:Ww},registry:{enumerable:bS,value:ok},version:{enumerable:bS,value:"3.9.1"},getChart:{enumerable:bS,value:gS},register:{enumerable:bS,value:function(){ok.add(...arguments),yS()}},unregister:{enumerable:bS,value:function(){ok.remove(...arguments),yS()}}});class ES extends Gx{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=jb(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,d=rb(u,a-o)>=xb||Bb(r,o,a),f=Wb(s,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/2,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>xb?Math.floor(n/xb):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(i){o=i/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*o,Math.sin(e)*o),this.circumference>=_b&&(o=i)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=function(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){kS(t,e,n,i,o+xb,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+a%xb,a%xb===0&&(l+=xb))}return kS(t,e,n,i,l,r),t.fill(),l}(t,this,o,r,s);SS(t,this,o,r,a,s),t.restore()}}function CS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=rb(n.borderCapStyle,e.borderCapStyle),t.setLineDash(rb(n.borderDash,e.borderDash)),t.lineDashOffset=rb(n.borderDashOffset,e.borderDashOffset),t.lineJoin=rb(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=rb(n.borderWidth,e.borderWidth),t.strokeStyle=rb(n.borderColor,e.borderColor)}function IS(t,e,n){t.lineTo(n.x,n.y)}function TS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function AS(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=TS(r,n,i),u=function(t){return t.stepped?r_:t.tension||"monotone"===t.cubicInterpolationMode?s_:IS}(s);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?c:0))%o],u(t,f,d,g,s.stepped)),!!l}function MS(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=TS(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,v=0;const y=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=r[y(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(v*m+e)/++v):(b(),t.lineTo(e,n),d=i,v=0,f=p=n),g=n}b()}function NS(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?MS:AS}ES.id="arc",ES.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},ES.defaultRoutes={backgroundColor:"backgroundColor"};const DS="function"===typeof Path2D;function PS(t,e,n,i){DS&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),CS(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:s}=e,o=NS(e);for(const a of r)CS(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class OS extends Gx{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;z_(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(n,r,s,i);return hx(t,!0===i?[{start:o,end:a,loop:s}]:function(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=ux(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=function(t){return t.stepped?tx:t.tension||"monotone"===t.cubicInterpolationMode?ex:Z_}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return NS(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=NS(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),PS(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function RS(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}OS.id="line",OS.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},OS.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},OS.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class LS extends Gx{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return RS(this,t,"x",e)}inYRange(t,e){return RS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!e_(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Zw(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function FS(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function jS(t,e,n,i){return t?0:Hb(e,n,i)}function VS(t){const e=FS(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=p_(i);return{t:jS(r.top,s.top,0,n),r:jS(r.right,s.right,0,e),b:jS(r.bottom,s.bottom,0,n),l:jS(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=g_(r),o=Math.min(e,n),a=t.borderSkipped,l=i||eb(r);return{topLeft:jS(!l||a.top||a.left,s.topLeft,0,o),topRight:jS(!l||a.top||a.right,s.topRight,0,o),bottomLeft:jS(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:jS(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function zS(t,e,n,i){const r=null===e,s=null===n,o=t&&!(r&&s)&&FS(t,i);return o&&(r||Wb(e,o.left,o.right))&&(s||Wb(n,o.top,o.bottom))}function US(t,e){t.rect(e.x,e.y,e.w,e.h)}function BS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}LS.id="point",LS.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},LS.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class HS extends Gx{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=VS(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?l_:US;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,BS(s,e,r)),t.clip(),o(t,BS(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,BS(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return zS(this,t,e,n)}inXRange(t,e){return zS(this,t,null,e)}inYRange(t,e){return zS(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}HS.id="bar",HS.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},HS.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const WS=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class qS extends Gx{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ob(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=v_(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=WS(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const g=n+e/2+r.measureText(t.text).width;s>0&&d+i+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:i},h=Math.max(h,g),d+=i+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=rx(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=tw(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=tw(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=tw(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=tw(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;n_(t,this),this._draw(),i_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=Qw.color,a=rx(t.rtl,this.left,this.width),l=v_(s.font),{color:c,padding:u}=s,h=l.size,d=h/2;let f;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=WS(s,h),v=this.isHorizontal(),y=this._computeTitleHeight();f=v?{x:tw(r,this.left+u,this.right-n[0]),y:this.top+u+y,line:0}:{x:this.left+u,y:tw(r,this.top+y+u,this.bottom-e[0].height),line:0},sx(this.ctx,t.textDirection);const b=m+u;this.legendItems.forEach(((w,_)=>{i.strokeStyle=w.fontColor||c,i.fillStyle=w.fontColor||c;const x=i.measureText(w.text).width,k=a.textAlign(w.textAlign||(w.textAlign=s.textAlign)),S=p+d+x;let E=f.x,C=f.y;a.setWidth(this.width),v?_>0&&E+S+u>this.right&&(C=f.y+=b,f.line++,E=f.x=tw(r,this.left+u,this.right-n[f.line])):_>0&&C+b>this.bottom&&(E=f.x=E+e[f.line].width+u,f.line++,C=f.y=tw(r,this.top+y+u,this.bottom-e[f.line].height));!function(t,e,n){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const r=rb(n.lineWidth,1);if(i.fillStyle=rb(n.fillStyle,o),i.lineCap=rb(n.lineCap,"butt"),i.lineDashOffset=rb(n.lineDashOffset,0),i.lineJoin=rb(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=rb(n.strokeStyle,o),i.setLineDash(rb(n.lineDash,[])),s.usePointStyle){const o={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,p/2);t_(i,o,l,e+d,s.pointStyleWidth&&p)}else{const s=e+Math.max((h-g)/2,0),o=a.leftForLtr(t,p),l=g_(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?l_(i,{x:o,y:s,w:p,h:g,radius:l}):i.rect(o,s,p,g),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(E),C,w),E=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(k,E+p+d,v?E+S:this.right,t.rtl),function(t,e,n){o_(i,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(E),C,w),v?f.x+=S+u:f.y+=b})),ox(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=v_(e.font),i=m_(e.padding);if(!e.display)return;const r=rx(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=tw(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+tw(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=tw(o,u,u+h);s.textAlign=r.textAlign(Zb(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,o_(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=v_(t.font),n=m_(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(Wb(t,this.left,this.right)&&Wb(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Wb(t,i.left,i.left+i.width)&&Wb(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!r&&ob(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&ob(e.onHover,[t,n,this],this)}else n&&ob(e.onClick,[t,n,this],this)}}var KS={id:"legend",_element:qS,start(t,e,n){const i=t.legend=new qS({ctx:t.ctx,options:n,chart:t});Mk.configure(t,i,n),Mk.addBox(t,i)},stop(t){Mk.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Mk.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const o=t.controller.getStyle(n?0:void 0),a=m_(o.borderWidth);return{text:e[t.index].label,fillStyle:o.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:o.borderColor,pointStyle:i||o.pointStyle,rotation:o.rotation,textAlign:r||o.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class GS extends Gx{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=tb(n.text)?n.text.length:1;this._padding=m_(n.padding);const r=i*v_(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=tw(o,n,r),c=e+t,a=r-n):("left"===s.position?(l=n+t,c=tw(o,i,e),u=-.5*_b):(l=r-t,c=tw(o,e,i),u=.5*_b),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=v_(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);o_(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:Zb(e.align),textBaseline:"middle",translation:[r,s]})}}var QS={id:"title",_element:GS,start(t,e,n){!function(t,e){const n=new GS({ctx:t.ctx,options:e,chart:t});Mk.configure(t,n,e),Mk.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Mk.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Mk.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const YS={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i+=t.x,r+=t.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=Vb(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function $S(t,e){return e&&(tb(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function XS(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function JS(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function ZS(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=v_(e.bodyFont),c=v_(e.titleFont),u=v_(e.footerFont),h=s.length,d=r.length,f=i.length,p=m_(e.padding);let g=p.height,m=0,v=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const b=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=c.string,ab(t.title,b),n.font=l.string,ab(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,ab(i,(t=>{ab(t.before,b),ab(t.lines,b),ab(t.after,b)})),y=0,n.font=u.string,ab(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function tE(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function eE(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||tE(t,e,n,i),yAlign:i}}function nE(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=g_(o);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Hb(p,0,i.width-e.width),y:Hb(g,0,i.height-e.height)}}function iE(t,e,n){const i=m_(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function rE(t){return $S([],XS(t))}function sE(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class oE extends Gx{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new bx(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,b_(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=n.beforeTitle.apply(this,[t]),r=n.title.apply(this,[t]),s=n.afterTitle.apply(this,[t]);let o=[];return o=$S(o,XS(i)),o=$S(o,XS(r)),o=$S(o,XS(s)),o}getBeforeBody(t,e){return rE(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,i=[];return ab(t,(t=>{const e={before:[],lines:[],after:[]},r=sE(n,t);$S(e.before,XS(r.beforeLabel.call(this,t))),$S(e.lines,r.label.call(this,t)),$S(e.after,XS(r.afterLabel.call(this,t))),i.push(e)})),i}getAfterBody(t,e){return rE(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,i=n.beforeFooter.apply(this,[t]),r=n.footer.apply(this,[t]),s=n.afterFooter.apply(this,[t]);let o=[];return o=$S(o,XS(i)),o=$S(o,XS(r)),o=$S(o,XS(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(JS(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),ab(l,(e=>{const n=sE(t.callbacks,e);i.push(n.labelColor.call(this,e)),r.push(n.labelPointStyle.call(this,e)),s.push(n.labelTextColor.call(this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=YS[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=ZS(this,n),o=Object.assign({},t,e),a=eE(this.chart,n,o),l=nE(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=g_(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,v,y,b,w;return"center"===r?(b=d+p/2,"left"===i?(g=h,m=g-s,y=b+s,w=b-s):(g=h+f,m=g+s,y=b-s,w=b+s),v=g):(m="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(y=d,b=y-s,g=m-s,v=m+s):(y=d+p,b=y+s,g=m+s,v=m-s),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=rx(n.rtl,this.x,this.width);for(t.x=iE(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=v_(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l,boxPadding:c}=r,u=v_(r.bodyFont),h=iE(this,"left",r),d=i.x(h),f=a<u.lineHeight?(u.lineHeight-a)/2:0,p=e.y+f;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=p+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Zw(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Zw(t,e,n,c)}else{t.lineWidth=eb(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(d,l-c),n=i.leftForLtr(i.xPlus(d,1),l-c-2),o=g_(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,l_(t,{x:e,y:p,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),l_(t,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,p,l,a),t.strokeRect(e,p,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,p+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=v_(n.bodyFont);let h=u.lineHeight,d=0;const f=rx(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(s);let m,v,y,b,w,_,x;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=iE(this,g,n),e.fillStyle=n.bodyColor,ab(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,_=i.length;b<_;++b){for(m=i[b],v=this.labelTextColors[b],e.fillStyle=v,ab(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,x=y.length;w<x;++w)p(y[w]),h=u.lineHeight;ab(m.after,p)}d=0,h=u.lineHeight,ab(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=rx(n.rtl,this.x,this.width);for(t.x=iE(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=v_(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=g_(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=YS[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=ZS(this,t),o=Object.assign({},n,this._size),a=eE(e,t,o),l=nE(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=m_(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),sx(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),ox(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!lb(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!lb(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e;const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=YS[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}oE.positioners=YS;var aE={id:"tooltip",_element:oE,positioners:YS,afterInit(t,e,n){n&&(t.tooltip=new oE({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Xy,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Xy,beforeBody:Xy,beforeLabel:Xy,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Zy(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Xy,afterBody:Xy,beforeFooter:Xy,footer:Xy,afterFooter:Xy}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function lE(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}class cE extends rk{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Zy(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Hb(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:lE(n,t,rb(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function uE(t,e){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:g}=e,m=!Zy(s),v=!Zy(o),y=!Zy(l),b=(g-p)/(u+1);let w,_,x,k,S=Nb((g-p)/f/d)*d;if(S<1e-14&&!m&&!v)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=Nb(k*S/f/d)*d),Zy(a)||(w=Math.pow(10,a),S=Math.ceil(S*w)/w),"ticks"===i?(_=Math.floor(p/S)*S,x=Math.ceil(g/S)*S):(_=p,x=g),m&&v&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/r,S/1e3)?(k=Math.round(Math.min((o-s)/S,c)),S=(o-s)/k,_=s,x=o):y?(_=m?s:_,x=v?o:x,k=l-1,S=(x-_)/k):(k=(x-_)/S,k=Pb(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const E=Math.max(Fb(S),Fb(_));w=Math.pow(10,Zy(a)?E:a),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let C=0;for(m&&(h&&_!==s?(n.push({value:s}),_<s&&C++,Pb(Math.round((_+C*S)*w)/w,s,hE(s,b,t))&&C++):_<s&&C++);C<k;++C)n.push({value:Math.round((_+C*S)*w)/w});return v&&h&&x!==o?n.length&&Pb(n[n.length-1].value,o,hE(o,b,t))?n[n.length-1].value=o:n.push({value:o}):v&&x!==o||n.push({value:x}),n}function hE(t,e,n){let{horizontal:i,minRotation:r}=n;const s=Rb(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}cE.id="category",cE.defaults={ticks:{callback:cE.prototype.getLabelForValue}};class dE extends rk{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Zy(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=Mb(i),e=Mb(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*r)),o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=uE({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Ob(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ix(t,this.chart.options.locale,this.options.ticks.format)}}class fE extends dE{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=nb(t)?t:0,this.max=nb(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Rb(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function pE(t){return 1===t/Math.pow(10,Math.floor(Ab(t)))}fE.id="linear",fE.defaults={ticks:{callback:Yx.formatters.numeric}};class gE extends rk{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=dE.prototype.parse.apply(this,[t,e]);if(0!==n)return nb(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=nb(t)?Math.max(0,t):null,this.max=nb(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t,o=(t,e)=>Math.pow(10,Math.floor(Ab(t))+e);n===i&&(n<=0?(r(1),s(10)):(r(o(n,-1)),s(o(i,1)))),n<=0&&r(o(i,-1)),i<=0&&s(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&r(o(n,-1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=function(t,e){const n=Math.floor(Ab(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),r=[];let s=ib(t.min,Math.pow(10,Math.floor(Ab(e.min)))),o=Math.floor(Ab(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{r.push({value:s,major:pE(s)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l}while(o<n||o===n&&a<i);const c=ib(t.max,s);return r.push({value:c,major:pE(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Ob(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":ix(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ab(t),this._valueRange=Ab(this.max)-Ab(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ab(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function mE(t){const e=t.ticks;if(e.display&&t.display){const t=m_(e.backdropPadding);return rb(e.font&&e.font.size,Qw.font.size)+t.height}return 0}function vE(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function yE(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?_b/s:0;for(let h=0;h<s;h++){const s=o.setContext(t.getPointLabelContext(h));r[h]=s.padding;const d=t.getPointPosition(h,t.drawingArea+r[h],a),f=v_(s.font),p=(l=t.ctx,c=f,u=tb(u=t._pointLabels[h])?u:[u],{w:$w(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const g=Ub(t.getIndexAngle(h)+a),m=Math.round(Lb(g));bE(n,e,g,vE(m,d.x,p.w,0,180),vE(m,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,o=mE(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?_b/r:0;for(let c=0;c<r;c++){const r=t.getPointPosition(c,a+o+n[c],l),s=Math.round(Lb(Ub(r.angle+Cb))),u=e[c],h=xE(r.y,u.h,s),d=wE(s),f=_E(r.x,u.w,d);i.push({x:r.x,y:h,textAlign:d,left:f,top:h,right:f+u.w,bottom:h+u.h})}return i}(t,i,r)}function bE(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function wE(t){return 0===t||180===t?"center":t<180?"left":"right"}function _E(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function xE(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function kE(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,xb);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}gE.id="logarithmic",gE.defaults={ticks:{callback:Yx.formatters.logarithmic,major:{enabled:!0}}};class SE extends dE{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=m_(mE(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=nb(t)&&!isNaN(t)?t:0,this.max=nb(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mE(this.options))}generateTickLabels(t){dE.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=ob(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?yE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return Ub(t*(xb/(this._pointLabels.length||1))+Rb(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Zy(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Zy(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return b_(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-Cb+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),kE(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i}=e,r=this._pointLabels.length;let s,o,a;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=i.setContext(t.getPointLabelContext(r)),s=v_(e.font),{x:o,y:a,textAlign:l,left:c,top:u,right:h,bottom:d}=t._pointLabelItems[r],{backdropColor:f}=e;if(!Zy(f)){const t=g_(e.borderRadius),i=m_(e.backdropPadding);n.fillStyle=f;const r=c-i.left,s=u-i.top,o=h-c+i.width,a=d-u+i.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),l_(n,{x:r,y:s,w:o,h:a,radius:t}),n.fill()):n.fillRect(r,s,o,a)}o_(n,t._pointLabels[r],o,a+s.lineHeight/2,s,{color:e.color,textAlign:l,textBaseline:"middle"})}}(this,r),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e){o=this.getDistanceFromCenterForValue(t.value);!function(t,e,n,i){const r=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!i||!o||!a||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),kE(t,n,s,i),r.closePath(),r.stroke(),r.restore())}(this,i.setContext(this.getContext(e-1)),o,r)}})),n.display){for(t.save(),s=r-1;s>=0;s--){const i=n.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:l}=i;l&&r&&(t.lineWidth=l,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),a=this.getPointPosition(s,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(a.x,a.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=v_(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=m_(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}o_(t,i.label,0,-r,l,{color:a.color})})),t.restore()}drawTitle(){}}SE.id="radialLinear",SE.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},SE.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},SE.descriptors={angleLines:{_fallback:"grid"}};const EE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},CE=Object.keys(EE);function IE(t,e){return t-e}function TE(t,e){if(Zy(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),nb(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!Db(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function AE(t,e,n,i){const r=CE.length;for(let s=CE.indexOf(t);s<r-1;++s){const t=EE[CE[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return CE[s]}return CE[r-1]}function ME(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=qb(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function NE(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class DE extends rk{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),i=this._adapter=new uk._date(t.adapters.date);i.init(e),fb(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:TE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=nb(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=nb(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?AE(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=CE.length-1;s>=CE.indexOf(n);s--){const n=CE[s];if(EE[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return CE[n?CE.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=CE.indexOf(t)+1,n=CE.length;e<n;++e)if(EE[CE[e]].common)return CE[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),NE(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t){let e,n,i=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),r=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;i=Hb(i,0,s),r=Hb(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||AE(r.minUnit,e,n,this._getLabelCapacity(e)),o=rb(r.stepSize,1),a="week"===s&&r.isoWeekday,l=Db(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)ME(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||ME(c,u,f),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.time.displayFormats,o=this._unit,a=this._majorUnit,l=o&&s[o],c=a&&s[a],u=n[e],h=a&&c&&u&&u.major,d=this._adapter.format(t,i||(h?c:l)),f=r.ticks.callback;return f?ob(f,[d,e,n],this):d}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Rb(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,NE(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(TE(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $b(t.sort(IE))}}function PE(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Kb(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Kb(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const c=r-i;return c?s+(o-s)*(e-i)/c:s}DE.id="time",DE.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class OE extends DE{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=PE(e,this.min),this._tableRange=PE(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(PE(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return PE(this._table,n*this._tableRange+this._minPos,!0)}}OE.id="timeseries",OE.defaults=DE.defaults;const RE=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],LE="label";function FE(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function jE(t,e){t.labels=e}function VE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LE;const i=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):G({},e)}))}function zE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE;const n={labels:[],datasets:[]};return jE(n,t.labels),VE(n,t.datasets,e),n}function UE(t,e){let{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d}=t,f=function(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,RE);const p=(0,i.useRef)(null),g=(0,i.useRef)(),m=()=>{p.current&&(g.current=new vS(p.current,{type:a,data:zE(l,o),options:c&&G({},c),plugins:u}),FE(e,g.current))},v=()=>{FE(e,null),g.current&&(g.current.destroy(),g.current=null)};return(0,i.useEffect)((()=>{var t,e;!s&&g.current&&c&&(t=g.current,e=c,Object.assign(t.options,e))}),[s,c]),(0,i.useEffect)((()=>{!s&&g.current&&jE(g.current.config.data,l.labels)}),[s,l.labels]),(0,i.useEffect)((()=>{!s&&g.current&&l.datasets&&VE(g.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,i.useEffect)((()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,i.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[a]),(0,i.useEffect)((()=>(m(),()=>v())),[]),i.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),h)}const BE=(0,i.forwardRef)(UE);function HE(t,e){return vS.register(e),(0,i.forwardRef)(((e,n)=>i.createElement(BE,Object.assign({},e,{ref:n,type:t}))))}const WE=HE("bar",zx);vS.register(cE,fE,HS,QS,aE,KS);const qE=()=>{const{allPedidos:t,loadingData:e}=$y();if(e)return(0,Cy.jsx)("div",{className:"card",children:(0,Cy.jsx)("h2",{children:"Carregando Dashboard..."})});const n=t.reduce(((t,e)=>{const n=e.fornecedorNome||"Sem Fornecedor",i=e.valorTotal||0;return t[n]=(t[n]||0)+i,t}),{}),i={labels:Object.keys(n),datasets:[{label:"Gastos Totais por Fornecedor (R$)",data:Object.values(n),backgroundColor:"rgba(0, 123, 255, 0.6)",borderColor:"rgba(0, 123, 255, 1)",borderWidth:1}]};return(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(By,{})," Dashboard Gerencial"]}),(0,Cy.jsx)("div",{className:"divider"}),(0,Cy.jsx)("h3",{children:"Gastos por Fornecedor"}),(0,Cy.jsx)("div",{style:{height:"400px",position:"relative"},children:(0,Cy.jsx)(WE,{data:i,options:{maintainAspectRatio:!1,responsive:!0}})})]})},KE=(t,e)=>function(t,e){const n=Tg(t.firestore,Vg),i=Lg(t),r=Am(t.converter,e);return Fm(n,[Zg(Jg(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Oh.exists(!1))]).then((()=>i))}(Rg(Sy,t),G(G({},e),{},{criadoEm:Vm()})),GE=(t,e,n)=>Lm(Lg(Sy,t,e),G(G({},n),{},{atualizadoEm:Vm()})),QE=(t,e)=>{const n=Lg(Sy,t,e);return Fm(Tg((i=n).firestore,Vg),[new Gh(i._key,Oh.none())]);var i},YE=(t,e,n)=>function(t,e,n){t=Tg(t,Dg);const i=Tg(t.firestore,Vg),r=Am(t.converter,e,n);return Fm(i,[Zg(Jg(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,Oh.none())])}(Lg(Sy,t,e),G(G({},n),{},{atualizadoEm:Vm()}),{merge:!0}),$E=t=>{let e=(t||"").replace(/\D/g,"");return e?e.length<10?null:e.length>=12&&e.startsWith("55")?e:11===e.length||10===e.length?"55".concat(e):null:null},XE=t=>{const e=String(t||"").replace(/\D/g,"");if(e.startsWith("55")){const t=e.substring(2);if(11===t.length)return"(".concat(t.substring(0,2),") ").concat(t.substring(2,7),"-").concat(t.substring(7));if(10===t.length)return"(".concat(t.substring(0,2),") ").concat(t.substring(2,6),"-").concat(t.substring(6))}return t},JE=t=>"number"!==typeof t?"R$ 0,00000":"R$ ".concat(t.toFixed(5).replace(".",",")),ZE=()=>{const{fornecedores:t,produtosDeCompra:e}=$y(),{showModal:n}=Dy(),{user:r}=Ay(),[s,o]=(0,i.useState)({}),[a,l]=(0,i.useState)({produtoId:"",qtd:1,fornecedorId:"",observacao:""});return(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(Ly,{})," Fazer um Pedido"]}),(0,Cy.jsxs)("form",{onSubmit:t=>{t.preventDefault();const{produtoId:i,qtd:r,fornecedorId:c,observacao:u}=a,h=e.find((t=>t.id===i));if(!h||r<=0)return void n("Selecione um produto e quantidade v\xe1lidos.");const d=G({},s);d[c]||(d[c]=[]),d[c].push({id:i,nome:h.nome,qtd:Number(r),observacao:u,unidade:h.detalheCompra.unidadeCompra}),o(d),l({produtoId:"",qtd:1,fornecedorId:a.fornecedorId,observacao:""})},children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"1. Fornecedor"}),(0,Cy.jsxs)("select",{value:a.fornecedorId,onChange:t=>l(G(G({},a),{},{fornecedorId:t.target.value,produtoId:""})),required:!0,children:[(0,Cy.jsx)("option",{value:"",children:"Selecione..."}),t.map((t=>(0,Cy.jsx)("option",{value:t.id,children:t.nome},t.id)))]})]}),a.fornecedorId&&(0,Cy.jsxs)(Cy.Fragment,{children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"2. Produto do Cat\xe1logo"}),(0,Cy.jsxs)("select",{value:a.produtoId,onChange:t=>l(G(G({},a),{},{produtoId:t.target.value})),required:!0,children:[(0,Cy.jsx)("option",{value:"",children:"Selecione..."}),e.filter((t=>t.fornecedorId===a.fornecedorId)).map((t=>(0,Cy.jsxs)("option",{value:t.id,children:[t.nome," (",t.detalheCompra.unidadeCompra,")"]},t.id)))]})]}),(0,Cy.jsxs)("div",{className:"form-group-inline",children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"3. Quantidade"}),(0,Cy.jsx)("input",{type:"number",value:a.qtd,onChange:t=>l(G(G({},a),{},{qtd:t.target.value})),min:"1",required:!0})]}),(0,Cy.jsxs)("div",{className:"form-group",style:{flex:2},children:[(0,Cy.jsx)("label",{children:"Observa\xe7\xe3o (Opcional)"}),(0,Cy.jsx)("input",{type:"text",value:a.observacao,onChange:t=>l(G(G({},a),{},{observacao:t.target.value})),placeholder:"Ex: Sem cebola"})]})]}),(0,Cy.jsx)("button",{type:"submit",className:"button-secondary",children:"Adicionar ao Carrinho"})]})]}),(0,Cy.jsx)("div",{className:"divider"}),(0,Cy.jsx)("h3",{children:"Itens no Carrinho"}),(0,Cy.jsx)("div",{className:"list-container",children:Object.keys(s).length>0?Object.keys(s).map((e=>{const i=t.find((t=>t.id===e));return(0,Cy.jsxs)("div",{className:"pedido-fornecedor",children:[(0,Cy.jsxs)("h4",{children:["Pedido para: ",(null===i||void 0===i?void 0:i.nome)||"..."]}),s[e].map(((t,n)=>(0,Cy.jsxs)("div",{className:"pedido-item",children:[(0,Cy.jsxs)("span",{children:[t.qtd,"x ",t.nome," ",t.observacao&&(0,Cy.jsxs)("em",{className:"sub-text",children:["(",t.observacao,")"]})]}),(0,Cy.jsx)("button",{className:"button-icon",onClick:()=>{const t=G({},s);t[e].splice(n,1),0===t[e].length&&delete t[e],o(t)},children:(0,Cy.jsx)(Fy,{})})]},n))),(0,Cy.jsx)("button",{onClick:()=>(async e=>{const i=t.find((t=>t.id===e)),a=s[e];if(!i||!a||0===a.length)return void n("N\xe3o h\xe1 itens no pedido para este fornecedor.");let l="Ol\xe1, *".concat(i.nome,"*!\nGostaria de fazer o seguinte pedido:\n\n");a.forEach((t=>{l+="- ".concat(t.qtd,"x ").concat(t.nome," (").concat(t.unidade,")"),t.observacao&&(l+=" (Obs: ".concat(t.observacao,")")),l+="\n"}));const c="https://wa.me/".concat($E(i.whatsapp),"?text=").concat(encodeURIComponent(l));window.open(c,"_blank");try{await KE("pedidosRealizados",{fornecedorId:i.id,fornecedorNome:i.nome,itens:a,solicitanteEmail:r.isAnonymous?"Colaborador An\xf4nimo":r.email,status:"enviado"})}catch(h){n("Erro ao salvar pedido no hist\xf3rico: "+h.message)}const u=G({},s);delete u[e],o(u)})(e),className:"button-primary",children:"Enviar Pedido"})]},e)})):(0,Cy.jsx)("p",{className:"sub-text",children:"Seu carrinho est\xe1 vazio."})})]})},tC=()=>{const{showModal:t,showConfirmationModal:e}=Dy(),{fornecedores:n}=$y(),[r,s]=(0,i.useState)(null),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),p=(0,i.useMemo)((()=>n.filter((t=>t.nome.toLowerCase().includes(d.toLowerCase())))),[n,d]),g=()=>{s(null),a(""),c(""),h("")};return(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(Oy,{})," Gerenciar Fornecedores"]}),(0,Cy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=$E(l);if(!o||!n)return void t("Preencha o nome e um WhatsApp v\xe1lido.");const i={nome:o,whatsapp:n,observacoes:u||null};try{r?(await GE("fornecedores",r.id,i),t("Fornecedor atualizado!")):(await KE("fornecedores",i),t("Fornecedor salvo!")),g()}catch(s){t("Erro ao salvar: "+s.message)}},children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Nome"}),(0,Cy.jsx)("input",{type:"text",value:o,onChange:t=>a(t.target.value),placeholder:"Nome da empresa",required:!0})]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"WhatsApp"}),(0,Cy.jsx)("input",{type:"text",value:l,onChange:t=>c(t.target.value),placeholder:"(XX) XXXXX-XXXX",required:!0})]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Observa\xe7\xf5es"}),(0,Cy.jsx)("input",{type:"text",value:u,onChange:t=>h(t.target.value),placeholder:"Ex: Entregas \xe0s ter\xe7as"})]}),(0,Cy.jsx)("button",{type:"submit",className:"button-primary",children:r?"Atualizar Fornecedor":"Adicionar Fornecedor"}),r&&(0,Cy.jsx)("button",{type:"button",onClick:g,className:"button-link",children:"Cancelar Edi\xe7\xe3o"})]}),(0,Cy.jsx)("div",{className:"divider"}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Buscar Fornecedor"}),(0,Cy.jsxs)("div",{className:"input-with-icon",children:[(0,Cy.jsx)(Hy,{}),(0,Cy.jsx)("input",{type:"text",value:d,onChange:t=>f(t.target.value),placeholder:"Digite para buscar..."})]})]}),(0,Cy.jsx)("div",{className:"list-container",children:p.map((n=>(0,Cy.jsxs)("div",{className:"list-item",children:[(0,Cy.jsxs)("div",{className:"list-item-info",children:[(0,Cy.jsx)("p",{children:(0,Cy.jsx)("strong",{children:n.nome})}),(0,Cy.jsx)("a",{href:"https://wa.me/".concat(n.whatsapp),target:"_blank",rel:"noopener noreferrer",children:XE(n.whatsapp)}),n.observacoes&&(0,Cy.jsxs)("p",{className:"sub-text",children:["Obs: ",n.observacoes]})]}),(0,Cy.jsxs)("div",{className:"list-item-actions",children:[(0,Cy.jsx)("button",{className:"button-icon",onClick:()=>{return s(t=n),a(t.nome),c(t.whatsapp),void h(t.observacoes||"");var t},children:(0,Cy.jsx)(jy,{})}),(0,Cy.jsx)("button",{className:"button-icon",onClick:()=>(n=>{e("Excluir este fornecedor?",(async()=>{try{await QE("fornecedores",n),t("Fornecedor exclu\xeddo.")}catch(e){t("Erro ao excluir: "+e.message)}}))})(n.id),children:(0,Cy.jsx)(Fy,{})})]})]},n.id)))})]})},eC=()=>{const{showModal:t,showConfirmationModal:e}=Dy(),{produtosDeCompra:n,fornecedores:r}=$y(),s={nome:"",fornecedorId:"",detalheCompra:{tipoBase:"peso",unidadeCompra:"",conteudo:"",unidadeConteudo:"kg"}},[o,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(s),[u,h]=(0,i.useState)(""),d=(0,i.useMemo)((()=>n.filter((t=>t.nome.toLowerCase().includes(u.toLowerCase())))),[n,u]),f=t=>{const{name:e,value:n}=t.target;if(e.startsWith("detalheCompra.")){const t=e.split(".")[1];if("tipoBase"===t){const t="peso"===n?"kg":"ml";c((e=>G(G({},e),{},{detalheCompra:G(G({},e.detalheCompra),{},{tipoBase:n,unidadeConteudo:t})})))}else c((e=>G(G({},e),{},{detalheCompra:G(G({},e.detalheCompra),{},{[t]:n})})))}else c((t=>G(G({},t),{},{[e]:n})))},p=()=>{a(null),c(s)};return(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(Wy,{})," Gerenciar Cat\xe1logo de Compra"]}),(0,Cy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{nome:n,fornecedorId:i,detalheCompra:r}=l;if(!n||!i||!r.unidadeCompra||!r.conteudo)return void t("Preencha todos os campos obrigat\xf3rios do produto.");const s=(t=>{const{tipoBase:e,conteudo:n,unidadeConteudo:i}=t,r=parseFloat(String(n).replace(",","."));return isNaN(r)?null:"peso"===e?{valor:"kg"===i?1e3*r:r,unidade:"g"}:"volume"===e?{valor:"L"===i?1e3*r:r,unidade:"ml"}:"unidade"===e?{valor:r,unidade:"un"}:null})(r);if(!s)return void t("Medida inv\xe1lida. Verifique os valores de conte\xfado.");const a={nome:n,fornecedorId:i,detalheCompra:r,medidaPadrao:s};try{o?(await GE("produtosDeCompra",o.id,a),t("Produto atualizado!")):(await KE("produtosDeCompra",a),t("Produto salvo no cat\xe1logo!")),p()}catch(c){t("Erro ao salvar: "+c.message)}},children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Nome do Produto no Cat\xe1logo"}),(0,Cy.jsx)("input",{name:"nome",type:"text",value:l.nome,onChange:f,placeholder:"Ex: Queijo Mussarela Pe\xe7a",required:!0})]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Como o produto \xe9 medido?"}),(0,Cy.jsxs)("select",{name:"detalheCompra.tipoBase",value:l.detalheCompra.tipoBase,onChange:f,children:[(0,Cy.jsx)("option",{value:"peso",children:"Por Peso (g, kg)"}),(0,Cy.jsx)("option",{value:"volume",children:"Por Volume (ml, L)"}),(0,Cy.jsx)("option",{value:"unidade",children:"Por Unidade (un, cx, pct)"})]})]}),(0,Cy.jsxs)("div",{className:"form-group-inline",children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Forma de Compra"}),(0,Cy.jsx)("input",{name:"detalheCompra.unidadeCompra",type:"text",value:l.detalheCompra.unidadeCompra,onChange:f,placeholder:"Ex: Pe\xe7a, Caixa",required:!0})]}),("peso"===l.detalheCompra.tipoBase||"volume"===l.detalheCompra.tipoBase)&&(0,Cy.jsxs)(Cy.Fragment,{children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Quantidade"}),(0,Cy.jsx)("input",{name:"detalheCompra.conteudo",type:"text",value:l.detalheCompra.conteudo,onChange:f,placeholder:"Ex: 2.5",required:!0})]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Medida"}),(0,Cy.jsx)("select",{name:"detalheCompra.unidadeConteudo",value:l.detalheCompra.unidadeConteudo,onChange:f,children:"peso"===l.detalheCompra.tipoBase?(0,Cy.jsxs)(Cy.Fragment,{children:[(0,Cy.jsx)("option",{value:"kg",children:"kg"}),(0,Cy.jsx)("option",{value:"g",children:"g"})]}):(0,Cy.jsxs)(Cy.Fragment,{children:[(0,Cy.jsx)("option",{value:"L",children:"L"}),(0,Cy.jsx)("option",{value:"ml",children:"ml"})]})})]})]}),"unidade"===l.detalheCompra.tipoBase&&(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"N\xba de Itens"}),(0,Cy.jsx)("input",{name:"detalheCompra.conteudo",type:"number",value:l.detalheCompra.conteudo,onChange:f,placeholder:"Ex: 12",required:!0})]})]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Fornecedor Padr\xe3o"}),(0,Cy.jsxs)("select",{name:"fornecedorId",value:l.fornecedorId,onChange:f,required:!0,children:[(0,Cy.jsx)("option",{value:"",children:"Selecione..."}),r.map((t=>(0,Cy.jsx)("option",{value:t.id,children:t.nome},t.id)))]})]}),(0,Cy.jsx)("button",{type:"submit",className:"button-primary",children:o?"Atualizar Produto":"Salvar Novo Produto"}),o&&(0,Cy.jsx)("button",{type:"button",onClick:p,className:"button-link",children:"Cancelar"})]}),(0,Cy.jsx)("div",{className:"divider"}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Buscar Produto"}),(0,Cy.jsxs)("div",{className:"input-with-icon",children:[(0,Cy.jsx)(Hy,{}),(0,Cy.jsx)("input",{type:"text",value:u,onChange:t=>h(t.target.value),placeholder:"Digite para buscar..."})]})]}),(0,Cy.jsx)("div",{className:"list-container",children:d.map((n=>{var i,s;return(0,Cy.jsxs)("div",{className:"list-item",children:[(0,Cy.jsxs)("div",{className:"list-item-info",children:[(0,Cy.jsx)("p",{children:(0,Cy.jsx)("strong",{children:n.nome})}),(0,Cy.jsxs)("p",{className:"sub-text",children:["Detalhe: ",(s=n.detalheCompra,s&&s.unidadeCompra?"".concat(s.unidadeCompra," de ").concat(s.conteudo," ").concat(s.unidadeConteudo||""):"")]}),(0,Cy.jsxs)("p",{className:"sub-text",children:["Padr\xe3o: ",n.medidaPadrao.valor,n.medidaPadrao.unidade]}),(0,Cy.jsxs)("p",{className:"sub-text",children:["Fornecedor: ",(null===(i=r.find((t=>t.id===n.fornecedorId)))||void 0===i?void 0:i.nome)||"N/A"]})]}),(0,Cy.jsxs)("div",{className:"list-item-actions",children:[(0,Cy.jsx)("button",{className:"button-icon",onClick:()=>{return a(t=n),void c({nome:t.nome,fornecedorId:t.fornecedorId,detalheCompra:t.detalheCompra});var t},children:(0,Cy.jsx)(jy,{})}),(0,Cy.jsx)("button",{className:"button-icon",onClick:()=>(n=>{e("Excluir este produto do cat\xe1logo?",(async()=>{try{await QE("produtosDeCompra",n),t("Produto exclu\xeddo.")}catch(e){t("Erro ao excluir: "+e.message)}}))})(n.id),children:(0,Cy.jsx)(Fy,{})})]})]},n.id)}))})]})},nC=()=>(0,Cy.jsxs)("div",{className:"grid-responsive",children:[(0,Cy.jsx)(tC,{}),(0,Cy.jsx)(eC,{})]}),iC=()=>{const{produtosDeCompra:t,insumos:e}=$y(),{showModal:n}=Dy(),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)("");return(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(zy,{})," Registrar Compra e Atualizar Custo"]}),(0,Cy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const i=t.find((t=>t.id===r)),l=parseFloat(String(o).replace(",","."));if(!i||isNaN(l)||l<=0)return void n("Selecione um produto e insira um valor de nota v\xe1lido.");const{medidaPadrao:c}=i;if(!c||!c.valor)return void n("O produto selecionado n\xe3o tem uma medida padr\xe3o calculada. Verifique o cadastro.");const u=l/c.valor,h={nome:i.nome,fornecedorId:i.fornecedorId,preco_por_unidade_padrao:u,unidade_padrao:c.unidade,ultima_compra_desc:"Nota de R$ ".concat(l.toFixed(2)," para ").concat(c.valor).concat(c.unidade)};try{await YE("insumos",i.id,h),await((t,e,n,i)=>{return Lm(Lg(Sy,t,e),{[n]:(r=i,new nm("increment",r))});var r})("insumos",i.id,"estoqueAtual",c.valor),n("Custo atualizado e estoque incrementado! Novo custo: ".concat(JE(u),"/").concat(c.unidade,".")),s(""),a("")}catch(d){n("Erro ao atualizar custo: "+d.message)}},children:[(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"1. Selecione o item do Cat\xe1logo"}),(0,Cy.jsxs)("select",{value:r,onChange:t=>s(t.target.value),required:!0,children:[(0,Cy.jsx)("option",{value:"",children:"Selecione um produto..."}),t.map((t=>(0,Cy.jsxs)("option",{value:t.id,children:[t.nome," (",t.detalheCompra.unidadeCompra,")"]},t.id)))]})]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"2. Valor Total da Nota Fiscal (R$)"}),(0,Cy.jsx)("input",{type:"text",value:o,onChange:t=>a(t.target.value),placeholder:"Ex: 150,25",required:!0})]}),(0,Cy.jsx)("button",{type:"submit",className:"button-primary",children:"Calcular Custo e Adicionar ao Estoque"})]}),(0,Cy.jsx)("div",{className:"divider"}),(0,Cy.jsx)("h3",{children:"Custos Atuais dos Insumos"}),(0,Cy.jsx)("div",{className:"list-container",children:e.length>0?e.map((t=>(0,Cy.jsxs)("div",{className:"list-item",children:[(0,Cy.jsxs)("div",{className:"list-item-info",children:[(0,Cy.jsx)("p",{children:(0,Cy.jsx)("strong",{children:t.nome})}),(0,Cy.jsxs)("p",{className:"sub-text",children:["Estoque: ",t.estoqueAtual||0," ",t.unidade_padrao]})]}),(0,Cy.jsxs)("p",{children:[JE(t.preco_por_unidade_padrao)," / ",t.unidade_padrao]})]},t.id))):(0,Cy.jsx)("p",{children:"Nenhum custo de insumo registrado."})})]})},rC=()=>{const{allPedidos:t,loadingData:e}=$y();return e?(0,Cy.jsx)("div",{className:"card",children:(0,Cy.jsx)("h2",{children:"Carregando Hist\xf3rico..."})}):(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(Uy,{})," Hist\xf3rico de Pedidos"]}),(0,Cy.jsx)("div",{className:"list-container",children:t.length>0?t.map((t=>{return(0,Cy.jsxs)("div",{className:"list-item",children:[(0,Cy.jsxs)("div",{className:"list-item-info",children:[(0,Cy.jsxs)("p",{children:[(0,Cy.jsx)("strong",{children:"Fornecedor:"})," ",t.fornecedorNome]}),(0,Cy.jsxs)("p",{className:"sub-text",children:[(0,Cy.jsx)("strong",{children:"Data:"})," ",(n=t.criadoEm,n&&n.seconds?new Date(1e3*n.seconds).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"Data inv\xe1lida")]}),(0,Cy.jsxs)("p",{className:"sub-text",children:[(0,Cy.jsx)("strong",{children:"Solicitante:"})," ",t.solicitanteEmail]}),(0,Cy.jsx)("ul",{children:t.itens.map(((t,e)=>(0,Cy.jsxs)("li",{children:["- ",t.qtd,"x ",t.nome]},e)))})]}),(0,Cy.jsx)("p",{children:(0,Cy.jsx)("strong",{children:(e=t.valorTotal,"number"!==typeof e?"R$ 0,00":"R$ ".concat(e.toFixed(2).replace(".",",")))})})]},t.id);var e,n})):(0,Cy.jsx)("p",{children:"Nenhum pedido no hist\xf3rico."})})]})};vS.register(cE,fE,HS,QS,aE,KS);const sC=()=>{const{insumos:t,fornecedores:e,loadingData:n}=$y(),[r,s]=(0,i.useState)(null),o=(0,i.useMemo)((()=>t.reduce(((t,e)=>{const n=e.nome;return t[n]||(t[n]=[]),t[n].push(e),t}),{})),[t]),a=(0,i.useMemo)((()=>{if(!r)return null;const t=r.map((t=>{var n;return(null===(n=e.find((e=>e.id===t.fornecedorId)))||void 0===n?void 0:n.nome)||"N/A"})),n=r.map((t=>t.preco_por_unidade_padrao));return{labels:t,datasets:[{label:"Custo por ".concat(r[0].unidade_padrao),data:n,backgroundColor:"rgba(220, 53, 69, 0.6)"}]}}),[r,e]);return n?(0,Cy.jsx)("div",{className:"card",children:(0,Cy.jsx)("h3",{children:"Carregando an\xe1lise..."})}):(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h3",{children:[(0,Cy.jsx)(Hy,{})," An\xe1lise Comparativa de Custos por Insumo"]}),(0,Cy.jsxs)("div",{className:"form-group",children:[(0,Cy.jsx)("label",{children:"Selecione um insumo para comparar os pre\xe7os de compra"}),(0,Cy.jsxs)("select",{className:"form-control",onChange:t=>{return e=t.target.value,void s(o[e]||null);var e},defaultValue:"",children:[(0,Cy.jsx)("option",{value:"",disabled:!0,children:"Escolha um insumo..."}),Object.keys(o).sort().map((t=>(0,Cy.jsx)("option",{value:t,children:t},t)))]})]}),r&&a&&(0,Cy.jsxs)("div",{children:[(0,Cy.jsx)("div",{className:"divider"}),(0,Cy.jsxs)("h4",{children:["Comparativo de Custo para: ",r[0].nome]}),(0,Cy.jsx)("div",{style:{height:"300px",position:"relative",marginBottom:"2rem"},children:(0,Cy.jsx)(WE,{data:a,options:{maintainAspectRatio:!1,responsive:!0}})}),(0,Cy.jsx)("div",{className:"list-container",style:{maxHeight:"200px"},children:r.sort(((t,e)=>t.preco_por_unidade_padrao-e.preco_por_unidade_padrao)).map((t=>{var n;return(0,Cy.jsxs)("div",{className:"list-item",children:[(0,Cy.jsx)("p",{children:(0,Cy.jsx)("strong",{children:(null===(n=e.find((e=>e.id===t.fornecedorId)))||void 0===n?void 0:n.nome)||"N/A"})}),(0,Cy.jsxs)("p",{children:[JE(t.preco_por_unidade_padrao)," / ",t.unidade_padrao]})]},t.id)}))})]})]})},oC=()=>(0,Cy.jsxs)("div",{children:[(0,Cy.jsxs)("div",{className:"card",children:[(0,Cy.jsxs)("h2",{children:[(0,Cy.jsx)(By,{})," Relat\xf3rios Gerenciais"]}),(0,Cy.jsx)("p",{children:"Esta \xe1rea \xe9 dedicada \xe0 an\xe1lise aprofundada dos dados do seu neg\xf3cio."})]}),(0,Cy.jsx)(sC,{})]}),aC=()=>{const{user:t,userRole:e,logout:n}=Ay(),{modal:r,closeModal:s,confirmationModal:o,handleConfirmAction:a,closeConfirmationModal:l}=Dy(),[c,u]=(0,i.useState)("pedidos");return(0,i.useEffect)((()=>{u("gestor"===e?"dashboard":"pedidos")}),[e]),(0,Cy.jsxs)("div",{className:"App",children:[r.isOpen&&(0,Cy.jsx)(Gy,{title:"Aviso",onConfirm:s,confirmText:"OK",children:r.message}),o.isOpen&&(0,Cy.jsx)(Gy,{title:"Confirma\xe7\xe3o",onConfirm:a,showCancel:!0,onCancel:l,confirmText:"Confirmar",children:o.message}),(0,Cy.jsxs)("header",{className:"main-header",children:[(0,Cy.jsxs)("div",{className:"user-info",children:["Bem-vindo, ",t.isAnonymous?"Colaborador":t.email," (",(0,Cy.jsx)("b",{children:e}),")"]}),(0,Cy.jsxs)("button",{onClick:n,className:"button-logout",children:[(0,Cy.jsx)(Vy,{})," Sair"]})]}),(0,Cy.jsxs)("nav",{className:"main-nav",children:["gestor"===e&&(0,Cy.jsxs)("button",{className:"nav-button ".concat("dashboard"===c?"active":""),onClick:()=>u("dashboard"),children:[(0,Cy.jsx)(By,{})," Dashboard"]}),(0,Cy.jsxs)("button",{className:"nav-button ".concat("pedidos"===c?"active":""),onClick:()=>u("pedidos"),children:[(0,Cy.jsx)(Ly,{})," Pedidos"]}),(0,Cy.jsxs)("button",{className:"nav-button ".concat("cadastros"===c?"active":""),onClick:()=>u("cadastros"),children:[(0,Cy.jsx)(Ry,{})," Cadastros"]}),"gestor"===e&&(0,Cy.jsxs)("button",{className:"nav-button ".concat("cmv"===c?"active":""),onClick:()=>u("cmv"),children:[(0,Cy.jsx)(zy,{})," CMV & Produtos"]}),"gestor"===e&&(0,Cy.jsxs)("button",{className:"nav-button ".concat("relatorios"===c?"active":""),onClick:()=>u("relatorios"),children:[(0,Cy.jsx)(By,{})," Relat\xf3rios"]}),(0,Cy.jsxs)("button",{className:"nav-button ".concat("historico"===c?"active":""),onClick:()=>u("historico"),children:[(0,Cy.jsx)(Uy,{})," Hist\xf3rico"]})]}),(0,Cy.jsxs)("main",{className:"container",children:["dashboard"===c&&"gestor"===e&&(0,Cy.jsx)(qE,{}),"pedidos"===c&&(0,Cy.jsx)(ZE,{}),"cadastros"===c&&(0,Cy.jsx)(nC,{}),"cmv"===c&&"gestor"===e&&(0,Cy.jsx)(iC,{}),"historico"===c&&(0,Cy.jsx)(rC,{}),"relatorios"===c&&"gestor"===e&&(0,Cy.jsx)(oC,{})]})]})};const lC=function(){const{user:t,loadingAuth:e,loginGestor:n,loginColaborador:r}=Ay(),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),{showModal:h}=Dy(),d=async t=>{t.preventDefault();try{await n(a,c)}catch(e){h("E-mail ou senha inv\xe1lidos.")}};return e?(0,Cy.jsx)("div",{className:"loading-screen",children:"Carregando..."}):t?(0,Cy.jsx)(aC,{}):s?(0,Cy.jsx)(Ky,{onLogin:d,onBack:()=>o(!1),email:a,setEmail:l,password:c,setPassword:u}):(0,Cy.jsx)(qy,{onColaborador:r,onShowGestorLogin:()=>o(!0)})};r.createRoot(document.getElementById("root")).render((0,Cy.jsx)(i.StrictMode,{children:(0,Cy.jsx)(Ty,{children:(0,Cy.jsx)(Ny,{children:(0,Cy.jsx)(Yy,{children:(0,Cy.jsx)(lC,{})})})})}))})();
//# sourceMappingURL=main.a71724a6.js.map